/*! For license information please see main.eca0c9c1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var i=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:u,props:r,_owner:a.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var s,r={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,s)&&!S.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:r,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,s,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===r?"."+L(l,0):r,w(o)?(s="",null!=e&&(s=e.replace(M,"$&/")+"/"),N(o,t,s,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var u=r+L(a=e[c],c);l+=N(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,s,u=r+L(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var i=[],s=0;return N(e,i,"","",function(e){return t.call(n,e,s++)}),i}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},P={transition:null},O={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=r,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=I,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),r=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:r,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,o=s>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<s&&0>r(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(m=!1,x(e),!g)if(null!==i(c))g=!0,P(_);else{var t=i(u);null!==t&&O(w,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(E),E=-1),f=!0;var r=p;try{for(x(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&s(c),x(n)}else s(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&O(w,h.startTime-n),l=!1}return l}finally{d=null,p=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,E=-1,M=5,L=-1;function N(){return!(t.unstable_now()-L<M)}function T(){if(null!==C){var e=t.unstable_now();L=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(T)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,j=D.port2;D.port1.onmessage=T,k=function(){j.postMessage(null)}}else k=function(){v(T,0)};function P(e){C=e,S||(S=!0,k())}function O(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,r){var o=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(e.sortIndex=r,n(u,e),null===i(c)&&e===i(u)&&(m?(y(E),E=-1):m=!0,O(w,r-o))):(e.sortIndex=a,n(c,e),g||f||(g=!0,P(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var i=n(950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var i=n(43),s=n(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,s,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,i)&&(n=null),i||null===s?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,i=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var A,R=Object.assign;function F(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),r=i.stack.split("\n"),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==r[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function re(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ce(e){if(e=bs(e)){if("function"!==typeof _e)throw Error(r(280));var t=e.stateNode;t&&(t=ws(t),_e(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Me(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Le(e,t){return e(t)}function Ne(){}var Te=!1;function De(e,t,n){if(Te)return e(t,n);Te=!0;try{return Le(e,t,n)}finally{Te=!1,(null!==ke||null!==Se)&&(Ne(),Me())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var i=ws(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function Ie(e,t,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ae=!1,Re=null,Fe=!1,ze=null,Ve={onError:function(e){Ae=!0,Re=e}};function Be(e,t,n,i,s,r,o,a,l){Ae=!1,Re=null,Ie.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(r(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(i=s.return)){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return We(s),e;if(o===i)return We(s),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Qe=s.unstable_shouldYield,$e=s.unstable_requestPaint,Xe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,it=s.unstable_IdlePriority,st=null,rt=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?i=ht(a):0!==(r&=o)&&(i=ht(r))}else 0!==(o=n&~s)?i=ht(o):0!==r&&(i=ht(r));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(r=t&-t)||16===s&&0!==(4194240&r)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)s=1<<(n=31-ot(t)),i|=e[n],t&=~s;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,St,Ct,Et=!1,Mt=[],Lt=null,Nt=null,Tt=null,Dt=new Map,jt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function At(e,t,n,i,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&_t(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Rt(e){var t=ys(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&_t(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Lt&&Ft(Lt)&&(Lt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),Dt.forEach(zt),jt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Mt.length){Bt(Mt[0],e);for(var n=1;n<Mt.length;n++){var i=Mt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Lt&&Bt(Lt,e),null!==Nt&&Bt(Nt,e),null!==Tt&&Bt(Tt,e),Dt.forEach(t),jt.forEach(t),n=0;n<Pt.length;n++)(i=Pt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,i){var s=bt,r=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,i)}finally{bt=s,Ht.transition=r}}function Kt(e,t,n,i){var s=bt,r=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,i)}finally{bt=s,Ht.transition=r}}function Gt(e,t,n,i){if(Wt){var s=Qt(e,t,n,i);if(null===s)Wi(e,t,i,Yt,n),It(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return Lt=At(Lt,e,t,n,i,s),!0;case"dragenter":return Nt=At(Nt,e,t,n,i,s),!0;case"mouseover":return Tt=At(Tt,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Dt.set(r,At(Dt.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,jt.set(r,At(jt.get(r)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(It(e,i),4&t&&-1<Ot.indexOf(e)){for(;null!==s;){var r=bs(s);if(null!==r&&wt(r),null===(r=Qt(e,t,n,i))&&Wi(e,t,i,Yt,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Yt=null;function Qt(e,t,n,i){if(Yt=null,null!==(e=ys(e=we(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,i=n.length,s="value"in Xt?Xt.value:Xt.textContent,r=s.length;for(e=0;e<i&&n[e]===s[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===s[r-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,i,s,r){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),hn=R({},cn,{view:0,detail:0}),dn=rn(hn),pn=R({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(pn),gn=rn(R({},pn,{dataTransfer:0})),mn=rn(R({},hn,{relatedTarget:0})),vn=rn(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),xn=rn(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var En=R({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=rn(En),Ln=rn(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=rn(R({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=rn(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=rn(Dn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var An=u&&"TextEvent"in window&&!In,Rn=u&&(!On||In&&8<In&&11>=In),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,i){Ee(i),0<(t=Ki(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fi(e,0)}function Qn(e){if(G(xs(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Kn&&(Kn.detachEvent("onpropertychange",ni),Gn=Kn=null)}function ni(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];qn(t,Gn,e,we(e)),De(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,(Kn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ri(e,t){if("click"===e)return Qn(t)}function oi(e,t){if("input"===e||"change"===e)return Qn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!h.call(t,s)||!ai(e[s],t[s]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=ui(n,r);var o=ui(n,i);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,bi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Ki(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Si={};function Ci(e){if(ki[e])return ki[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return ki[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ei=Ci("animationend"),Mi=Ci("animationiteration"),Li=Ci("animationstart"),Ni=Ci("transitionend"),Ti=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){Ti.set(e,t),l(t,[e])}for(var Pi=0;Pi<Di.length;Pi++){var Oi=Di[Pi];ji(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}ji(Ei,"onAnimationEnd"),ji(Mi,"onAnimationIteration"),ji(Li,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Ni,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ai=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Ri(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,s,o,a,l,c){if(Be.apply(this,arguments),Ae){if(!Ae)throw Error(r(198));var u=Re;Ae=!1,Re=null,Fe||(Fe=!0,ze=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Ri(s,a,c),r=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Ri(s,a,c),r=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zi(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Vi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Bi]){e[Bi]=!0,o.forEach(function(t){"selectionchange"!==t&&(Ai.has(t)||Vi(t,!1,e),Vi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,Vi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch($t(t)){case 1:var s=qt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,s){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){i=r=o;continue e}a=a.parentNode}}i=i.return}De(function(){var i=r,s=we(n),o=[];e:{var a=Ti.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Ei:case Mi:case Li:l=vn;break;case Ni:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=je(f,d))&&u.push(qi(f,g,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ln,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:xs(l),p=null==c?a:xs(c),(a=new u(g,f+"leave",l,n,s)).target=h,a.relatedTarget=p,g=null,ys(s)===i&&((u=new u(d,f+"enter",c,n,s)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Gi(p))f++;for(p=0,g=d;g;g=Gi(g))p++;for(;0<f-p;)u=Gi(u),f--;for(;0<p-f;)d=Gi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Yi(o,a,l,u,!1),null!==c&&null!==h&&Yi(o,h,c,u,!0)}if("select"===(l=(a=i?xs(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=$n;else if(Wn(a))if(Xn)m=oi;else{m=si;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ri);switch(m&&(m=m(e,i))?qn(o,m,n,s):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?xs(i):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(o,n,s);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":xi(o,n,s)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,Un=!0)),0<(v=Ki(i,b)).length&&(b=new xn(b,e,null,n,s),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Jt=Zt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ki(i,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:i}),s.data=y))}Fi(o,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ki(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=je(e,n))&&i.unshift(qi(e,r,s)),null!=(r=je(e,t))&&i.push(qi(e,r,s))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,s){for(var r=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=je(n,r))&&o.unshift(qi(n,l,a)):s||null!=(l=je(n,r))&&o.push(qi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Qi,"\n").replace($i,"")}function Zi(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(r(425))}function Ji(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(e){return rs.resolve(null).then(e).catch(as)}:is;function as(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return e.removeChild(s),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,ps="__reactProps$"+hs,fs="__reactContainer$"+hs,gs="__reactEvents$"+hs,ms="__reactListeners$"+hs,vs="__reactHandles$"+hs;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ws(e){return e[ps]||null}var _s=[],ks=-1;function Ss(e){return{current:e}}function Cs(e){0>ks||(e.current=_s[ks],_s[ks]=null,ks--)}function Es(e,t){ks++,_s[ks]=e.current,e.current=t}var Ms={},Ls=Ss(Ms),Ns=Ss(!1),Ts=Ms;function Ds(e,t){var n=e.type.contextTypes;if(!n)return Ms;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=t[s];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function js(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ps(){Cs(Ns),Cs(Ls)}function Os(e,t,n){if(Ls.current!==Ms)throw Error(r(168));Es(Ls,t),Es(Ns,n)}function Is(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(r(108,H(e)||"Unknown",s));return R({},n,i)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,Ts=Ls.current,Es(Ls,e),Es(Ns,Ns.current),!0}function Rs(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Is(e,t,Ts),i.__reactInternalMemoizedMergedChildContext=e,Cs(Ns),Cs(Ls),Es(Ls,e)):Cs(Ns),Es(Ns,n)}var Fs=null,zs=!1,Vs=!1;function Bs(e){null===Fs?Fs=[e]:Fs.push(e)}function Us(){if(!Vs&&null!==Fs){Vs=!0;var e=0,t=bt;try{var n=Fs;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fs=null,zs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ge(Je,Us),s}finally{bt=t,Vs=!1}}return null}var Hs=[],Ws=0,qs=null,Ks=0,Gs=[],Ys=0,Qs=null,$s=1,Xs="";function Zs(e,t){Hs[Ws++]=Ks,Hs[Ws++]=qs,qs=e,Ks=t}function Js(e,t,n){Gs[Ys++]=$s,Gs[Ys++]=Xs,Gs[Ys++]=Qs,Qs=e;var i=$s;e=Xs;var s=32-ot(i)-1;i&=~(1<<s),n+=1;var r=32-ot(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,$s=1<<32-ot(t)+s|n<<s|i,Xs=r+e}else $s=1<<r|n<<s|i,Xs=e}function er(e){null!==e.return&&(Zs(e,1),Js(e,1,0))}function tr(e){for(;e===qs;)qs=Hs[--Ws],Hs[Ws]=null,Ks=Hs[--Ws],Hs[Ws]=null;for(;e===Qs;)Qs=Gs[--Ys],Gs[Ys]=null,Xs=Gs[--Ys],Gs[Ys]=null,$s=Gs[--Ys],Gs[Ys]=null}var nr=null,ir=null,sr=!1,rr=null;function or(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ar(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ir=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ir=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qs?{id:$s,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,ir=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(sr){var t=ir;if(t){var n=t;if(!ar(e,t)){if(lr(e))throw Error(r(418));t=cs(n.nextSibling);var i=nr;t&&ar(e,t)?or(i,n):(e.flags=-4097&e.flags|2,sr=!1,nr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,sr=!1,nr=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function hr(e){if(e!==nr)return!1;if(!sr)return ur(e),sr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ir)){if(lr(e))throw dr(),Error(r(418));for(;t;)or(e,t),t=cs(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ir=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ir=null}}else ir=nr?cs(e.stateNode.nextSibling):null;return!0}function dr(){for(var e=ir;e;)e=cs(e.nextSibling)}function pr(){ir=nr=null,sr=!1}function fr(e){null===rr?rr=[e]:rr.push(e)}var gr=x.ReactCurrentBatchConfig;function mr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var s=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function br(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Rc(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===k?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===j&&yr(r)===t.type)?((i=s(t,n.props)).ref=mr(e,t,n),i.return=e,i):((i=Oc(n.type,n.key,n.props,null,e.mode,i)).ref=mr(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,i,r){return null===t||7!==t.tag?((t=Ic(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=mr(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vr(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,i):null;case _:return n.key===s?u(e,t,n,i):null;case j:return p(e,t,(s=n._init)(n._payload),i)}if(te(n)||I(n))return null!==s?null:h(e,t,n,i,null);vr(e,n)}return null}function f(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case _:return u(t,e=e.get(null===i.key?n:i.key)||null,i,s);case j:return f(e,t,n,(0,i._init)(i._payload),s)}if(te(i)||I(i))return h(t,e=e.get(n)||null,i,s,null);vr(t,i)}return null}function g(s,r,a,l){for(var c=null,u=null,h=r,g=r=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(s,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(s,h),r=o(v,r,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(s,h),sr&&Zs(s,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(s,a[g],l))&&(r=o(h,r,g),null===u?c=h:u.sibling=h,u=h);return sr&&Zs(s,g),c}for(h=i(s,h);g<a.length;g++)null!==(m=f(h,s,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),r=o(m,r,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(s,e)}),sr&&Zs(s,g),c}function m(s,a,l,c){var u=I(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(s,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(s,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(s,g),sr&&Zs(s,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(s,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return sr&&Zs(s,m),u}for(g=i(s,g);!y.done;m++,y=l.next())null!==(y=f(g,s,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach(function(e){return t(s,e)}),sr&&Zs(s,m),u}return function e(i,r,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=r;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(i,u.sibling),(r=s(u,o.props.children)).return=i,i=r;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&yr(c)===u.type){n(i,u.sibling),(r=s(u,o.props)).ref=mr(i,u,o),r.return=i,i=r;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===k?((r=Ic(o.props.children,i.mode,l,o.key)).return=i,i=r):((l=Oc(o.type,o.key,o.props,null,i.mode,l)).ref=mr(i,r,o),l.return=i,i=l)}return a(i);case _:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(i,r.sibling),(r=s(r,o.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=Fc(o,i.mode,l)).return=i,i=r}return a(i);case j:return e(i,r,(u=o._init)(o._payload),l)}if(te(o))return g(i,r,o,l);if(I(o))return m(i,r,o,l);vr(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,o)).return=i,i=r):(n(i,r),(r=Rc(o,i.mode,l)).return=i,i=r),a(i)):n(i,r)}}var xr=br(!0),wr=br(!1),_r=Ss(null),kr=null,Sr=null,Cr=null;function Er(){Cr=Sr=kr=null}function Mr(e){var t=_r.current;Cs(_r),e._currentValue=t}function Lr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){kr=e,Cr=Sr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(Cr!==e)if(e={context:e,memoizedValue:t,next:null},null===Sr){if(null===kr)throw Error(r(308));Sr=e,kr.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Dr=null;function jr(e){null===Dr?Dr=[e]:Dr.push(e)}function Pr(e,t,n,i){var s=t.interleaved;return null===s?(n.next=n,jr(t)):(n.next=s.next,s.next=n),t.interleaved=n,Or(e,i)}function Or(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ir=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ll)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Or(e,n)}return null===(s=i.interleaved)?(t.next=t,jr(i)):(t.next=s.next,s.next=t),i.interleaved=t,Or(e,n)}function Vr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Br(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ur(e,t,n,i){var s=e.updateQueue;Ir=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?r=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=s.baseState;for(o=0,u=c=l=null,a=r;;){var d=a.lane,p=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=R({},h,d);break e;case 2:Ir=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Al|=o,e.lanes=o,e.memoizedState=h}}function Hr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(r(191,s));s.call(i)}}}var Wr={},qr=Ss(Wr),Kr=Ss(Wr),Gr=Ss(Wr);function Yr(e){if(e===Wr)throw Error(r(174));return e}function Qr(e,t){switch(Es(Gr,t),Es(Kr,e),Es(qr,Wr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(qr),Es(qr,t)}function $r(){Cs(qr),Cs(Kr),Cs(Gr)}function Xr(e){Yr(Gr.current);var t=Yr(qr.current),n=le(t,e.type);t!==n&&(Es(Kr,e),Es(qr,n))}function Zr(e){Kr.current===e&&(Cs(qr),Cs(Kr))}var Jr=Ss(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=x.ReactCurrentDispatcher,so=x.ReactCurrentBatchConfig,ro=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(r(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function mo(e,t,n,i,s,o){if(ro=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Jo:ea,e=n(i,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(r(301));o+=1,lo=ao=null,t.updateQueue=null,io.current=ta,e=n(i,s)}while(uo)}if(io.current=Zo,t=null!==ao&&null!==ao.next,ro=0,lo=ao=oo=null,co=!1,t)throw Error(r(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ao,s=i.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((ro&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,oo.lanes|=h,Al|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(ba=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Al|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ai(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ko(){}function So(e,t){var n=oo,i=bo(),s=t(),o=!ai(i.memoizedState,s);if(o&&(i.memoizedState=s,ba=!0),i=i.queue,Ao(Mo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Do(9,Eo.bind(null,n,i,s,t),void 0,null),null===Nl)throw Error(r(349));0!==(30&ro)||Co(n,t,s)}return s}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,i){t.value=n,t.getSnapshot=i,Lo(t)&&No(e)}function Mo(e,t,n){return n(function(){Lo(t)&&No(e)})}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function No(e){var t=Or(e,1);null!==t&&nc(t,e,1,-1)}function To(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Do(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function jo(){return bo().memoizedState}function Po(e,t,n,i){var s=yo();oo.flags|=e,s.memoizedState=Do(1|t,n,void 0,void 0===i?null:i)}function Oo(e,t,n,i){var s=bo();i=void 0===i?null:i;var r=void 0;if(null!==ao){var o=ao.memoizedState;if(r=o.destroy,null!==i&&go(i,o.deps))return void(s.memoizedState=Do(t,n,r,i))}oo.flags|=e,s.memoizedState=Do(1|t,n,r,i)}function Io(e,t){return Po(8390656,8,e,t)}function Ao(e,t){return Oo(2048,8,e,t)}function Ro(e,t){return Oo(4,2,e,t)}function Fo(e,t){return Oo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,zo.bind(null,t,e),n)}function Bo(){}function Uo(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&ro)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ai(n,t)||(n=gt(),oo.lanes|=n,Al|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=i}}function Ko(){return bo().memoizedState}function Go(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))$o(t,n);else if(null!==(n=Pr(e,t,n,i))){nc(n,e,i,ec()),Xo(n,t,i)}}function Yo(e,t,n){var i=tc(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(s.next=s,jr(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Pr(e,t,s,i))&&(nc(n,e,i,s=ec()),Xo(n,t,i))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:Tr,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Jo={readContext:Tr,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:Io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Go.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:To,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,s=yo();if(sr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Nl)throw Error(r(349));0!==(30&ro)||Co(i,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Io(Mo.bind(null,i,o,e),[e]),i.flags|=2048,Do(9,Eo.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Nl.identifierPrefix;if(sr){var n=Xs;t=":"+t+"R"+(n=($s&~(1<<32-ot($s)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Tr,useCallback:Uo,useContext:Tr,useEffect:Ao,useImperativeHandle:Vo,useInsertionEffect:Ro,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:jo,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),ao.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Tr,useCallback:Uo,useContext:Tr,useEffect:Ao,useImperativeHandle:Vo,useInsertionEffect:Ro,useLayoutEffect:Fo,useMemo:Ho,useReducer:_o,useRef:jo,useState:function(){return _o(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[_o(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),s=tc(e),r=Fr(i,s);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=zr(e,r,s))&&(nc(t,e,s,i),Vr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),s=tc(e),r=Fr(i,s);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=zr(e,r,s))&&(nc(t,e,s,i),Vr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),s=Fr(n,i);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zr(e,s,i))&&(nc(t,e,i,n),Vr(t,e,i))}};function ra(e,t,n,i,s,r,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(s,r))}function oa(e,t,n){var i=!1,s=Ms,r=t.contextType;return"object"===typeof r&&null!==r?r=Tr(r):(s=js(t)?Ts:Ls.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ds(e,s):Ms),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ar(e);var r=t.contextType;"object"===typeof r&&null!==r?s.context=Tr(r):(r=js(t)?Ts:Ls.current,s.context=Ds(e,r)),s.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ia(e,t,r,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Ur(e,n,s,i),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var s=n}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,ql=i),ha(0,t)},n}function fa(e,t,n){(n=Fr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){ha(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fr(-1,1)).tag=2,zr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,i){t.child=null===e?wr(t,null,n,i):xr(t,e.child,n,i)}function wa(e,t,n,i,s){n=n.render;var r=t.ref;return Nr(t,s),i=mo(e,t,n,i,r,s),n=vo(),null===e||ba?(sr&&n&&er(t),t.flags|=1,xa(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s))}function _a(e,t,n,i,s){if(null===e){var r=n.type;return"function"!==typeof r||jc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,ka(e,t,r,i,s))}if(r=e.child,0===(e.lanes&s)){var o=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Wa(e,t,s)}return t.flags|=1,(e=Pc(r,i)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,i,s){if(null!==e){var r=e.memoizedProps;if(li(r,i)&&e.ref===t.ref){if(ba=!1,t.pendingProps=i=r,0===(e.lanes&s))return t.lanes=e.lanes,Wa(e,t,s);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,i,s)}function Sa(e,t,n){var i=t.pendingProps,s=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Pl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(Pl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Es(Pl,jl),jl|=i}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Es(Pl,jl),jl|=i;return xa(e,t,s,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,i,s){var r=js(n)?Ts:Ls.current;return r=Ds(t,r),Nr(t,s),n=mo(e,t,n,i,r,s),i=vo(),null===e||ba?(sr&&i&&er(t),t.flags|=1,xa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s))}function Ma(e,t,n,i,s){if(js(n)){var r=!0;As(t)}else r=!1;if(Nr(t,s),null===t.stateNode)Ha(e,t),oa(t,n,i),la(t,n,i,s),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Tr(c):c=Ds(t,c=js(n)?Ts:Ls.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,o,i,c),Ir=!1;var d=t.memoizedState;o.state=d,Ur(t,i,o,s),l=t.memoizedState,a!==i||d!==l||Ns.current||Ir?("function"===typeof u&&(ia(t,n,u,i),l=t.memoizedState),(a=Ir||ra(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Rr(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Tr(l):l=Ds(t,l=js(n)?Ts:Ls.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,i,l),Ir=!1,d=t.memoizedState,o.state=d,Ur(t,i,o,s);var f=t.memoizedState;a!==h||d!==f||Ns.current||Ir?("function"===typeof p&&(ia(t,n,p,i),f=t.memoizedState),(c=Ir||ra(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return La(e,t,n,i,r,s)}function La(e,t,n,i,s,r){Ca(e,t);var o=0!==(128&t.flags);if(!i&&!o)return s&&Rs(t,n,!1),Wa(e,t,r);i=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=xr(t,e.child,null,r),t.child=xr(t,null,a,r)):xa(e,t,a,r),t.memoizedState=i.state,s&&Rs(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Os(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Os(0,t.context,!1),Qr(e,t.containerInfo)}function Ta(e,t,n,i,s){return pr(),fr(s),t.flags|=256,xa(e,t,n,i),t.child}var Da,ja,Pa,Oa,Ia={dehydrated:null,treeContext:null,retryLane:0};function Aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ra(e,t,n){var i,s=t.pendingProps,o=Jr.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Es(Jr,1&o),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ac(l,s,0,null),e=Ic(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Aa(n),t.memoizedState=Ia,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,i=ua(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=Ac({mode:"visible",children:i.children},s,0,null),(o=Ic(o,s,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&xr(t,e.child,null,a),t.child.memoizedState=Aa(a),t.memoizedState=Ia,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,za(e,t,a,i=ua(o=Error(r(419)),i,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(i=Nl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Or(e,s),nc(i,e,s,-1))}return gc(),za(e,t,a,i=ua(Error(r(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ir=cs(s.nextSibling),nr=t,sr=!0,rr=null,null!==e&&(Gs[Ys++]=$s,Gs[Ys++]=Xs,Gs[Ys++]=Qs,$s=e.id,Xs=e.overflow,Qs=t),t=Fa(t,i.children),t.flags|=4096,t)}(e,t,l,s,i,o,n);if(a){a=s.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Pc(i,a):(a=Ic(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Aa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ia,s}return e=(a=e.child).sibling,s=Pc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fa(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,i){return null!==i&&fr(i),xr(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Lr(e.return,t,n)}function Ba(e,t,n,i,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Ua(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(xa(e,t,i.children,n),0!==(2&(i=Jr.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Es(Jr,i),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ba(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ba(t,!0,n,null,r);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ga(e,t,n){var i=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return js(t.type)&&Ps(),Ka(t),null;case 3:return i=t.stateNode,$r(),Cs(Ns),Cs(Ls),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(oc(rr),rr=null))),ja(e,t),Ka(t),null;case 5:Zr(t);var s=Yr(Gr.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Ka(t),null}if(e=Yr(qr.current),hr(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[ds]=t,i[ps]=o,e=0!==(1&t.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(s=0;s<Ii.length;s++)zi(Ii[s],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":$(i,o),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},zi("invalid",i);break;case"textarea":se(i,o),zi("invalid",i)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":K(i),J(i,o,!0);break;case"textarea":K(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Ji)}i=s,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ds]=t,e[ps]=i,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":zi("cancel",e),zi("close",e),s=i;break;case"iframe":case"object":case"embed":zi("load",e),s=i;break;case"video":case"audio":for(s=0;s<Ii.length;s++)zi(Ii[s],e);s=i;break;case"source":zi("error",e),s=i;break;case"img":case"image":case"link":zi("error",e),zi("load",e),s=i;break;case"details":zi("toggle",e),s=i;break;case"input":$(e,i),s=Q(e,i),zi("invalid",e);break;case"option":default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=R({},i,{value:void 0}),zi("invalid",e);break;case"textarea":se(e,i),s=ie(e,i),zi("invalid",e)}for(o in ye(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zi("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),J(e,i,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));if(n=Yr(Gr.current),Yr(qr.current),hr(t)){if(i=t.stateNode,n=t.memoizedProps,i[ds]=t,(o=i.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ds]=t,t.stateNode=i}return Ka(t),null;case 13:if(Cs(Jr),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sr&&null!==ir&&0!==(1&t.mode)&&0===(128&t.flags))dr(),pr(),t.flags|=98560,o=!1;else if(o=hr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[ds]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==rr&&(oc(rr),rr=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Jr.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return $r(),ja(e,t),null===e&&Ui(t.stateNode.containerInfo),Ka(t),null;case 10:return Mr(t.type._context),Ka(t),null;case 19:if(Cs(Jr),null===(o=t.memoizedState))return Ka(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)qa(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Es(Jr,1&Jr.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ul&&(t.flags|=128,i=!0,qa(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sr)return Ka(t),null}else 2*Xe()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Jr.current,Es(Jr,i?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ya(e,t){switch(tr(t),t.tag){case 1:return js(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $r(),Cs(Ns),Cs(Ls),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(Cs(Jr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(Jr),null;case 4:return $r(),null;case 10:return Mr(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Pa=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Yr(qr.current);var r,o=null;switch(n){case"input":s=Q(e,s),i=Q(e,i),o=[];break;case"select":s=R({},s,{value:void 0}),i=R({},i,{value:void 0}),o=[];break;case"textarea":s=ie(e,s),i=ie(e,i),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(u in ye(n,i),n=null,s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=s?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,i){n!==i&&(t.flags|=4)};var Qa=!1,$a=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&el(t,n,r)}s=s.next}while(s!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[ps],delete t[gs],delete t[ms],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:$a||Ja(n,t);case 6:var i=ul,s=hl;ul=null,dl(e,t,n),hl=s,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ut(e)):ls(ul,n.stateNode));break;case 4:i=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=i,hl=s;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,void 0!==o&&(0!==(2&r)||0!==(4&r))&&el(n,t,o),s=s.next}while(s!==i)}dl(e,t,n);break;case 1:if(!$a&&(Ja(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Sc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?($a=(i=$a)||null!==n.memoizedState,dl(e,t,n),$a=i):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var i=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(r(160));pl(o,a,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){Sc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&i&&null!==n&&Ja(n,n.return);break;case 5:if(gl(t,e),vl(e),512&i&&null!==n&&Ja(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(m){Sc(e,e.return,m)}}if(4&i&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(s,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):b(s,h,d,u)}switch(l){case"input":Z(s,o);break;case"textarea":re(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[ps]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(r(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Xe())),4&i&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,gl(t,e),$a=u):gl(t,e),vl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(f=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ja(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sc(i,n,m)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Za=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Sc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&i&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(de(s,""),i.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(r(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Za;){var s=Za,r=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||Qa;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Qa;var c=$a;if(Qa=o,($a=l)&&!c)for(Za=s;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?_l(s):null!==l?(l.return=o,Za=l):_l(s);for(;null!==r;)Za=r,bl(r,t,n),r=r.sibling;Za=s,Qa=a,$a=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Za=r):xl(e)}}function xl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!$a)if(null===n)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hr(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hr(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(r(163))}$a||512&t.flags&&sl(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function _l(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var s=t.return;try{i.componentDidMount()}catch(l){Sc(t,s,l)}}var r=t.return;try{sl(t)}catch(l){Sc(t,r,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var kl,Sl=Math.ceil,Cl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Ml=x.ReactCurrentBatchConfig,Ll=0,Nl=null,Tl=null,Dl=0,jl=0,Pl=Ss(0),Ol=0,Il=null,Al=0,Rl=0,Fl=0,zl=null,Vl=null,Bl=0,Ul=1/0,Hl=null,Wl=!1,ql=null,Kl=null,Gl=!1,Yl=null,Ql=0,$l=0,Xl=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Ll)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Dl?Dl&-Dl:null!==gr.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,i){if(50<$l)throw $l=0,Xl=null,Error(r(185));vt(e,n,i),0!==(2&Ll)&&e===Nl||(e===Nl&&(0===(2&Ll)&&(Rl|=n),4===Ol&&ac(e,Dl)),ic(e,i),1===n&&0===Ll&&0===(1&t.mode)&&(Ul=Xe()+500,zs&&Us()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-ot(r),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&i)||(s[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var i=dt(e,e===Nl?Dl:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zs=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),os(function(){0===(6&Ll)&&Us()}),n=null;else{switch(xt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,Jl=0,0!==(6&Ll))throw Error(r(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var i=dt(e,e===Nl?Dl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mc(e,i);else{t=i;var s=Ll;Ll|=2;var o=fc();for(Nl===e&&Dl===t||(Hl=null,Ul=Xe()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}Er(),Cl.current=o,Ll=s,null!==Tl?t=0:(Nl=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(i=s,t=rc(e,s))),1===t)throw n=Il,dc(e,0),ac(e,i),ic(e,Xe()),n;if(6===t)ac(e,i);else{if(s=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ai(r(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=mc(e,i))&&(0!==(o=ft(e))&&(i=o,t=rc(e,o))),1===t))throw n=Il,dc(e,0),ac(e,i),ic(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=is(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>s&&(s=a),i&=~o}if(i=s,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=is(wc.bind(null,e,Vl,Hl),i);break}wc(e,Vl,Hl);break;default:throw Error(r(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function rc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Ll))throw Error(r(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=rc(e,i))}if(1===n)throw n=Il,dc(e,0),ac(e,t),ic(e,Xe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),ic(e,Xe()),null}function cc(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Ul=Xe()+500,zs&&Us())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Ll)&&_c();var t=Ll;Ll|=1;var n=Ml.transition,i=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=i,Ml.transition=n,0===(6&(Ll=t))&&Us()}}function hc(){jl=Pl.current,Cs(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Tl)for(n=Tl.return;null!==n;){var i=n;switch(tr(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ps();break;case 3:$r(),Cs(Ns),Cs(Ls),no();break;case 5:Zr(i);break;case 4:$r();break;case 13:case 19:Cs(Jr);break;case 10:Mr(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Tl=e=Pc(e.current,null),Dl=jl=t,Ol=0,Il=null,Fl=Rl=Al=0,Vl=zl=null,null!==Dr){for(t=0;t<Dr.length;t++)if(null!==(i=(n=Dr[t]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var o=r.next;r.next=s,i.next=o}n.pending=i}Dr=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Er(),io.current=Zo,co){for(var i=oo.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}co=!1}if(ro=0,lo=ao=oo=null,uo=!1,ho=0,El.current=null,null===n||null===n.return){Ol=1,Il=t,Tl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ga(o,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(r(426))}else if(sr&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fr(ca(c,l));break e}}o=c=ca(c,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Br(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Br(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Zo,null===e?Zo:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&Al)&&0===(268435455&Rl)||ac(Nl,Dl)}function mc(e,t){var n=Ll;Ll|=2;var i=fc();for(Nl===e&&Dl===t||(Hl=null,dc(e,t));;)try{vc();break}catch(s){pc(e,s)}if(Er(),Ll=n,Cl.current=i,null!==Tl)throw Error(r(261));return Nl=null,Dl=0,Ol}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Qe();)bc(Tl)}function bc(e){var t=kl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,El.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,jl)))return void(Tl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var i=bt,s=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,i){do{_c()}while(null!==Yl);if(0!==(6&Ll))throw Error(r(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}(e,o),e===Nl&&(Tl=Nl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,function(){return _c(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var a=bt;bt=1;var l=Ll;Ll|=4,El.current=null,function(e,t){if(es=Wt,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++h===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(r(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tl,tl=!1}(e,n),ml(n,e),fi(ts),Wt=!!es,ts=es=null,e.current=n,yl(n,e,s),$e(),Ll=l,bt=a,Ml.transition=o}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Ql=s),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xl?$l++:($l=0,Xl=e):$l=0,Us()}(e,t,n,i)}finally{Ml.transition=s,bt=i}return null}function _c(){if(null!==Yl){var e=xt(Ql),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Ll))throw Error(r(331));var s=Ll;for(Ll|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var p=(h=Za).sibling,f=h.return;if(rl(h),h===u){Za=null;break}if(null!==p){p.return=f,Za=p;break}Za=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var x=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Za=x;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Sc(l,l.return,_)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Ll=s,Us(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(_){}i=!0}return i}finally{bt=n,Ml.transition=t}}return!1}function kc(e,t,n){e=zr(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){t=zr(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Dl&n)===n&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>Xe()-Bl?dc(e,0):Fl|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Or(e,t))&&(vt(e,t,n),ic(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Ec(e,n)}function Nc(e,t){return Ge(e,t)}function Tc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,i){return new Tc(e,t,n,i)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,i,s,o){var a=2;if(i=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Ic(n.children,s,o,t);case S:a=8,s|=8;break;case C:return(e=Dc(12,n,t,2|s)).elementType=C,e.lanes=o,e;case N:return(e=Dc(13,n,t,s)).elementType=N,e.lanes=o,e;case T:return(e=Dc(19,n,t,s)).elementType=T,e.lanes=o,e;case P:return Ac(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case M:a=9;break e;case L:a=11;break e;case D:a=14;break e;case j:a=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,s)).elementType=e,t.type=i,t.lanes=o,t}function Ic(e,t,n,i){return(e=Dc(7,e,i,t)).lanes=n,e}function Ac(e,t,n,i){return(e=Dc(22,e,i,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,i,s,r,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Dc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ar(r),e}function Bc(e){if(!e)return Ms;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(js(n))return Is(e,n,t)}return t}function Uc(e,t,n,i,s,r,o,a,l){return(e=Vc(n,i,!0,e,0,r,0,a,l)).context=Bc(null),n=e.current,(r=Fr(i=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,zr(n,r,s),e.current.lanes=s,vt(e,s,i),ic(e,i),e}function Hc(e,t,n,i){var s=t.current,r=ec(),o=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fr(r,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=zr(s,t,o))&&(nc(e,s,o,r),Vr(e,s,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ns.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),pr();break;case 5:Xr(t);break;case 1:js(t.type)&&As(t);break;case 4:Qr(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Es(_r,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Es(Jr,1&Jr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ra(e,t,n):(Es(Jr,1&Jr.current),null!==(e=Wa(e,t,n))?e.sibling:null);Es(Jr,1&Jr.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ua(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(Jr,Jr.current),i)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,sr&&0!==(1048576&t.flags)&&Js(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ha(e,t),e=t.pendingProps;var s=Ds(t,Ls.current);Nr(t,n),s=mo(null,t,i,e,s,n);var o=vo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,js(i)?(o=!0,As(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ar(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,i,e,n),t=La(null,t,i,!0,o,n)):(t.tag=0,sr&&o&&er(t),xa(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===D)return 14}return 2}(i),e=na(i,e),s){case 0:t=Ea(null,t,i,e,n);break e;case 1:t=Ma(null,t,i,e,n);break e;case 11:t=wa(null,t,i,e,n);break e;case 14:t=_a(null,t,i,na(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,Ea(e,t,i,s=t.elementType===i?s:na(i,s),n);case 1:return i=t.type,s=t.pendingProps,Ma(e,t,i,s=t.elementType===i?s:na(i,s),n);case 3:e:{if(Na(t),null===e)throw Error(r(387));i=t.pendingProps,s=(o=t.memoizedState).element,Rr(e,t),Ur(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ta(e,t,i,n,s=ca(Error(r(423)),t));break e}if(i!==s){t=Ta(e,t,i,n,s=ca(Error(r(424)),t));break e}for(ir=cs(t.stateNode.containerInfo.firstChild),nr=t,sr=!0,rr=null,n=wr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===s){t=Wa(e,t,n);break e}xa(e,t,i,n)}t=t.child}return t;case 5:return Xr(t),null===e&&cr(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(i,s)?a=null:null!==o&&ns(i,o)&&(t.flags|=32),Ca(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cr(t),null;case 13:return Ra(e,t,n);case 4:return Qr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xr(t,null,i,n):xa(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,wa(e,t,i,s=t.elementType===i?s:na(i,s),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Es(_r,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===s.children&&!Ns.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Fr(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Lr(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Lr(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Nr(t,n),i=i(s=Tr(s)),t.flags|=1,xa(e,t,i,n),t.child;case 14:return s=na(i=t.type,t.pendingProps),_a(e,t,i,s=na(i.type,s),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:na(i,s),Ha(e,t),t.tag=1,js(i)?(e=!0,As(t)):e=!1,Nr(t,n),oa(t,i,s),la(t,i,s,n),La(null,t,i,!0,e,n);case 19:return Ua(e,t,n);case 22:return Sa(e,t,n)}throw Error(r(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if("function"===typeof s){var a=s;s=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,s)}else o=function(e,t,n,i,s){if(s){if("function"===typeof i){var r=i;i=function(){var e=Wc(o);r.call(e)}}var o=Uc(t,i,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fs]=o.current,Ui(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof i){var a=i;i=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fs]=l.current,Ui(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,i)}),l}(n,t,e,s,i);return Wc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fs]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Ll)&&(Ul=Xe()+500,Us()))}break;case 13:uc(function(){var t=Or(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Or(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Or(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=ws(i);if(!s)throw Error(r(90));G(i),Z(i,s)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bs,xs,ws,Ee,Me,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{st=iu.inject(nu),rt=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(r(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(r(299));var n=!1,i="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,i,s),e[fs]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(r(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,o,a),e[fs]=t.current,Ui(e),i)for(e=0;e<i.length;e++)s=(s=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(r(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(r(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Jc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},766:function(e,t){var n,i,s;i=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,r={},o=0,a={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let t=this._config.newline;t||(r=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,r)),e=[...e.split(t).slice(i)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(e))&&(e=r),this.isFirstChunk=!1,this._halted=!1,i=this._partialLine+e;var r=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=r.meta.cursor,this._finished||(this._partialLine=i.substring(e-this._baseIndex),this._baseIndex=e),r&&r.data&&(this._rowCount+=r.data.length),i=this._finished||this._config.preview&&this._rowCount>=this._config.preview,s)n.postMessage({results:r,workerId:a.WORKER_ID,finished:i});else if(w(this._config.chunk)&&!t){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!w(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):s&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var s;this._config.chunkSize&&(s=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+s));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,s=(this._config.chunkSize&&(s=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,s)),t.readAsText(e,this._config.encoding));i||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function h(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function d(e){l.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=x(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=x(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,i,s,r=Math.pow(2,53),o=-r,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,h=0,d=0,p=!1,m=!1,v=[],y={data:[],errors:[],meta:{}};function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(y&&i&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(y.data=y.data.filter(function(e){return!x(e)})),k()){if(y)if(Array.isArray(y.data[0])){for(var t=0;k()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function s(t,n){for(var i=e.header?{}:[],s=0;s<t.length;s++){var a=s,u=t[s];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),o<e&&e<r))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(a=e.header?s>=v.length?"__parsed_extra":v[s]:a,u=e.transform?e.transform(u,a):u),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(u)):i[a]=u}return e.header&&(s>v.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+s,d+n):s<v.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+s,d+n)),i}var u;y&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(s),u=y.data.length):y.data=s(y.data,0),e.header&&y.meta&&(y.meta.fields=v),d+=u)}function k(){return e.header&&0===v.length}function S(e,t,n,i){e={type:e,code:t,message:n},void 0!==i&&(e.row=i),y.errors.push(e)}w(e.step)&&(s=e.step,e.step=function(t){y=t,k()?_():(_(),0!==y.data.length&&(h+=t.data.length,e.preview&&h>e.preview?n.abort():(y.data=y.data[0],s(y,u))))}),this.parse=function(s,r,o){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(s,l)),i=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(s),y.meta.delimiter=e.delimiter):((l=((t,n,i,s,r)=>{var o,l,c,u;r=r||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<r.length;h++){for(var d,p=r[h],f=0,m=0,v=0,y=(c=void 0,new g({comments:s,delimiter:p,newline:n,preview:10}).parse(t)),b=0;b<y.data.length;b++)i&&x(y.data[b])?v++:(m+=d=y.data[b].length,void 0===c?c=d:0<d&&(f+=Math.abs(d-c),c=d));0<y.data.length&&(m/=y.data.length-v),(void 0===l||f<=l)&&(void 0===u||u<m)&&1.99<m&&(l=f,o=p,u=m)}return{successful:!!(e.delimiter=o),bestDelimiter:o}})(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(i=!0,e.delimiter=a.DefaultDelimiter),y.meta.delimiter=e.delimiter),l=b(e),e.preview&&e.header&&l.preview++,t=s,n=new g(l),y=n.parse(t,r,o),_(),p?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(p=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,n.abort(),y.meta.aborted=!0,w(e.complete)&&e.complete(y),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(f(t)+"([^]*?)"+f(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var i=0,s=0;s<n.length;s++)"\n"===n[s][0]&&i++;return i>=n.length/2?"\r\n":"\r"}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t=(e=e||{}).delimiter,n=e.newline,i=e.comments,s=e.step,r=e.preview,o=e.fastMode,l=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,h=u;if(void 0!==e.escapeChar&&(h=e.escapeChar),("string"!=typeof t||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),i===t)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,p=!1;this.parse=function(a,g,m){if("string"!=typeof a)throw new Error("Input must be a string");var v=a.length,y=t.length,b=n.length,x=i.length,_=w(s),k=[],S=[],C=[],E=d=0;if(!a)return F();if(o||!1!==o&&-1===a.indexOf(u)){for(var M=a.split(n),L=0;L<M.length;L++){if(C=M[L],d+=C.length,L!==M.length-1)d+=n.length;else if(m)return F();if(!i||C.substring(0,x)!==i){if(_){if(k=[],O(C.split(t)),z(),p)return F()}else O(C.split(t));if(r&&r<=L)return k=k.slice(0,r),F(!0)}}return F()}for(var N=a.indexOf(t,d),T=a.indexOf(n,d),D=new RegExp(f(h)+f(u),"g"),j=a.indexOf(u,d);;)if(a[d]===u)for(j=d,d++;;){if(-1===(j=a.indexOf(u,j+1)))return m||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:d}),A();if(j===v-1)return A(a.substring(d,j).replace(D,u));if(u===h&&a[j+1]===h)j++;else if(u===h||0===j||a[j-1]!==h){-1!==N&&N<j+1&&(N=a.indexOf(t,j+1));var P=I(-1===(T=-1!==T&&T<j+1?a.indexOf(n,j+1):T)?N:Math.min(N,T));if(a.substr(j+1+P,y)===t){C.push(a.substring(d,j).replace(D,u)),a[d=j+1+P+y]!==u&&(j=a.indexOf(u,d)),N=a.indexOf(t,d),T=a.indexOf(n,d);break}if(P=I(T),a.substring(j+1+P,j+1+P+b)===n){if(C.push(a.substring(d,j).replace(D,u)),R(j+1+P+b),N=a.indexOf(t,d),j=a.indexOf(u,d),_&&(z(),p))return F();if(r&&k.length>=r)return F(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:d}),j++}}else if(i&&0===C.length&&a.substring(d,d+x)===i){if(-1===T)return F();d=T+b,T=a.indexOf(n,d),N=a.indexOf(t,d)}else if(-1!==N&&(N<T||-1===T))C.push(a.substring(d,N)),d=N+y,N=a.indexOf(t,d);else{if(-1===T)break;if(C.push(a.substring(d,T)),R(T+b),_&&(z(),p))return F();if(r&&k.length>=r)return F(!0)}return A();function O(e){k.push(e),E=d}function I(e){var t=0;return-1!==e&&(e=a.substring(j+1,e))&&""===e.trim()?e.length:t}function A(e){return m||(void 0===e&&(e=a.substring(d)),C.push(e),d=v,O(C),_&&z()),F()}function R(e){d=e,O(C),C=[],T=a.indexOf(n,d)}function F(i){if(e.header&&!g&&k.length&&!c){var s=k[0],r=Object.create(null),o=new Set(s);let t=!1;for(let n=0;n<s.length;n++){let i=s[n];if(r[i=w(e.transformHeader)?e.transformHeader(i,n):i]){let e,a=r[i];for(;e=i+"_"+a,a++,o.has(e););o.add(e),s[n]=e,r[i]++,t=!0,(l=null===l?{}:l)[e]=i}else r[i]=1,s[n]=i;o.add(i)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:k,errors:S,meta:{delimiter:t,linebreak:n,aborted:p,truncated:!!i,cursor:E+(g||0),renamedHeaders:l}}}function z(){s(F()),k=[],S=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return d}}function m(e){var t=e.data,n=r[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){i=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},s),!i);o++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!i&&v(t.workerId,t.results)}function v(e,t){var n=r[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete r[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function x(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return a.parse=function(t,i){var s=(i=i||{}).dynamicTyping||!1;if(w(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!w(i.transform)&&i.transform,!i.worker||!a.WORKERS_SUPPORTED)return s=null,a.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),s=new(i.download?c:h)(i)):!0===t.readable&&w(t.read)&&w(t.on)?s=new d(i):(n.File&&t instanceof File||t instanceof Object)&&(s=new u(i)),s.stream(t);(s=(()=>{var t;return!!a.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,i=e.toString();return a.BLOB_URL||(a.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=m,t.id=o++,r[t.id]=t)})()).userStep=i.step,s.userChunk=i.chunk,s.userComplete=i.complete,s.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,s.postMessage({input:t,config:i,workerId:s.id})},a.unparse=function(e,t){var n=!1,i=!0,s=",",r="\r\n",o='"',l=o+o,c=!1,u=null,h=!1,d=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(s=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(r=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+o),t.escapeFormulae instanceof RegExp?h=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(h=/^[=+\-@\t\r].*$/)}})(),new RegExp(f(o),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var o="",a=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(a&&i){for(var c=0;c<e.length;c++)0<c&&(o+=s),o+=g(e[c],c);0<t.length&&(o+=r)}for(var u=0;u<t.length;u++){var h=(a?e:t[u]).length,d=!1,p=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var f=[],m=0;m<h;m++){var v=l?e[m]:m;f.push(t[u][v])}d=""===f.join("").trim()}if(!d){for(var y=0;y<h;y++){0<y&&!p&&(o+=s);var b=a&&l?e[y]:y;o+=g(t[u][b],y)}u<t.length-1&&(!n||0<h&&!p)&&(o+=r)}}return o}function g(e,t){var i,r;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,h&&"string"==typeof e&&h.test(e)&&(e="'"+e,r=!0),i=e.toString().replace(d,l),(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(i,a.BAD_DELIMITERS)||-1<i.indexOf(s)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?o+i+o:i)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=h,a.ReadableStreamStreamer=d,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var i=e.config||{},s=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)s.push({file:this.files[r],inputElem:this,instanceConfig:t.extend({},i)})}),r(),this;function r(){if(0===s.length)w(e.complete)&&e.complete();else{var n,i,r,l,c=s[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",i=c.file,r=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:n},i,r,l));if("skip"===u.action)return void o();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void o()}var h=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(h)&&h(e,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}}function o(){s.splice(0,1),r()}}),s&&(n.onmessage=function(e){e=e.data,void 0===a.WORKER_ID&&e&&(a.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&n.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(h.prototype=Object.create(h.prototype)).constructor=h,(d.prototype=Object.create(l.prototype)).constructor=d,a},void 0===(s="function"===typeof n?n.apply(t,i):n)||(e.exports=s)},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&i;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>i[e]);return o.default=()=>i,n.d(r,o),r}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{"use strict";var e,t=n(43),i=n.t(t,2),s=n(391),r=n(950),o=n.t(r,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function g(t,n,i,s){void 0===s&&(s={});let{window:r=document.defaultView,v5Compat:o=!1}=s,u=r.history,f=e.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){f=e.Pop;let t=v(),n=null==t?null:t-m;m=t,g&&g({action:f,location:x.location,delta:n})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,u.replaceState(a({},u.state,{idx:m}),""));let x={get action(){return f},get location(){return t(r,u)},listen(e){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(l,y),g=e,()=>{r.removeEventListener(l,y),g=null}},createHref:e=>n(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let s=d(x.location,t,n);i&&i(s,t),m=v()+1;let a=h(s,m),l=x.createHref(s);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;r.location.assign(l)}o&&g&&g({action:f,location:x.location,delta:1})},replace:function(t,n){f=e.Replace;let s=d(x.location,t,n);i&&i(s,t),m=v();let r=h(s,m),a=x.createHref(s);u.replaceState(r,"",a),o&&g&&g({action:f,location:x.location,delta:0})},go:e=>u.go(e)};return x}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,i){let s=j(("string"===typeof t?f(t):t).pathname||"/",n);if(null==s)return null;let r=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let o=null;for(let a=0;null==o&&a<r.length;++a){let e=D(s);o=N(r[a],e,i)}return o}function b(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(e,s,r)=>{let o={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=R([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:L(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of x(e.path))s(e,t,i);else s(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return s?[r,""]:[r];let o=x(i.join("/")),a=[];return a.push(...o.map(e=>""===e?r:[r,e].join("/"))),s&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,_=3,k=2,S=1,C=10,E=-2,M=e=>"*"===e;function L(e,t){let n=e.split("/"),i=n.length;return n.some(M)&&(i+=E),t&&(i+=k),n.filter(e=>!M(e)).reduce((e,t)=>e+(w.test(t)?_:""===t?S:C),i)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,s={},r="/",o=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===r?t:t.slice(r.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:R([r,u.pathname]),pathnameBase:F(R([r,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(r=R([r,u.pathnameBase]))}return o}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,t?void 0:"i");return[r,i]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:s}=t;if("*"===i){let e=a[n]||"";o=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:r,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function P(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function A(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=f(e):(s=a({},e),c(!s.pathname||!s.pathname.includes("?"),P("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),P("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),P("#","search","hash",s)));let r,o=""===e||""===s.pathname,l=o?"/":s.pathname;if(null==l)r=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}r=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof e?f(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:z(i),hash:V(s)}}(s,r),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(this,arguments)}const q=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Y=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const $=t.createContext(null);function X(){return null!=t.useContext(Y)}function Z(){return X()||c(!1),t.useContext(Y).location}function J(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=de(ce.UseNavigateStable),i=t.useRef(!1);J(()=>{i.current=!0});let s=t.useCallback(function(t,s){void 0===s&&(s={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},s)))},[e,n]);return s}():function(){X()||c(!1);let e=t.useContext(q),{basename:n,future:i,navigator:s}=t.useContext(G),{matches:r}=t.useContext(Q),{pathname:o}=Z(),a=JSON.stringify(I(r,i.v7_relativeSplatPath)),l=t.useRef(!1);J(()=>{l.current=!0});let u=t.useCallback(function(t,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof t)return void s.go(t);let r=A(t,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==n&&(r.pathname="/"===r.pathname?n:R([n,r.pathname])),(i.replace?s.replace:s.push)(r,i.state,i)},[n,s,a,o,e]);return u}()}function te(e,n){let{relative:i}=void 0===n?{}:n,{future:s}=t.useContext(G),{matches:r}=t.useContext(Q),{pathname:o}=Z(),a=JSON.stringify(I(r,s.v7_relativeSplatPath));return t.useMemo(()=>A(e,JSON.parse(a),o,"path"===i),[e,a,o,i])}function ne(n,i,s,r){X()||c(!1);let{navigator:o}=t.useContext(G),{matches:a}=t.useContext(Q),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,p=Z();if(i){var g;let e="string"===typeof i?f(i):i;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),d=e}else d=p;let m=d.pathname||"/",y=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let x=ae(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,s,r);return i&&x?t.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},x):x}function ie(){let e=function(){var e;let n=t.useContext($),i=he(ce.UseRouteError),s=de(ce.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[s]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:r},i):null,null)}const se=t.createElement(ie,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:i,children:s}=e,r=t.useContext(q);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Q.Provider,{value:n},s)}function ae(e,n,i,s){var r;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===s&&(s=null),null==e){var o;if(!i)return null;if(i.errors)e=i.matches;else{if(!(null!=(o=s)&&o.v7_partialHydration&&0===n.length&&!i.initialized&&i.matches.length>0))return null;e=i.matches}}let a=e,l=null==(r=i)?void 0:r.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(i&&s&&s.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=i,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight((e,s,r)=>{let o,c=!1,d=null,p=null;var f;i&&(o=l&&s.route.id?l[s.route.id]:void 0,d=s.route.errorElement||se,u&&(h<0&&0===r?(f="route-fallback",!1||pe[f]||(pe[f]=!0),c=!0,p=null):h===r&&(c=!0,p=s.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,r+1)),m=()=>{let n;return n=o?d:c?p:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(oe,{match:s,routeContext:{outlet:e,matches:g,isDataRoute:null!=i},children:n})};return i&&(s.route.ErrorBoundary||s.route.errorElement||0===r)?t.createElement(re,{location:i.location,revalidation:i.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(q);return n||c(!1),n}function he(e){let n=t.useContext(K);return n||c(!1),n}function de(e){let n=function(){let e=t.useContext(Q);return e||c(!1),e}(),i=n.matches[n.matches.length-1];return i.route.id||c(!1),i.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:n,replace:i,state:s,relative:r}=e;X()||c(!1);let{future:o,static:a}=t.useContext(G),{matches:l}=t.useContext(Q),{pathname:u}=Z(),h=ee(),d=A(n,I(l,o.v7_relativeSplatPath),u,"path"===r),p=JSON.stringify(d);return t.useEffect(()=>h(JSON.parse(p),{replace:i,state:s,relative:r}),[h,p,r,i,s]),null}function me(e){c(!1)}function ve(n){let{basename:i="/",children:s=null,location:r,navigationType:o=e.Pop,navigator:a,static:l=!1,future:u}=n;X()&&c(!1);let h=i.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:h,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);"string"===typeof r&&(r=f(r));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:y="default"}=r,b=t.useMemo(()=>{let e=j(p,h);return null==e?null:{location:{pathname:e,search:g,hash:m,state:v,key:y},navigationType:o}},[h,p,g,m,v,y,o]);return null==b?null:t.createElement(G.Provider,{value:d},t.createElement(Y.Provider,{children:s,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});t.Component;function be(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let r=[...n,s];if(e.type===t.Fragment)return void i.push.apply(i,be(e.props.children,r));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,r)),i.push(o)}),i}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xe.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(bE){}new Map;const ke=i.startTransition;o.flushSync,i.useId;function Se(e){let{basename:n,children:i,future:s,window:r}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:r,v5Compat:!0})&&(a={}),g(function(e,t){let{pathname:n,search:i,hash:s}=e.location;return d("",{pathname:n,search:i,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,a)));let l=o.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},f=t.useCallback(e=>{h&&ke?ke(()=>u(e)):u(e)},[u,h]);return t.useLayoutEffect(()=>l.listen(f),[l,f]),t.useEffect(()=>fe(s),[s]),t.createElement(ve,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:s})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=t.forwardRef(function(e,n){let i,{onClick:s,relative:r,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,viewTransition:f}=e,g=we(e,_e),{basename:m}=t.useContext(G),v=!1;if("string"===typeof h&&Ee.test(h)&&(i=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=j(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(bE){}let y=function(e,n){let{relative:i}=void 0===n?{}:n;X()||c(!1);let{basename:s,navigator:r}=t.useContext(G),{hash:o,pathname:a,search:l}=te(e,{relative:i}),u=a;return"/"!==s&&(u="/"===a?s:R([s,a])),r.createHref({pathname:u,search:l,hash:o})}(h,{relative:r}),b=function(e,n){let{target:i,replace:s,state:r,preventScrollReset:o,relative:a,viewTransition:l}=void 0===n?{}:n,c=ee(),u=Z(),h=te(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==s?s:p(u)===p(h);c(e,{replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,h,s,r,i,e,o,a,l])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:f});return t.createElement("a",xe({},g,{href:i||y,onClick:v||o?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var Le,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function De(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Te(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:t+""}function je(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){je(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ie(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const Ae=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Fe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ze=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ve=(0,t.forwardRef)((e,n)=>{let{color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c}=e,u=Ie(e,ze);return(0,t.createElement)("svg",Oe(Oe(Oe({ref:n},Fe),{},{width:s,height:s,stroke:i,strokeWidth:o?24*Number(r)/Number(s):r,className:Re("lucide",a)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[n,i]=e;return(0,t.createElement)(n,i)}),...Array.isArray(l)?l:[l]])}),Be=["className"],Ue=(e,n)=>{const i=(0,t.forwardRef)((i,s)=>{let{className:r}=i,o=Ie(i,Be);return(0,t.createElement)(Ve,Oe({ref:s,iconNode:n,className:Re("lucide-".concat((a=Ae(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),r)},o));var a});return i.displayName=Ae(e),i},He=Ue("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),We=Ue("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),qe=Ue("cloud-rain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),Ke=Ue("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ge=Ue("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ye=Ue("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Qe=Ue("sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),$e=Ue("sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),Xe=Ue("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),Ze=Ue("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Je=Ue("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),et=Ue("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),tt=Ue("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nt=Ue("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),it=Ue("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),st=Ue("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),rt=Ue("server-crash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),ot=Ue("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),at=Ue("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),lt=Ue("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var ct=n(579);const ut=e=>{let{selected:t,onSelectionChange:n,options:i}=e;const[s,r]=i;return(0,ct.jsxs)("div",{className:"relative flex w-60 items-center rounded-full bg-green-600 p-1",children:[(0,ct.jsx)("span",{className:"absolute h-[calc(100%-8px)] w-[calc(50%-4px)] rounded-full bg-white shadow-md transition-transform duration-300 ease-in-out",style:{transform:t===s?"translateX(0)":"translateX(calc(100% + 4px))"}}),(0,ct.jsx)("button",{onClick:()=>n(s),className:"relative z-10 flex-1 rounded-full py-1.5 text-sm font-bold transition-colors duration-300 ease-in-out focus:outline-none",style:{color:t===s?"#22c55e":"white"},children:s}),(0,ct.jsx)("button",{onClick:()=>n(r),className:"relative z-10 flex-1 rounded-full py-1.5 text-sm font-bold transition-colors duration-300 ease-in-out focus:outline-none",style:{color:t===r?"#22c55e":"white"},children:r})]})},ht=e=>{let{onMenuClick:n,notifications:i=15,user:s={initials:"VG",name:"Admin"}}=e;const r=ee(),o=Z(),a=(()=>{const e=(new Date).getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"})(),l=(0,t.useMemo)(()=>o.pathname.includes("/key-lime")?"Key Lime":"Kasturi Lime",[o.pathname]);return(0,ct.jsx)("header",{className:"bg-white shadow-sm border-b border-slate-200 px-4 sm:px-6 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsx)("button",{onClick:n,className:"lg:hidden p-2 rounded-full hover:bg-slate-100 transition-colors","aria-label":"Open menu",children:(0,ct.jsx)(at,{className:"w-6 h-6 text-slate-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-xl font-bold text-slate-800",children:[a,", ",(0,ct.jsx)("span",{className:"font-semibold text-green-600",children:s.name}),"!"]}),(0,ct.jsx)("p",{className:"hidden md:block text-sm text-slate-500",children:"Welcome to your agricultural command center."})]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsx)(ut,{selected:l,onSelectionChange:e=>{"Key Lime"===e?r("/overview/key-lime"):"Kasturi Lime"===e&&r("/overview/kasturi-lime")},options:["Kasturi Lime","Key Lime"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsxs)("button",{className:"relative p-2 rounded-full hover:bg-slate-100 transition-colors","aria-label":"Notifications",children:[(0,ct.jsx)(lt,{className:"w-6 h-6 text-slate-500"}),i>0&&(0,ct.jsx)("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center",children:i>99?"99+":i})]}),(0,ct.jsx)("button",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center ring-2 ring-offset-2 ring-offset-white ring-transparent hover:ring-green-200 transition-all","aria-label":"User profile",children:(0,ct.jsx)("span",{className:"text-white text-sm font-bold",children:s.initials})})]})]})]})})},dt=Ue("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),pt=Ue("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ft=Ue("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),gt=Ue("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),mt=Ue("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),vt=Ue("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),yt=Ue("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),bt=Ue("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),xt=e=>{let{isOpen:t,onClose:n,isCollapsed:i,onToggleCollapse:s}=e;const r=[{path:"/overview",icon:dt,label:"Overview"},{path:"/data",icon:pt,label:"Data Analytics"},{path:"/finance-analytics",icon:ft,label:"ESG & SDGS"},{path:"/maintenance",icon:gt,label:"Task Schedule"},{path:"/team-profile",icon:mt,label:"Team Profile"}],o=Z();return(0,ct.jsxs)(ct.Fragment,{children:[t&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:n}),(0,ct.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 bg-white shadow-lg transform ".concat(t?"translate-x-0":"-translate-x-full"," lg:translate-x-0 h-screen flex flex-col transition-all duration-300 ease-in-out border-r border-slate-200 ").concat(i?"w-20":"w-64"),children:[(0,ct.jsxs)("div",{className:"flex items-center p-4 border-b border-slate-200 flex-shrink-0 h-[68px]",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3 overflow-hidden ".concat(i?"justify-center w-full":""),children:[(0,ct.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,ct.jsx)(Ze,{className:"w-5 h-5 text-white"})}),!i&&(0,ct.jsx)("span",{className:"text-xl font-bold text-slate-800 whitespace-nowrap",children:"Activities"})]}),(0,ct.jsx)("button",{onClick:n,className:"lg:hidden text-slate-500 hover:text-slate-800",children:(0,ct.jsx)(Ge,{className:"w-6 h-6"})})]}),(0,ct.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:(0,ct.jsx)("nav",{className:"mt-4 pb-4",children:r.map(e=>{const t=o.pathname===e.path;return(0,ct.jsxs)(Me,{to:e.path,className:"w-full flex items-center py-3 transition-colors ".concat(i?"justify-center px-2":"px-6"," ").concat(t?"bg-green-50 text-green-700 font-semibold":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),title:i?e.label:void 0,children:[(0,ct.jsx)(e.icon,{className:"w-5 h-5 flex-shrink-0 ".concat(i?"":"mr-3")}),!i&&(0,ct.jsx)("span",{children:e.label})]},e.label)})})}),(0,ct.jsxs)("div",{className:"p-4 border-t border-slate-200 flex-shrink-0 space-y-2",children:[(0,ct.jsx)("button",{onClick:s,className:"w-full justify-center hidden lg:flex items-center text-slate-500 py-2 rounded-lg text-sm font-medium hover:bg-slate-100 hover:text-slate-900 transition-colors ".concat(i?"px-2":"px-4"),children:i?(0,ct.jsx)(vt,{className:"w-5 h-5"}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(yt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"ml-2",children:"Collapse"})]})}),(0,ct.jsx)("button",{className:"w-full justify-center flex items-center bg-slate-100 text-slate-600 py-2 rounded-lg text-sm font-medium hover:bg-slate-200 hover:text-slate-900 transition-colors ".concat(i?"px-2":"px-4"),children:i?(0,ct.jsx)(bt,{className:"w-5 h-5"}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(bt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"ml-2",children:"Logout"})]})})]})]})]})},wt=e=>{let{plantName:n="Limau",description:i="Your plants are thriving and showing excellent growth. The current conditions are optimal for Kangkung cultivation.",backgroundImage:s,detailsLink:r="/plant-details/kangkung",buttonText:o="Plant Information",showClock:a=!0,className:l=""}=e;const[c,u]=(0,t.useState)(new Date);(0,t.useEffect)(()=>{if(!a)return;const e=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(e)},[a]);const h=c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),d=c.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),p=s?{backgroundImage:"url(".concat(s,")")}:{background:"linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)"};return(0,ct.jsxs)("div",{className:"relative rounded-2xl shadow-sm p-12 text-white overflow-hidden bg-cover bg-center ".concat(l),style:p,children:[(0,ct.jsx)("div",{className:"absolute inset-0 bg-black/50 z-10"}),(0,ct.jsx)(Me,{to:r,className:"absolute z-20 top-8 right-8 bg-yellow-400 text-gray-900 text-sm font-semibold py-3 px-5 rounded-full \r transform transition-all duration-300 ease-in-out \r shadow-md hover:bg-yellow-300 hover:shadow-lg hover:scale-105 hover:-translate-y-1",children:o}),(0,ct.jsxs)("div",{className:"relative z-20",children:[(0,ct.jsx)(Ze,{className:"w-10 h-10 mb-16"}),(0,ct.jsx)("div",{className:"text-5xl font-bold mb-3",children:n}),(0,ct.jsx)("p",{className:"text-base opacity-90 max-w-lg",children:i})]}),a&&(0,ct.jsxs)("div",{className:"absolute z-20 bottom-8 right-8 text-right filter drop-shadow-lg",children:[(0,ct.jsx)("p",{className:"text-4xl font-bold tracking-wider",children:h}),(0,ct.jsx)("p",{className:"text-sm text-white/90 uppercase",children:d})]})]})},_t=Ue("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kt=e=>{let{icon:t,title:n,value:i,description:s,iconColor:r="text-gray-500",gradient:o=!1,gradientFrom:a="from-green-500",gradientTo:l="to-green-600",onClick:c}=e;const u=o?"bg-gradient-to-br ".concat(a," ").concat(l," text-white"):"bg-white",h=o?"text-white":r,d=o?"text-white":"text-gray-900",p=o?"text-white opacity-90":"text-gray-600",f=o?"text-white opacity-70":"text-gray-400";return(0,ct.jsxs)("div",{className:"".concat(u," rounded-2xl shadow-sm p-6 h-full transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-lg ").concat(c?"cursor-pointer":""),onClick:c,children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)(t,{className:"w-6 h-6 ".concat(h)}),(0,ct.jsx)(_t,{className:"w-5 h-5 ".concat(f)})]}),(0,ct.jsx)("h3",{className:"text-sm font-medium mb-2 ".concat(o?"opacity-90":"text-gray-700"),children:n}),(0,ct.jsx)("div",{className:"text-3xl font-bold mb-2 ".concat(d),children:i}),(0,ct.jsx)("p",{className:"text-sm ".concat(p),children:s})]})};function St(e){return e+.5|0}const Ct=(e,t,n)=>Math.max(Math.min(e,n),t);function Et(e){return Ct(St(2.55*e),0,255)}function Mt(e){return Ct(St(255*e),0,255)}function Lt(e){return Ct(St(e/2.55)/100,0,1)}function Nt(e){return Ct(St(100*e),0,100)}const Tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dt=[..."0123456789ABCDEF"],jt=e=>Dt[15&e],Pt=e=>Dt[(240&e)>>4]+Dt[15&e],Ot=e=>(240&e)>>4===(15&e);function It(e){var t=(e=>Ot(e.r)&&Ot(e.g)&&Ot(e.b)&&Ot(e.a))(e)?jt:Pt;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const At=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rt(e,t,n){const i=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function Ft(e,t,n){const i=function(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[i(5),i(3),i(1)]}function zt(e,t,n){const i=Rt(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function Vt(e){const t=e.r/255,n=e.g/255,i=e.b/255,s=Math.max(t,n,i),r=Math.min(t,n,i),o=(s+r)/2;let a,l,c;return s!==r&&(c=s-r,l=o>.5?c/(2-s-r):c/(s+r),a=function(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,s),a=60*a+.5),[0|a,l||0,o]}function Bt(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Mt)}function Ut(e,t,n){return Bt(Rt,e,t,n)}function Ht(e){return(e%360+360)%360}function Wt(e){const t=At.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?Et(+t[5]):Mt(+t[5]));const s=Ht(+t[2]),r=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Bt(zt,e,t,n)}(s,r,o):"hsv"===t[1]?function(e,t,n){return Bt(Ft,e,t,n)}(s,r,o):Ut(s,r,o),{r:n[0],g:n[1],b:n[2],a:i}}const qt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Gt;function Yt(e){Gt||(Gt=function(){const e={},t=Object.keys(Kt),n=Object.keys(qt);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,qt[r]);r=parseInt(Kt[o],16),e[a]=[r>>16&255,r>>8&255,255&r]}return e}(),Gt.transparent=[0,0,0,0]);const t=Gt[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Qt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const $t=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Xt=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zt(e,t,n){if(e){let i=Vt(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Ut(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Jt(e,t){return e?Object.assign(t||{},e):e}function en(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Mt(e[3]))):(t=Jt(e,{r:0,g:0,b:0,a:1})).a=Mt(t.a),t}function tn(e){return"r"===e.charAt(0)?function(e){const t=Qt.exec(e);let n,i,s,r=255;if(t){if(t[7]!==n){const e=+t[7];r=t[8]?Et(e):Ct(255*e,0,255)}return n=+t[1],i=+t[3],s=+t[5],n=255&(t[2]?Et(n):Ct(n,0,255)),i=255&(t[4]?Et(i):Ct(i,0,255)),s=255&(t[6]?Et(s):Ct(s,0,255)),{r:n,g:i,b:s,a:r}}}(e):Wt(e)}class nn{constructor(e){if(e instanceof nn)return e;const t=typeof e;let n;"object"===t?n=en(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Tt[e[1]],g:255&17*Tt[e[2]],b:255&17*Tt[e[3]],a:5===n?17*Tt[e[4]]:255}:7!==n&&9!==n||(t={r:Tt[e[1]]<<4|Tt[e[2]],g:Tt[e[3]]<<4|Tt[e[4]],b:Tt[e[5]]<<4|Tt[e[6]],a:9===n?Tt[e[7]]<<4|Tt[e[8]]:255})),t}(e)||Yt(e)||tn(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Jt(this._rgb);return e&&(e.a=Lt(e.a)),e}set rgb(e){this._rgb=en(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Lt(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?It(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Vt(e),n=t[0],i=Nt(t[1]),s=Nt(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(Lt(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let s;const r=t===s?.5:t,o=2*r-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-l,n.r=255&l*n.r+s*i.r+.5,n.g=255&l*n.g+s*i.g+.5,n.b=255&l*n.b+s*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=Xt(Lt(e.r)),s=Xt(Lt(e.g)),r=Xt(Lt(e.b));return{r:Mt($t(i+n*(Xt(Lt(t.r))-i))),g:Mt($t(s+n*(Xt(Lt(t.g))-s))),b:Mt($t(r+n*(Xt(Lt(t.b))-r))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new nn(this.rgb)}alpha(e){return this._rgb.a=Mt(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=St(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zt(this._rgb,2,e),this}darken(e){return Zt(this._rgb,2,-e),this}saturate(e){return Zt(this._rgb,1,e),this}desaturate(e){return Zt(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Vt(e);n[0]=Ht(n[0]+t),n=Ut(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function sn(){}const rn=(()=>{let e=0;return()=>e++})();function on(e){return null===e||void 0===e}function an(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ln(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function cn(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function un(e,t){return cn(e)?e:t}function hn(e,t){return"undefined"===typeof e?t:e}const dn=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function pn(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function fn(e,t,n,i){let s,r,o;if(an(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(ln(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function gn(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function mn(e){if(an(e))return e.map(mn);if(ln(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=mn(e[n[s]]);return t}return e}function vn(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yn(e,t,n,i){if(!vn(e))return;const s=t[e],r=n[e];ln(s)&&ln(r)?bn(s,r,i):t[e]=mn(r)}function bn(e,t,n){const i=an(t)?t:[t],s=i.length;if(!ln(e))return e;const r=(n=n||{}).merger||yn;let o;for(let a=0;a<s;++a){if(o=i[a],!ln(o))continue;const t=Object.keys(o);for(let i=0,s=t.length;i<s;++i)r(t[i],e,o,n)}return e}function xn(e,t){return bn(e,t,{merger:wn})}function wn(e,t,n){if(!vn(e))return;const i=t[e],s=n[e];ln(i)&&ln(s)?xn(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=mn(s))}const _n={"":e=>e,x:e=>e.x,y:e=>e.y};function kn(e,t){const n=_n[t]||(_n[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Sn(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Cn=e=>"undefined"!==typeof e,En=e=>"function"===typeof e,Mn=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ln=Math.PI,Nn=2*Ln,Tn=Nn+Ln,Dn=Number.POSITIVE_INFINITY,jn=Ln/180,Pn=Ln/2,On=Ln/4,In=2*Ln/3,An=Math.log10,Rn=Math.sign;function Fn(e,t,n){return Math.abs(e-t)<n}function zn(e){const t=Math.round(e);e=Fn(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(An(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Vn(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Bn(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Un(e){return e*(Ln/180)}function Hn(e){return e*(180/Ln)}function Wn(e){if(!cn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function qn(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ln&&(r+=Nn),{angle:r,distance:s}}function Kn(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gn(e,t){return(e-t+Tn)%Nn-Ln}function Yn(e){return(e%Nn+Nn)%Nn}function Qn(e,t,n,i){const s=Yn(e),r=Yn(t),o=Yn(n),a=Yn(r-s),l=Yn(o-s),c=Yn(s-r),u=Yn(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function $n(e,t,n){return Math.max(t,Math.min(n,e))}function Xn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Zn(e,t,n){n=n||(n=>e[n]<t);let i,s=e.length-1,r=0;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Jn=(e,t,n,i)=>Zn(e,n,i?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),ei=(e,t,n)=>Zn(e,n,i=>e[i][t]>=n);const ti=["push","pop","shift","splice","unshift"];function ni(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),i.length>0||(ti.forEach(t=>{delete e[t]}),delete e._chartjs)}function ii(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const si="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function ri(e,t){let n=[],i=!1;return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];n=r,i||(i=!0,si.call(window,()=>{i=!1,e.apply(t,n)}))}}const oi=e=>"start"===e?"left":"end"===e?"right":"center",ai=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function li(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:p,maxDefined:f}=o.getUserBounds();if(p){if(s=Math.min(Jn(l,u,h).lo,n?i:Jn(t,u,o.getPixelForValue(h)).lo),c){const e=l.slice(0,s+1).reverse().findIndex(e=>!on(e[a.axis]));s-=Math.max(0,e)}s=$n(s,0,i-1)}if(f){let e=Math.max(Jn(l,o.axis,d,!0).hi+1,n?0:Jn(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!on(e[a.axis]));e+=Math.max(0,t)}r=$n(e,s,i)-s}else r=i-s}return{start:s,count:r}}function ci(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const ui=e=>0===e||1===e,hi=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Nn/n),di=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Nn/n)+1,pi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Pn),easeOutSine:e=>Math.sin(e*Pn),easeInOutSine:e=>-.5*(Math.cos(Ln*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ui(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ui(e)?e:hi(e,.075,.3),easeOutElastic:e=>ui(e)?e:di(e,.075,.3),easeInOutElastic(e){const t=.1125;return ui(e)?e:e<.5?.5*hi(2*e,t,.45):.5+.5*di(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pi.easeInBounce(2*e):.5*pi.easeOutBounce(2*e-1)+.5};function fi(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function gi(e){return fi(e)?e:new nn(e)}function mi(e){return fi(e)?e:new nn(e).saturate(.5).darken(.1).hexString()}const vi=["x","y","borderWidth","radius","tension"],yi=["color","borderColor","backgroundColor"];const bi=new Map;function xi(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=bi.get(n);return i||(i=new Intl.NumberFormat(e,t),bi.set(n,i)),i}(t,n).format(e)}const wi={values:e=>an(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),r=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=An(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),xi(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(An(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?wi.numeric.call(this,e,t,n):""}};var _i={formatters:wi};const ki=Object.create(null),Si=Object.create(null);function Ci(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function Ei(e,t,n){return"string"===typeof t?bn(Ci(e,t),n):bn(Ci(e,""),t)}class Mi{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>mi(t.backgroundColor),this.hoverBorderColor=(e,t)=>mi(t.borderColor),this.hoverColor=(e,t)=>mi(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ei(this,e,t)}get(e){return Ci(this,e)}describe(e,t){return Ei(Si,e,t)}override(e,t){return Ei(ki,e,t)}route(e,t,n,i){const s=Ci(this,e),r=Ci(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=r[i];return ln(e)?Object.assign({},t,e):hn(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach(e=>e(this))}}var Li=new Mi({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:yi},numbers:{type:"number",properties:vi}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_i.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Ni(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Ti(e,t,n,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||an(h)){if(an(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||an(d)||(o=Ni(e,s,r,o,d))}else o=Ni(e,s,r,o,h);e.restore();const p=r.length/2;if(p>n.length){for(l=0;l<p;l++)delete s[r[l]];r.splice(0,p)}return o}function Di(e,t,n){const i=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function ji(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Pi(e,t,n,i){Oi(e,t,n,i,null)}function Oi(e,t,n,i,s){let r,o,a,l,c,u,h,d;const p=t.pointStyle,f=t.rotation,g=t.radius;let m=(f||0)*jn;if(p&&"object"===typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,i),e.rotate(m),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,i,s/2,g,0,0,Nn):e.arc(n,i,g,0,Nn),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=In,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=In,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+On)*l,h=Math.cos(m+On)*(s?s/2-c:l),a=Math.sin(m+On)*l,d=Math.sin(m+On)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-Ln,m-Pn),e.arc(n+d,i-o,c,m-Pn,m),e.arc(n+h,i+a,c,m,m+Pn),e.arc(n-d,i+o,c,m+Pn,m+Ln),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=On;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":m+=On;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),m+=On,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ii(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ai(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ri(e){e.restore()}function Fi(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===s!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function zi(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Vi(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Bi(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ui(e,t,n,i,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=an(t)?t:[t],a=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),on(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Bi(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),on(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),Vi(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Hi(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ln,Ln,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ln,Pn,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Pn,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Pn,!0),e.lineTo(n+o.topLeft,i)}const Wi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ki(e,t){const n=(""+e).match(Wi);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Gi=e=>+e||0;function Yi(e,t){const n={},i=ln(t),s=i?Object.keys(t):t,r=ln(e)?i?n=>hn(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of s)n[o]=Gi(r(o));return n}function Qi(e){return Yi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function $i(e){return Yi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xi(e){const t=Qi(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zi(e,t){e=e||{},t=t||Li.font;let n=hn(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=hn(e.style,t.style);i&&!(""+i).match(qi)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:hn(e.family,t.family),lineHeight:Ki(hn(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:hn(e.weight,t.weight),string:""};return s.string=function(e){return!e||on(e.size)||on(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Ji(e,t,n,i){let s,r,o,a=!0;for(s=0,r=e.length;s<r;++s)if(o=e[s],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&an(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function es(e,t){return Object.assign(Object.create(e),t)}function ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=ds("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:i,override:i=>ts([i,...e],t,s,n)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>os(n,i,()=>function(e,t,n,i){let s;for(const r of t)if(s=ds(ss(r,e),n),"undefined"!==typeof s)return rs(e,s)?us(n,i,e,s):s}(i,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>ps(e).includes(t),ownKeys:e=>ps(e),set(e,t,n){const s=e._storage||(e._storage=i());return e[t]=s[t]=n,delete e._keys,!0}})}function ns(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:is(e,i),setContext:t=>ns(e,t,n,i),override:s=>ns(e.override(s),t,n,i)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>os(e,t,()=>function(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];En(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);a.delete(e),rs(e,l)&&(l=us(s._scopes,s,e,l));return l}(t,a,e,n));an(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof r.index&&i(e))return t[r.index%t.length];if(ln(t[0])){const n=t,i=s._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=us(i,s,e,l);t.push(ns(n,r,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));rs(t,a)&&(a=ns(a,s,r&&r[t],o));return a}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:En(n)?n:()=>n,isIndexable:En(i)?i:()=>i}}const ss=(e,t)=>e?e+Sn(t):t,rs=(e,t)=>ln(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function os(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function as(e,t,n){return En(e)?e(t,n):e}const ls=(e,t)=>!0===e?t:"string"===typeof e?kn(t,e):void 0;function cs(e,t,n,i,s){for(const r of t){const t=ls(n,r);if(t){e.add(t);const r=as(t._fallback,n,s);if("undefined"!==typeof r&&r!==n&&r!==i)return r}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function us(e,t,n,i){const s=t._rootScopes,r=as(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=hs(a,o,n,r||n,i);return null!==l&&(("undefined"===typeof r||r===n||(l=hs(a,o,r,l,i),null!==l))&&ts(Array.from(a),[""],s,r,()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];if(an(s)&&ln(n))return n;return s||{}}(t,n,i)))}function hs(e,t,n,i,s){for(;n;)n=cs(e,t,n,i,s);return n}function ds(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function ps(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function fs(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(kn(u,r),c)};return o}const gs=Number.EPSILON||1e-14,ms=(e,t)=>t<e.length&&!e[t].skip&&e[t],vs=e=>"x"===e?"y":"x";function ys(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Kn(r,s),l=Kn(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function bs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=vs(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=ms(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=ms(e,o+1),l){if(c){const e=c[t]-l[t];s[o]=0!==e?(c[n]-l[n])/e:0}r[o]=a?c?Rn(s[o-1])!==Rn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}!function(e,t,n){const i=e.length;let s,r,o,a,l,c=ms(e,0);for(let u=0;u<i-1;++u)l=c,c=ms(e,u+1),l&&c&&(Fn(t[u],0,gs)?n[u]=n[u+1]=0:(s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),a<=9||(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])))}(e,s,r),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=vs(n),s=e.length;let r,o,a,l=ms(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=ms(e,c+1),!a)continue;const s=a[n],u=a[i];o&&(r=(s-o[n])/3,a["cp1".concat(n)]=s-r,a["cp1".concat(i)]=u-r*t[c]),l&&(r=(l[n]-s)/3,a["cp2".concat(n)]=s+r,a["cp2".concat(i)]=u+r*t[c])}}(e,r,t)}function xs(e,t,n){return Math.max(Math.min(e,n),t)}function ws(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)bs(e,s);else{let n=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=ys(n,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,s,r,o,a=Ii(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&Ii(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=xs(s.cp1x,t.left,t.right),s.cp1y=xs(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=xs(s.cp2x,t.left,t.right),s.cp2y=xs(s.cp2y,t.top,t.bottom)))}(e,n)}function _s(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ks(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ss(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const Cs=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Es=["top","right","bottom","left"];function Ms(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Es[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Ls(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Cs(n),r="border-box"===s.boxSizing,o=Ms(s,"padding"),a=Ms(s,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,r,e.target))o=s,a=r;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:p,height:f}=t;return r&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-h)/p*n.width/i),y:Math.round((c-d)/f*n.height/i)}}const Ns=e=>Math.round(10*e)/10;function Ts(e,t,n,i){const s=Cs(e),r=Ms(s,"margin"),o=Ss(s.maxWidth,e,"clientWidth")||Dn,a=Ss(s.maxHeight,e,"clientHeight")||Dn,l=function(e,t,n){let i,s;if(void 0===t||void 0===n){const r=e&&ks(e);if(r){const e=r.getBoundingClientRect(),o=Cs(r),a=Ms(o,"border","width"),l=Ms(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=Ss(o.maxWidth,r,"clientWidth"),s=Ss(o.maxHeight,r,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||Dn,maxHeight:s||Dn}}(e,t,n);let{width:c,height:u}=l;if("content-box"===s.boxSizing){const e=Ms(s,"border","width"),t=Ms(s,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Ns(Math.min(c,o,l.maxWidth)),u=Ns(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ns(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=Ns(Math.floor(u*i))),{width:c,height:u}}function Ds(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0)}const js=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_s()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(bE){}return e}();function Ps(e,t){const n=function(e,t){return Cs(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Os(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Is(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function As(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Os(e,s,n),a=Os(s,r,n),l=Os(r,t,n),c=Os(o,a,n),u=Os(a,l,n);return Os(c,u,n)}function Rs(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Fs(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function zs(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Vs(e){return"angle"===e?{between:Qn,compare:Gn,normalize:Yn}:{between:Xn,compare:(e,t)=>e-t,normalize:e=>e}}function Bs(e){let{start:t,end:n,count:i,loop:s,style:r}=e;return{start:t%i,end:n%i,loop:s&&(n-t+1)%i===0,style:r}}function Us(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=Vs(i),{start:u,end:h,loop:d,style:p}=function(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=Vs(i),l=t.length;let c,u,{start:h,end:d,loop:p}=e;if(p){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(t[h%l][i]),s,r);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:p,style:e.style}}(e,t,n),f=[];let g,m,v,y=!1,b=null;const x=()=>y||l(s,v,g)&&0!==a(s,v),w=()=>!y||0===a(r,g)||l(r,v,g);for(let _=u,k=u;_<=h;++_)m=t[_%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,s,r),null===b&&x()&&(b=0===a(g,s)?_:k),null!==b&&w()&&(f.push(Bs({start:b,end:_,loop:d,count:o,style:p})),b=null),k=_,v=g));return null!==b&&f.push(Bs({start:b,end:h,loop:d,count:o,style:p})),f}function Hs(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=Us(i[s],e.points,t);r.length&&n.push(...r)}return n}function Ws(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const s=e._chart.getContext(),r=qs(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function p(e,t,i,s){const r=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=r;for(;n[t%l].skip;)t+=r;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:s}),u=s,h=t%l)}}for(const f of t){h=a?h:f.start;let e,t=n[h%l];for(d=h+1;d<=f.end;d++){const r=n[d%l];e=qs(i.setContext(es(s,{type:"segment",p0:t,p1:r,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Ks(e,u)&&p(h,d-1,f.loop,u),t=r,u=e}h<d-1&&p(h,d-1,f.loop,u)}return c}(e,t,n,i):t}function qs(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ks(e,t){if(!t)return!1;const n=[],i=function(e,t){return fi(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Gs(e,t,n){return e.options.clip?e[n]:t[n]}function Ys(e,t){const n=t._clip;if(n.disabled)return!1;const i=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Gs(n,t,"left"),right:Gs(n,t,"right"),top:Gs(i,t,"top"),bottom:Gs(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class Qs{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const s=t.listeners[i],r=t.duration;s.forEach(i=>i({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=si.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let r,o=s.length-1,a=!1;for(;o>=0;--o)r=s[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $s=new Qs;const Xs="transparent",Zs={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=gi(e||Xs),s=i.valid&&gi(t||Xs);return s&&s.valid?s.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Js{constructor(e,t,n,i){const s=t[n];i=Ji([e.to,i,s,e.from]);const r=Ji([e.from,s,i]);this._active=!0,this._fn=e.fn||Zs[e.type||typeof r],this._easing=pi[e.easing]||pi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ji([e.to,t,i,e.from]),this._from=Ji([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,s=this._from,r=this._loop,o=this._to;let a;if(this._active=s!==o&&(r||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=s:(a=t/n%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(s,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class er{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ln(e))return;const t=Object.keys(Li.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ln(s))return;const r={};for(const e of t)r[e]=s[e];(an(s.properties)&&s.properties||[i]).forEach(e=>{e!==i&&n.has(e)||n.set(e,r)})})}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const t=e[i[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=s[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(s[l]=u=new Js(h,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?($s.add(this._chart,n),!0):void 0}}function tr(e,t){const n=e&&e.options||{},i=n.reverse,s=void 0===n.min?t:0,r=void 0===n.max?t:0;return{start:i?r:s,end:i?s:r}}function nr(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ir(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,r="single"===i.mode;let o,a,l,c;if(null===t)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,i.all)continue;break}c=e.values[l],cn(c)&&(r||0===t||Rn(t)===Rn(c))&&(t+=c)}return u||i.all?t:0}function sr(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function rr(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function or(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function ar(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(r,o,i),h=t.length;let d;for(let p=0;p<h;++p){const e=t[p],{[l]:n,[c]:r}=e;d=(e._stacks||(e._stacks={}))[c]=rr(s,u,n),d[a]=r,d._top=or(d,o,!0,i.type),d._bottom=or(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=r}}function lr(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function cr(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const ur=e=>"reset"===e||"none"===e,hr=(e,t)=>t?e:Object.assign({},e);class dr{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=sr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,s=t.xAxisID=hn(n.xAxisID,lr(e,"x")),r=t.yAxisID=hn(n.yAxisID,lr(e,"y")),o=t.rAxisID=hn(n.rAxisID,lr(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,s,r,o),c=t.vAxisID=i(a,r,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ni(this._data,this),e._stacked&&cr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(ln(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,s="x"===n.axis?"x":"y",r="x"===i.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:e[u]};return a}(t,e)}else if(n!==t){if(n){ni(n,this);const e=this._cachedMeta;cr(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(i=t)._chartjs?i._chartjs.listeners.push(s):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),ti.forEach(e=>{const t="_onData"+Sn(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];const o=n.apply(this,s);return i._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...s)}),o}})}))),this._syncList=[],this._data=t}var i,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=sr(t.vScale,t),t.stack!==n.stack&&(i=!0,cr(t),t.stack=n.stack),this._resyncElements(e),(i||s!==t._stacked)&&(ar(this,t._parsed),t._stacked=sr(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:r}=n,o=s.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=an(i[e])?this.parseArrayData(n,i,e,t):ln(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const s=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(s()&&(u=!1),h=l);n._sorted=u}r&&ar(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:s,vScale:r}=e,o=s.axis,a=r.axis,l=s.getLabels(),c=s===r,u=new Array(i);let h,d,p;for(h=0,d=i;h<d;++h)p=h+n,u[h]={[o]:c||s.parse(l[p],p),[a]:r.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:s,yScale:r}=e,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={x:s.parse(u[0],c),y:r.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:s,yScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=t[h],l[c]={x:s.parse(kn(d,o),h),y:r.parse(kn(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,s=this._cachedMeta,r=t[e.axis];return ir({keys:nr(i,!0),values:t._stacks[e.axis]._visualValues},r,s.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const s=n[t.axis];let r=null===s?NaN:s;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,r=ir(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,r=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nr(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(o);let h,d;function p(){d=i[h];const t=d[o.axis];return!cn(d[e.axis])||c>t||u<t}for(h=0;h<r&&(p()||(this.updateRangeFromParsed(l,e,d,a),!s));++h);if(s)for(h=r-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i][e.axis],cn(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,s;return ln(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:!1===e}}(hn(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=tr(e,n),s=tr(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],s=t.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,s))}for(c=0;c<r.length;++c)r[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return es(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return es(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,s=this._cachedDataOpts,r=e+"-"+t,o=s[r],a=this.enableOptionSharing&&Cn(n);if(o)return hr(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Li.elements[e]),p=l.resolveNamedOptions(h,d,()=>this.getContext(n,i,t),u);return p.$shared&&(p.$shared=a,s[r]=Object.freeze(hr(p,a))),p}_resolveAnimations(e,t,n){const i=this.chart,s=this._cachedDataOpts,r="animation-".concat(t),o=s[r];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,s=i.datasetAnimationScopeKeys(this._type,t),r=i.getOptionScopes(this.getDataset(),s);a=i.createResolver(r,this.getContext(e,n,t))}const l=new er(i,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ur(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(n),r=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:r}}updateElement(e,t,n,i){ur(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!ur(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,s=t.length,r=Math.min(s,i);r&&this.parse(0,r),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,s=i.data,r=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=r;o--)e[o]=e[o-t]};for(a(s),o=e;o<r;++o)s[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&cr(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pr(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,s=n.length;t<s;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=ii(i.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let i,s,r,o,a=t._length;const l=()=>{32767!==r&&-32768!==r&&(Cn(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(i=0,s=n.length;i<s;++i)r=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=t.ticks.length;i<s;++i)r=t.getPixelForTick(i),l();return a}function fr(e,t,n,i){return an(e)?function(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function gr(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(fr(d,h,r,c));return l}function mr(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function vr(e,t,n,i){let s=t.borderSkipped;const r={};if(!s)return void(e.borderSkipped=r);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[yr(u,o,a,l)]=!0,s=c)),r[yr(s,o,a,l)]=!0,e.borderSkipped=r}function yr(e,t,n,i){var s,r,o;return i?(o=n,e=br(e=(s=e)===(r=t)?o:s===o?r:s,n,t)):e=br(e,t,n),e}function br(e,t,n){return"start"===e?t:"end"===e?n:e}function xr(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}je(dr,"defaults",{}),je(dr,"datasetElementType",null),je(dr,"dataElementType",null);class wr extends dr{parsePrimitiveData(e,t,n,i){return gr(e,t,n,i)}parseArrayData(e,t,n,i){return gr(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:s,vScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?o:a,c="x"===r.axis?o:a,u=[];let h,d,p,f;for(h=n,d=n+i;h<d;++h)f=t[h],p={},p[s.axis]=s.parse(kn(f,l),h),u.push(fr(kn(f,c),p,r,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,s=this.getParsed(e),r=s._custom,o=mr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const s="reset"===i,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=s||on(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,c),f=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!f||mr(t._custom)||r===f._top||r===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":i));const m=g.options||e[d].options;vr(g,m,f,r),xr(g,m,c.ratio),this.updateElement(e[d],d,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=n.options.stacked,r=[],o=this._cachedMeta.controller.getParsed(t),a=o&&o[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===a),i=t&&t[e.vScale.axis];if(on(i)||isNaN(i))return!0};for(const c of i)if((void 0===t||!l(c))&&((!1===s||-1===r.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&r.push(c.stack),c.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[hn("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),s=void 0!==t?i.indexOf(t):-1;return-1===s?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let s,r;for(s=0,r=t.data.length;s<r;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||pr(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(e),l=a._custom,c=mr(l);let u,h,d=a[t.axis],p=0,f=n?this.applyStack(t,a,n):d;f!==d&&(p=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&Rn(d)!==Rn(l.barEnd)&&(p=0),p+=d);const g=on(s)||c?p:s;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):m,h=u-m,Math.abs(h)<r){h=function(e,t,n){return 0!==e?Rn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*r,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);m=Math.max(Math.min(m,p),l),u=m+h,n&&!c&&(a._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=Rn(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,s=i.skipNull,r=hn(i.maxBarThickness,1/0);let o,a;const l=this._getAxisCount();if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===o&&(o=r-(null===a?t.end-t.start:a-r)),null===a&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n*l):function(e,t,n,i){const s=n.barThickness;let r,o;return on(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}(e,t,i,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(hn(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+h;o=c.start+c.chunk*d+c.chunk/2,a=Math.min(r,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(r,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}je(wr,"id","bar"),je(wr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),je(wr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _r extends dr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const s=super.parsePrimitiveData(e,t,n,i);for(let r=0;r<s.length;r++)s[r]._custom=this.resolveDataElementOptions(r+n).radius;return s}parseArrayData(e,t,n,i){const s=super.parseArrayData(e,t,n,i);for(let r=0;r<s.length;r++){const e=t[n+r];s[r]._custom=hn(e[2],this.resolveDataElementOptions(r+n).radius)}return s}parseObjectData(e,t,n,i){const s=super.parseObjectData(e,t,n,i);for(let r=0;r<s.length;r++){const e=t[n+r];s[r]._custom=hn(e&&e.r&&+e.r,this.resolveDataElementOptions(r+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,r=this.getParsed(e),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const s="reset"===i,{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,i),c=r.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!s&&this.getParsed(h),d={},p=d[c]=s?r.getPixelForDecimal(.5):r.getPixelForValue(n[c]),f=d[u]=s?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(p)||isNaN(f),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":i),s&&(d.options.radius=0)),this.updateElement(t,h,d,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return"active"!==t&&(i.radius=0),i.radius+=hn(n&&n._custom,s),i}}je(_r,"id","bubble"),je(_r,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),je(_r,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class kr extends dr{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let s,r,o=e=>+n[e];if(ln(n[e])){const{key:e="value"}=this._parsing;o=t=>+kn(n[t],e)}for(s=e,r=e+t;s<r;++s)i._parsed[s]=o(s)}}_getRotation(){return Un(this.options.rotation-90)}_getCircumference(){return Un(this.options.circumference)}_getRotationExtents(){let e=Nn,t=-Nn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),r=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,s=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-r)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=function(e,t,n){let i=1,s=1,r=0,o=0;if(t<Nn){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),p=(e,t,i)=>Qn(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>Qn(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),g=p(0,c,h),m=p(Pn,u,d),v=f(Ln,c,h),y=f(Ln+Pn,u,d);i=(g-v)/2,s=(m-y)/2,r=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}(d,h,a),v=(n.width-r)/p,y=(n.height-r)/f,b=Math.max(Math.min(v,y)/2,0),x=dn(this.options.radius,b),w=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Nn)}updateElements(e,t,n,i){const s="reset"===i,r=this.chart,o=r.chartArea,a=r.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=s&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,i);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,s);for(g=t;g<t+n;++g){const t=this._circumference(g,s),n=e[g],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};f&&(r.options=p||this.resolveDataElementOptions(g,n.active?"active":i)),m+=t,this.updateElement(n,g,r,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Nn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=xi(t._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,s,r,o,a;if(!e)for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),e=r.data,o=r.controller;break}if(!e)return 0;for(i=0,s=e.length;i<s;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(hn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}je(kr,"id","doughnut"),je(kr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),je(kr,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),je(kr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((t,s)=>{const r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Sr extends dr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=t,r=this.chart._animationsDisabled;let{start:o,count:a}=li(t,i,r);this._drawStart=o,this._drawCount=a,ci(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=r.axis,d=o.axis,{spanGaps:p,segment:f}=this.options,g=Vn(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||"none"===i,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<y;++x){const n=e[x],p=m?n:{};if(x<t||x>=v){p.skip=!0;continue}const y=this.getParsed(x),w=on(y[d]),_=p[h]=r.getPixelForValue(y[h],x),k=p[d]=s||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],x);p.skip=isNaN(_)||isNaN(k)||w,p.stop=x>0&&Math.abs(y[h]-b[h])>g,f&&(p.parsed=y,p.raw=l.data[x]),u&&(p.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),m||this.updateElement(n,x,p,i),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}je(Sr,"id","line"),je(Sr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),je(Sr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Cr extends dr{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=xi(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,n,i){return fs.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),r=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,n,i){const s="reset"===i,r=this.chart,o=r.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*Ln;let h,d=u;const p=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,i,p);for(h=t;h<t+n;h++){const t=e[h];let n=d,f=d+this._computeAngle(h,i,p),g=r.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=f,s&&(o.animateScale&&(g=0),o.animateRotate&&(n=f=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,m,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Un(this.resolveDataElementOptions(e,t).angle||n):0}}je(Cr,"id","polarArea"),je(Cr,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),je(Cr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((t,s)=>{const r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Er extends kr{}je(Er,"id","pie"),je(Er,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Mr extends dr{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return fs.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:s.length===i.length,options:t};this.updateElement(n,void 0,r,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const s=this._cachedMeta.rScale,r="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),a=s.getPointPositionForValue(o,this.getParsed(o).r),l=r?s.xCenter:a.x,c=r?s.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}je(Mr,"id","radar"),je(Mr,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),je(Mr,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Lr extends dr{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:s}=t,r=this.getParsed(e),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:r}=li(t,n,i);if(this._drawStart=s,this._drawCount=r,ci(t)&&(s=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:r}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=r.axis,p=o.axis,{spanGaps:f,segment:g}=this.options,m=Vn(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===i;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},f=on(n[p]),x=c[d]=r.getPixelForValue(n[d],b),w=c[p]=s||f?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[p],b);c.skip=isNaN(x)||isNaN(w)||f,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":i)),v||this.updateElement(t,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,r)/2}}je(Lr,"id","scatter"),je(Lr,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),je(Lr,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Nr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Tr{static override(e){Object.assign(Tr.prototype,e)}constructor(e){je(this,"options",void 0),this.options=e||{}}init(){}formats(){return Nr()}parse(){return Nr()}format(){return Nr()}add(){return Nr()}diff(){return Nr()}startOf(){return Nr()}endOf(){return Nr()}}var Dr=Tr;function jr(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&o&&r.length){const o=a._reversePixels?ei:Jn;if(!i){const i=o(r,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,r=n.slice(0,i.lo+1).reverse().findIndex(e=>!on(e[t.axis]));i.lo-=Math.max(0,r);const o=n.slice(i.hi).findIndex(e=>!on(e[t.axis]));i.hi+=Math.max(0,o)}return i}if(s._sharedOptions){const e=r[0],i="function"===typeof e.getRange&&e.getRange(t);if(i){const e=o(r,t,n-i),s=o(r,t,n+i);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function Pr(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:e,data:n}=r[a],{lo:l,hi:c}=jr(r[a],t,o,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||i(s,e,t)}}}function Or(e,t,n,i,s){const r=[];if(!s&&!e.isPointInArea(t))return r;return Pr(e,n,t,function(n,o,a){(s||Ii(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&r.push({element:n,datasetIndex:o,index:a})},!0),r}function Ir(e,t,n,i,s,r){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const s=t?Math.abs(e.x-i.x):0,r=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(n);let l=Number.POSITIVE_INFINITY;return Pr(e,n,t,function(n,c,u){const h=n.inRange(t.x,t.y,s);if(i&&!h)return;const d=n.getCenterPoint(s);if(!(!!r||e.isPointInArea(d))&&!h)return;const p=a(t,d);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})}),o}function Ar(e,t,n,i,s,r){return r||e.isPointInArea(t)?"r"!==n||i?Ir(e,t,n,i,s,r):function(e,t,n,i){let s=[];return Pr(e,n,t,function(e,n,r){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=qn(e,{x:t.x,y:t.y});Qn(l,o,a)&&s.push({element:e,datasetIndex:n,index:r})}),s}(e,t,n,s):[]}function Rr(e,t,n,i,s){const r=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Pr(e,n,t,(e,i,l)=>{e[o]&&e[o](t[n],s)&&(r.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,s))}),i&&!a?[]:r}var Fr={evaluateInteractionItems:Pr,modes:{index(e,t,n,i){const s=Ls(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Or(e,s,r,i,o):Ar(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,i){const s=Ls(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Or(e,s,r,i,o):Ar(e,s,r,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>Or(e,Ls(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const s=Ls(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Ar(e,s,r,n.intersect,i,o)},x:(e,t,n,i)=>Rr(e,Ls(t,e),"x",n.intersect,i),y:(e,t,n,i)=>Rr(e,Ls(t,e),"y",n.intersect,i)}};const zr=["left","top","right","bottom"];function Vr(e,t){return e.filter(e=>e.pos===t)}function Br(e,t){return e.filter(e=>-1===zr.indexOf(e.pos)&&e.box.axis===t)}function Ur(e,t){return e.sort((e,n)=>{const i=t?n:e,s=t?e:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Hr(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:s}=n;if(!e||!zr.includes(i))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=s):(a.width=i,a.height=c?c*s:o&&t.availableHeight)}return n}function Wr(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function qr(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Kr(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!ln(s)){n.size&&(e[s]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?r.height:r.width),n.size=t.size/t.count,e[s]+=n.size}r.getPadding&&qr(o,r.getPadding());const a=Math.max(0,t.outerWidth-Wr(o,e,"left","right")),l=Math.max(0,t.outerHeight-Wr(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Gr(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],n[e])}),i}return i(e?["left","right"]:["top","bottom"])}function Yr(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,Gr(a.horizontal,t));const{same:o,other:h}=Kr(t,n,a,i);c|=o&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&Yr(s,t,n,i)||u}function Qr(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function $r(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,r=l.size||e.height;Cn(l.start)&&(o=l.start),e.fullSize?Qr(e,s.left,o,n.outerWidth-s.right-s.left,r):Qr(e,t.left+l.placed,o,i,r),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;Cn(l.start)&&(r=l.start),e.fullSize?Qr(e,r,s.top,o,n.outerHeight-s.bottom-s.top):Qr(e,r,t.top+l.placed,o,i),l.start=r,l.placed+=i,r=e.right}}t.x=r,t.y=o}var Xr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Xi(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=function(e){const t=function(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],({position:r,options:{stack:o,stackWeight:a=1}}=s),t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}(e),n=Ur(t.filter(e=>e.box.fullSize),!0),i=Ur(Vr(t,"left"),!0),s=Ur(Vr(t,"right")),r=Ur(Vr(t,"top"),!0),o=Ur(Vr(t,"bottom")),a=Br(t,"x"),l=Br(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Vr(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;fn(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);qr(d,Xi(i));const p=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),f=Hr(l.concat(c),h);Yr(a.fullSize,p,h,f),Yr(l,p,h,f),Yr(c,p,h,f)&&Yr(l,p,h,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),$r(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,$r(a.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},fn(a.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Zr{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Jr extends Zr{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eo="$chartjs",to={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},no=e=>null===e||""===e;const io=!!js&&{passive:!0};function so(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,io)}function ro(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function oo(e,t,n){const i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ro(n.addedNodes,i),t=t&&!ro(n.removedNodes,i);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function ao(e,t,n){const i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ro(n.removedNodes,i),t=t&&!ro(n.addedNodes,i);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const lo=new Map;let co=0;function uo(){const e=window.devicePixelRatio;e!==co&&(co=e,lo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ho(e,t,n){const i=e.canvas,s=i&&ks(i);if(!s)return;const r=ri((e,t)=>{const i=s.clientWidth;n(e,t),i<s.clientWidth&&n()},window),o=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||r(n,i)});return o.observe(s),function(e,t){lo.size||window.addEventListener("resize",uo),lo.set(e,t)}(e,r),o}function po(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){lo.delete(e),lo.size||window.removeEventListener("resize",uo)}(e)}function fo(e,t,n){const i=e.canvas,s=ri(t=>{null!==e.ctx&&n(function(e,t){const n=to[e.type]||e.type,{x:i,y:s}=Ls(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,io)}(i,t,s),s}class go extends Zr{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[eo]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",no(s)){const t=Ps(e,"width");void 0!==t&&(e.width=t)}if(no(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Ps(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[eo])return!1;const n=t[eo].initial;["height","width"].forEach(e=>{const i=n[e];on(i)?t.removeAttribute(e):t.setAttribute(e,i)});const i=n.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[eo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),s={attach:oo,detach:ao,resize:ho}[t]||fo;i[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:po,detach:po,resize:po}[t]||so)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return Ts(e,t,n,i)}isAttached(e){const t=e&&ks(e);return!(!t||!t.isConnected)}}class mo{constructor(){je(this,"x",void 0),je(this,"y",void 0),je(this,"active",!1),je(this,"options",void 0),je(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Vn(this.x)&&Vn(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),i}}function vo(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return function(e,t,n,i){let s,r=0,o=n[0];for(i=Math.ceil(i),s=0;s<e.length;s++)s===o&&(t.push(e[s]),r++,o=n[r*i])}(t,c,r,o/s),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),s=t.length/n;if(!i)return Math.max(s,1);const r=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(i);for(let o=0,a=r.length-1;o<a;o++){const e=r[o];if(e>s)return e}return Math.max(s,1)}(r,t,s);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(yo(t,c,u,on(i)?0:a-i,a),e=0,n=o-1;e<n;e++)yo(t,c,u,r[e],r[e+1]);return yo(t,c,u,l,on(i)?t.length:l+i),c}return yo(t,c,u),c}function yo(e,t,n,i,s){const r=hn(i,0),o=Math.min(hn(s,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),c=r;c<0;)u++,c=Math.round(r+u*n);for(l=Math.max(r,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(r+u*n))}je(mo,"defaults",{}),je(mo,"defaultRoutes",void 0);const bo=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,xo=(e,t)=>Math.min(t||e,e);function wo(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function _o(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===i?Math.max(c-r,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<r-a||c>o+a)))return c}function ko(e){return e.drawTicks?e.tickLength:0}function So(e,t){if(!e.display)return 0;const n=Zi(e.font,t),i=Xi(e.padding);return(an(e.text)?e.text.length:1)*n.lineHeight+i.height}function Co(e,t,n){let i=oi(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Eo extends mo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=un(e,Number.POSITIVE_INFINITY),t=un(t,Number.NEGATIVE_INFINITY),n=un(n,Number.POSITIVE_INFINITY),i=un(i,Number.NEGATIVE_INFINITY),{min:un(e,n),max:un(t,i),minDefined:cn(e),maxDefined:cn(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),r||(i=Math.max(i,t.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:un(n,un(i,n)),max:un(i,un(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pn(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:s,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:s}=e,r=dn(t,(s-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(r)),max:o(s,r)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?wo(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=vo(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pn(this.options.afterUpdate,[this])}beforeSetDimensions(){pn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=pn(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){pn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=xo(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let r,o,a,l=i;if(!this._isVisible()||!t.display||i>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=$n(this.chart.width-u,0,this.maxWidth);r=e.offset?this.maxWidth/n:d/(n-1),u+6>r&&(r=d/(n-(e.offset?.5:1)),o=this.maxHeight-ko(e.grid)-t.padding-So(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Hn(Math.min(Math.asin($n((c.highest.height+6)/r,-1,1)),Math.asin($n(o/a,-1,1))-Math.asin($n(h/a,-1,1)))),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){pn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:s}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=So(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=ko(s)+r):(e.height=this.maxHeight,e.width=ko(s)+r),n.display&&this.ticks.length){const{first:t,last:i,widest:s,highest:r}=this._getLabelSizes(),a=2*n.padding,l=Un(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*s.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*s.width+u*r.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:s,padding:r},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*e.width,h=n*t.height):(u=n*e.height,h=i*t.width):"start"===s?h=t.width:"end"===s?u=e.width:"inner"!==s&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+r)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===s?(n=0,i=e.height):"end"===s&&(n=t.height,i=0),this.paddingTop=n+r,this.paddingBottom=i+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)on(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=wo(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[],a=Math.floor(t/xo(t,n));let l,c,u,h,d,p,f,g,m,v,y,b=0,x=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),i.font=p=d.string,f=s[p]=s[p]||{data:{},gc:[]},g=d.lineHeight,m=v=0,on(h)||an(h)){if(an(h))for(c=0,u=h.length;c<u;++c)y=h[c],on(y)||an(y)||(m=Ni(i,f.data,f.gc,m,y),v+=g)}else m=Ni(i,f.data,f.gc,m,h),v=g;r.push(m),o.push(v),b=Math.max(m,b),x=Math.max(v,x)}!function(e,t){fn(e,e=>{const n=e.gc,i=n.length/2;let s;if(i>t){for(s=0;s<i;++s)delete e.data[n[s]];n.splice(0,i)}})}(s,t);const w=r.indexOf(b),_=o.indexOf(x),k=e=>({width:r[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return $n(this._alignToPixels?Di(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return es(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=es(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Un(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,o=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:s,position:r,border:o}=i,a=s.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=ko(s),h=[],d=o.setContext(this.getContext()),p=d.display?d.width:0,f=p/2,g=function(e){return Di(n,e,p)};let m,v,y,b,x,w,_,k,S,C,E,M;if("top"===r)m=g(this.bottom),w=this.bottom-u,k=m-f,C=g(e.top)+f,M=e.bottom;else if("bottom"===r)m=g(this.top),C=e.top,M=g(e.bottom)-f,w=m+f,k=this.top+u;else if("left"===r)m=g(this.right),x=this.right-u,_=m-f,S=g(e.left)+f,E=e.right;else if("right"===r)m=g(this.left),S=e.left,E=g(e.right)-f,x=m+f,_=this.left+u;else if("x"===t){if("center"===r)m=g((e.top+e.bottom)/2+.5);else if(ln(r)){const e=Object.keys(r)[0],t=r[e];m=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,M=e.bottom,w=m+f,k=w+u}else if("y"===t){if("center"===r)m=g((e.left+e.right)/2);else if(ln(r)){const e=Object.keys(r)[0],t=r[e];m=g(this.chart.scales[e].getPixelForValue(t))}x=m-f,_=x-u,S=e.left,E=e.right}const L=hn(i.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/L));for(v=0;v<c;v+=N){const e=this.getContext(v),t=s.setContext(e),i=o.setContext(e),r=t.lineWidth,c=t.color,u=i.dash||[],d=i.dashOffset,p=t.tickWidth,f=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=_o(this,v,a),void 0!==y&&(b=Di(n,y,r),l?x=_=S=E=b:w=k=C=M=b,h.push({tx1:x,ty1:w,tx2:_,ty2:k,x1:S,y1:C,x2:E,y2:M,width:r,color:c,borderDash:u,borderDashOffset:d,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:s}=n,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=s,h=ko(n.grid),d=h+c,p=u?-c:d,f=-Un(this.labelRotation),g=[];let m,v,y,b,x,w,_,k,S,C,E,M,L="middle";if("top"===i)w=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+d;else if(ln(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-d;else if(ln(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?L="top":"end"===a&&(L="bottom"));const N=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const e=s.setContext(this.getContext(m));k=this.getPixelForTick(m)+s.labelOffset,S=this._resolveTickFontOptions(m),C=S.lineHeight,E=an(b)?b.length:1;const t=E/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(r?(x=k,"inner"===_&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),M="top"===i?"near"===l||0!==f?-E*C+C/2:"center"===l?-N.highest.height/2-t*C+C:-N.highest.height+C/2:"near"===l||0!==f?C/2:"center"===l?N.highest.height/2-t*C:N.highest.height-E*C,u&&(M*=-1),0===f||e.showLabelBackdrop||(x+=C/2*Math.sin(f))):(w=k,M=(1-E)*C/2),e.showLabelBackdrop){const t=Xi(e.backdropPadding),n=N.heights[m],i=N.widths[m];let s=M-t.top,r=0-t.left;switch(L){case"middle":s-=n/2;break;case"bottom":s-=n}switch(_){case"center":r-=i/2;break;case"right":r-=i;break;case"inner":m===v-1?r-=i:m>0&&(r-=i/2)}h={left:r,top:s,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:S,textOffset:M,options:{rotation:f,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:L,translation:[x,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Un(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,r=e+s,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,s,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,r=i.length;s<r;++s){const e=i[s];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Di(e,this.left,r)-r/2,c=Di(e,this.right,o)+o/2,u=h=a):(u=Di(e,this.top,r)-r/2,h=Di(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ai(t,n);const i=this.getLabelItems(e);for(const s of i){const e=s.options,n=s.font;Ui(t,s.label,0,s.textOffset,n,e)}n&&Ri(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const s=Zi(n.font),r=Xi(n.padding),o=n.align;let a=s.lineHeight/2;"bottom"===t||"center"===t||ln(t)?(a+=r.bottom,an(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=r.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,p,f=0;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=ai(i,r,a),ln(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+g-t}else p="center"===n?(c.bottom+c.top)/2+g-t:bo(e,n,t);h=a-r}else{if(ln(n)){const e=Object.keys(n)[0],i=n[e];d=u[e].getPixelForValue(i)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:bo(e,n,t);p=ai(i,o,s),f="left"===n?-Pn:Pn}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}(this,a,t,o);Ui(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:Co(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=hn(e.grid&&e.grid.z,-1),i=hn(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Eo.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,r;for(s=0,r=t.length;s<r;++s){const r=t[s];r[n]!==this.id||e&&r.type!==e||i.push(r)}return i}_resolveTickFontOptions(e){return Zi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mo{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function(e,t,n){const i=bn(Object.create(null),[n?Li.get(n):{},Li.get(t),e.defaults]);Li.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Li.route(r,s,l,a)})}(t,e.defaultRoutes);e.descriptors&&Li.describe(t,e.descriptors)}(e,r,n),this.override&&Li.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Li[i]&&(delete Li[i][n],this.override&&delete ki[n])}}class Lo{constructor(){this.controllers=new Mo(dr,"datasets",!0),this.elements=new Mo(mo,"elements"),this.plugins=new Mo(Object,"plugins"),this.scales=new Mo(Eo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):fn(t,t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,n){const i=Sn(e);pn(n["before"+i],[],n),t[e](n),pn(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var No=new Lo;class To{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,n,i){i=i||{};for(const s of e){const e=s.plugin;if(!1===pn(e[n],[t,i,s.options],e)&&i.cancelable)return!1}return!0}invalidate(){on(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=hn(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],i=Object.keys(No.plugins.items);for(let r=0;r<i.length;r++)n.push(No.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const e=s[r];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:s,localIds:r}=t;const o=[],a=e.getContext();for(const l of s){const t=l.id,s=Do(n[t],i);null!==s&&o.push({plugin:l,options:jo(e.config,{plugin:l,local:r[t]},s,a)})}return o}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function Do(e,t){return t||!1!==e?!0===e?{}:e:null}function jo(e,t,n,i){let{plugin:s,local:r}=t;const o=e.pluginScopeKeys(s),a=e.getOptionScopes(n,o);return r&&s.defaults&&a.push(s.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Po(e,t){const n=Li.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Oo(e){if("x"===e||"y"===e||"r"===e)return e}function Io(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Ao(e){if(Oo(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const s of n){const t=s.axis||Io(s.position)||e.length>1&&Oo(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Ro(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Fo(e,t){const n=ki[e.type]||{scales:{}},i=t.scales||{},s=Po(e.type,t),r=Object.create(null);return Object.keys(i).forEach(t=>{const o=i[t];if(!ln(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=Ao(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Ro(e,"x",n[0])||Ro(e,"y",n[0])}return{}}(t,e),Li.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,s),c=n.scales||{};r[t]=xn(Object.create(null),[{axis:a},o,c[a],c[l]])}),e.data.datasets.forEach(n=>{const s=n.type||e.type,o=n.indexAxis||Po(s,t),a=(ki[s]||{}).scales||{};Object.keys(a).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),s=n[t+"AxisID"]||t;r[s]=r[s]||Object.create(null),xn(r[s],[{axis:t},i[s],a[e]])})}),Object.keys(r).forEach(e=>{const t=r[e];xn(t,[Li.scales[t.type],Li.scale])}),r}function zo(e){const t=e.options||(e.options={});t.plugins=hn(t.plugins,{}),t.scales=Fo(e,t)}function Vo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Bo=new Map,Uo=new Set;function Ho(e,t){let n=Bo.get(e);return n||(n=t(),Bo.set(e,n),Uo.add(n)),n}const Wo=(e,t,n)=>{const i=kn(t,n);void 0!==i&&e.add(i)};class qo{constructor(e){this._config=function(e){return(e=e||{}).data=Vo(e.data),zo(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Vo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ho(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Ho("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Ho("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Ho("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:s}=this,r=this._cachedScopes(e,n),o=r.get(t);if(o)return o;const a=new Set;t.forEach(t=>{e&&(a.add(e),t.forEach(t=>Wo(a,e,t))),t.forEach(e=>Wo(a,i,e)),t.forEach(e=>Wo(a,ki[s]||{},e)),t.forEach(e=>Wo(a,Li,e)),t.forEach(e=>Wo(a,Si,e))});const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Uo.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ki[t]||{},Li.datasets[t]||{},{type:t},Li,Si]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:r,subPrefixes:o}=Ko(this._resolverCache,e,i);let a=r;if(function(e,t){const{isScriptable:n,isIndexable:i}=is(e);for(const s of t){const t=n(s),r=i(s),o=(r||t)&&e[s];if(t&&(En(o)||Go(o))||r&&an(o))return!0}return!1}(r,t)){s.$shared=!1;a=ns(r,n=En(n)?n():n,this.createResolver(e,n,o))}for(const l of t)s[l]=a[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:s}=Ko(this._resolverCache,e,n);return ln(t)?ns(s,t,void 0,i):s}}function Ko(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);if(!r){r={resolver:ts(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},i.set(s,r)}return r}const Go=e=>ln(e)&&Object.getOwnPropertyNames(e).some(t=>En(e[t]));const Yo=["top","bottom","left","right","chartArea"];function Qo(e,t){return"top"===e||"bottom"===e||-1===Yo.indexOf(e)&&"x"===t}function $o(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Xo(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),pn(n&&n.onComplete,[e],t)}function Zo(e){const t=e.chart,n=t.options.animation;pn(n&&n.onProgress,[e],t)}function Jo(e){return _s()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ea={},ta=e=>{const t=Jo(e);return Object.values(ea).filter(e=>e.canvas===t).pop()};function na(e,t,n){const i=Object.keys(e);for(const s of i){const i=+s;if(i>=t){const r=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=r)}}}class ia{static register(){No.add(...arguments),sa()}static unregister(){No.remove(...arguments),sa()}constructor(e,t){const n=this.config=new qo(t),i=Jo(e),s=ta(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!_s()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Jr:go}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,r.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=rn(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new To,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}(e=>this.update(e),r.resizeDelay||0),this._dataChanges=[],ea[this.id]=this,o&&a?($s.listen(this,"complete",Xo),$s.listen(this,"progress",Zo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:s}=this;return on(e)?t&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return No}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ds(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ji(this.canvas,this.ctx),this}stop(){return $s.stop(this),this}resize(e,t){$s.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Ds(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),pn(n.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){fn(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const n=t[e],i=Ao(e,n),s="r"===i,r="x"===i;return{options:n,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}}))),fn(s,t=>{const s=t.options,r=s.id,o=Ao(r,s),a=hn(s.type,t.dtype);void 0!==s.position&&Qo(s.position,o)===Qo(t.dposition)||(s.position=t.dposition),i[r]=!0;let l=null;if(r in n&&n[r].type===a)l=n[r];else{l=new(No.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)}),fn(i,(e,t)=>{e||delete n[t]}),fn(n,e=>{Xr.configure(this,e,e.options),Xr.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort($o("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let s=this.getDatasetMeta(n);const r=i.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=r,s.indexAxis=i.indexAxis||Po(r,this.options),s.order=i.order||0,s.index=n,s.label=""+i.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=No.getController(r),{datasetElementType:i,dataElementType:o}=Li.datasets[r];Object.assign(t,{dataElementType:No.getElement(o),datasetElementType:i&&No.getElement(i)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){fn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===s.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||fn(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($o("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){fn(this.scales,e=>{Xr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Mn(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of t){na(e,i,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=n(0);for(let s=1;s<t;s++)if(!Mn(i,n(s)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xr.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],fn(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,En(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&($s.has(this)?this.attached&&!$s.running(this)&&$s.start(this):(this.draw(),Xo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Ys(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&Ai(t,i),e.controller.draw(),i&&Ri(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ii(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const s=Fr.modes[t];return"function"===typeof s?s(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,i);Cn(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(s,{visible:n}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$s.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ji(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ea[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};fn(this.options.events,e=>n(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",r)};r=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():r()}unbindEvents(){fn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},fn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let s,r,o,a;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){r=e[o];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}});!gn(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const i=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=s(t,e),o=n?e:s(e,t);r.length&&this.updateHoverStyle(r,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:s}=this,r=t,o=this._getActiveElements(e,i,n,r),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,pn(s.onHover,[e,o,this],this),a&&pn(s.onClick,[e,o,this],this));const c=!gn(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}function sa(){return fn(ia.instances,e=>e._plugins.invalidate())}function ra(e,t,n,i){const s=Yi(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(n-t)/2,o=Math.min(r,i*t/2),a=e=>{const t=(n-Math.min(r,e))*i/2;return $n(e,0,Math.min(r,t))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:$n(s.innerStart,0,o),innerEnd:$n(s.innerEnd,0,o)}}function oa(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function aa(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let p=0;const f=s-l;if(i){const e=((u>0?u-i:0)+(h>0?h-i:0))/2;p=(f-(0!==e?f*e/(e+i):f))/2}const g=(f-Math.max(.001,f*h-n/Ln)/h)/2,m=l+g+p,v=s-g-p,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:w}=ra(t,d,h,v-m),_=h-y,k=h-b,S=m+y/_,C=v-b/k,E=d+x,M=d+w,L=m+x/E,N=v-w/M;if(e.beginPath(),r){const t=(S+C)/2;if(e.arc(o,a,h,S,t),e.arc(o,a,h,t,C),b>0){const t=oa(k,C,o,a);e.arc(t.x,t.y,b,C,v+Pn)}const n=oa(M,v,o,a);if(e.lineTo(n.x,n.y),w>0){const t=oa(M,N,o,a);e.arc(t.x,t.y,w,v+Pn,N+Math.PI)}const i=(v-w/d+(m+x/d))/2;if(e.arc(o,a,d,v-w/d,i,!0),e.arc(o,a,d,i,m+x/d,!0),x>0){const t=oa(E,L,o,a);e.arc(t.x,t.y,x,L+Math.PI,m-Pn)}const s=oa(_,m,o,a);if(e.lineTo(s.x,s.y),y>0){const t=oa(_,S,o,a);e.arc(t.x,t.y,y,m-Pn,S)}}else{e.moveTo(o,a);const t=Math.cos(S)*h+o,n=Math.sin(S)*h+a;e.lineTo(t,n);const i=Math.cos(C)*h+o,s=Math.sin(C)*h+a;e.lineTo(i,s)}e.closePath()}function la(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:p}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(r){aa(e,t,n,i,g,s);for(let t=0;t<r;++t)e.stroke();isNaN(a)||(g=o+(a%Nn||Nn))}f&&function(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Pn,i-Pn),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-o>=Ln&&0===p&&"miter"!==u&&function(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,Yn(i-n));if(e.beginPath(),e.arc(s,r,o-c/2,i+h/2,n-h/2),a>0){const t=Math.min(c/a,Yn(i-n));e.arc(s,r,a+c/2,n-t/2,i+t/2,!0)}else{const t=Math.min(c/2,o*Yn(i-n));if("round"===u)e.arc(s,r,t,n-Ln/2,i+Ln/2,!0);else if("bevel"===u){const o=2*t*t,a=-o*Math.cos(n+Ln/2)+s,l=-o*Math.sin(n+Ln/2)+r,c=o*Math.cos(i+Ln/2)+s,u=o*Math.sin(i+Ln/2)+r;e.lineTo(a,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),r||(aa(e,t,n,i,g,s),e.stroke())}je(ia,"defaults",Li),je(ia,"instances",ea),je(ia,"overrides",ki),je(ia,"registry",No),je(ia,"version","4.5.0"),je(ia,"getChart",ta);class ca extends mo{constructor(e){super(),je(this,"circumference",void 0),je(this,"endAngle",void 0),je(this,"fullCircles",void 0),je(this,"innerRadius",void 0),je(this,"outerRadius",void 0),je(this,"pixelMargin",void 0),je(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:s,distance:r}=qn(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=hn(u,a-o),p=Qn(s,o,a)&&o!==a,f=d>=Nn||p,g=Xn(r,l+h,c+h);return f&&g}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:s,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+s)/2,u=(r+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Nn?Math.floor(n/Nn):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(Ln,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){aa(e,t,n,i,l,s);for(let t=0;t<r;++t)e.fill();isNaN(a)||(l=o+(a%Nn||Nn))}aa(e,t,n,i,l,s),e.fill()}(e,this,a,s,r),la(e,this,a,s,r),e.restore()}}function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=hn(n.borderCapStyle,t.borderCapStyle),e.setLineDash(hn(n.borderDash,t.borderDash)),e.lineDashOffset=hn(n.borderDashOffset,t.borderDashOffset),e.lineJoin=hn(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=hn(n.borderWidth,t.borderWidth),e.strokeStyle=hn(n.borderColor,t.borderColor)}function ha(e,t,n){e.lineTo(n.x,n.y)}function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function pa(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=da(s,n,i),u=function(e){return e.stepped?Fi:e.tension||"monotone"===e.cubicInterpolationMode?zi:ha}(r);let h,d,p,{move:f=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=s[(a+(g?c-h:h))%o],d.skip||(f?(e.moveTo(d.x,d.y),f=!1):u(e,p,d,g,r.stepped),p=d);return l&&(d=s[(a+(g?c:0))%o],u(e,p,d,g,r.stepped)),!!l}function fa(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=da(s,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,p,f,g,m=0,v=0;const y=e=>(o+(c?a-e:e))%r,b=()=>{p!==f&&(e.lineTo(m,f),e.lineTo(m,p),e.lineTo(m,g))};for(l&&(h=s[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=s[y(u)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===d?(n<p?p=n:n>f&&(f=n),m=(v*m+t)/++v):(b(),e.lineTo(t,n),d=i,v=0,p=f=n),g=n}b()}function ga(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?fa:pa}je(ca,"id","arc"),je(ca,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),je(ca,"defaultRoutes",{backgroundColor:"backgroundColor"}),je(ca,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const ma="function"===typeof Path2D;function va(e,t,n,i){ma&&!t.options.segment?function(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),ua(e,t.options),e.stroke(s)}(e,t,n,i):function(e,t,n,i){const{segments:s,options:r}=t,o=ga(t);for(const a of s)ua(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class ya extends mo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ws(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=function(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}(n,s,r,i);return Ws(e,!0===i?[{start:o,end:a,loop:r}]:function(e,t,n,i){const s=e.length,r=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%s];n.skip||n.stop?l.skip||(i=!1,r.push({start:t%s,end:(o-1)%s,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&r.push({start:t%s,end:a%s,loop:i}),r}(n,o,a<o?a+s:a,!!e._fullLoop&&0===o&&a===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],s=this.points,r=Hs(this,{property:t,start:i,end:i});if(!r.length)return;const o=[],a=function(e){return e.stepped?Is:e.tension||"monotone"===e.cubicInterpolationMode?As:Os}(n);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:u}=r[l],h=s[c],d=s[u];if(h===d){o.push(h);continue}const p=a(h,d,Math.abs((i-h[t])/(d[t]-h[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return ga(this)(e,this,t,n)}path(e,t,n){const i=this.segments,s=ga(this);let r=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)r&=s(e,this,o,{start:t,end:t+n-1});return!!r}draw(e,t,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),va(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ba(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}je(ya,"id","line"),je(ya,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),je(ya,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),je(ya,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class xa extends mo{constructor(e){super(),je(this,"parsed",void 0),je(this,"skip",void 0),je(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:s,y:r}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return ba(this,e,"x",t)}inYRange(e,t){return ba(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Ii(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Pi(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function wa(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function _a(e,t,n,i){return e?0:$n(t,n,i)}function ka(e){const t=wa(e),n=t.right-t.left,i=t.bottom-t.top,s=function(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=Qi(i);return{t:_a(s.top,r.top,0,n),r:_a(s.right,r.right,0,t),b:_a(s.bottom,r.bottom,0,n),l:_a(s.left,r.left,0,t)}}(e,n/2,i/2),r=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=$i(s),o=Math.min(t,n),a=e.borderSkipped,l=i||ln(s);return{topLeft:_a(!l||a.top||a.left,r.topLeft,0,o),topRight:_a(!l||a.top||a.right,r.topRight,0,o),bottomLeft:_a(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:_a(!l||a.bottom||a.right,r.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Sa(e,t,n,i){const s=null===t,r=null===n,o=e&&!(s&&r)&&wa(e,i);return o&&(s||Xn(t,o.left,o.right))&&(r||Xn(n,o.top,o.bottom))}function Ca(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ea(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}je(xa,"id","point"),je(xa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),je(xa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Ma extends mo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:r}=ka(this),o=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Hi:Ca;var a;e.save(),r.w===s.w&&r.h===s.h||(e.beginPath(),o(e,Ea(r,t,s)),e.clip(),o(e,Ea(s,-t,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Ea(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Sa(this,e,t,n)}inXRange(e,t){return Sa(this,e,null,t)}inYRange(e,t){return Sa(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}je(Ma,"id","bar"),je(Ma,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),je(Ma,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function La(e,t,n,i){if(i)return;let s=t[e],r=n[e];return"angle"===e&&(s=Yn(s),r=Yn(r)),{property:e,start:s,end:r}}function Na(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Ta(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function Da(e,t){let n=[],i=!1;return an(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(e=>{let{start:t,end:o}=e;o=Na(t,o,s);const a=s[t],l=s[o];null!==i?(r.push({x:a.x,y:i}),r.push({x:l.x,y:i})):null!==n&&(r.push({x:n,y:a.y}),r.push({x:n,y:l.y}))}),r}(e,t),n.length?new ya({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ja(e){return e&&!1!==e.fill}function Pa(e,t,n){let i=e[t].fill;const s=[t];let r;if(!n)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!cn(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;s.push(i),i=r.fill}return!1}function Oa(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=hn(n&&n.target,n);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(ln(i))return!isNaN(i.value)&&i;let s=parseFloat(i);return cn(s)&&Math.floor(s)===s?function(e,t,n,i){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=i)return!1;return n}(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Ia(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=Aa(r,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function Aa(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const e=r[c],t=o[e.start][n],i=o[e.end][n];if(Xn(s,t,i)){a=s===t,l=s===i;break}}return{first:a,last:l,point:i}}class Ra{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:s,radius:r}=this;return t=t||{start:0,end:Nn},e.arc(i,s,r,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function Fa(e){const{chart:t,fill:n,line:i}=e;if(cn(n))return function(e,t){const n=e.getDatasetMeta(t),i=n&&e.isDatasetVisible(t);return i?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const e=i[s];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(Da({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const e=r[l];for(let t=e.start;t<=e.end;t++)Ia(s,o[t],a)}return new ya({points:s,options:{}})}(e);if("shape"===n)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:ln(e)?e.value:t.getBaseValue(),i}(n,t,r),a=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,r);return new Ra({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:ln(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(cn(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return s instanceof Ra?s:Da(s,i)}function za(e,t,n){const i=Fa(t),{chart:s,index:r,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:p=h}=u||{},f=s.getDatasetMeta(r),g=Ys(s,f);i&&o.points.length&&(Ai(e,n),function(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=r;r!==s&&("x"===c?(Va(e,i,o.top),Ua(e,{line:n,target:i,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),Va(e,i,o.bottom)):"y"===c&&(Ba(e,i,o.left),Ua(e,{line:n,target:i,color:r,scale:a,property:c,clip:l}),e.restore(),e.save(),Ba(e,i,o.right),u=s));Ua(e,{line:n,target:i,color:u,scale:a,property:c,clip:l}),e.restore()}(e,{line:o,target:i,above:d,below:p,area:n,scale:a,axis:l,clip:g}),Ri(e))}function Va(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=s[i],u=s[Na(i,l,s)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Ba(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=s[i],u=s[Na(i,l,s)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(n,u.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Ua(e,t){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=t,l=function(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:e,end:i}=a;i=Na(e,i,s);const l=La(n,s[e],s[i],a.loop);if(!t.segments){o.push({source:a,target:l,start:s[e],end:s[i]});continue}const c=Hs(t,l);for(const t of c){const e=La(n,r[t.start],r[t.end],t.loop),i=Us(a,s,e);for(const s of i)o.push({source:s,target:t,start:{[n]:Ta(l,e,"start",Math.max)},end:{[n]:Ta(l,e,"end",Math.min)}})}}return o}(n,i,s);for(const{source:c,target:u,start:h,end:d}of l){const{style:{backgroundColor:t=r}={}}=c,l=!0!==i;e.save(),e.fillStyle=t,Ha(e,o,a,l&&La(s,h,d)),e.beginPath();const p=!!n.pathSegment(e,c);let f;if(l){p?e.closePath():Wa(e,i,d,s);const t=!!i.pathSegment(e,u,{move:p,reverse:!0});f=p&&t,f||Wa(e,i,h,s)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Ha(e,t,n,i){const s=t.chart.chartArea,{property:r,start:o,end:a}=i||{};if("x"===r||"y"===r){let t,i,l,c;"x"===r?(t=o,i=s.top,l=a,c=s.bottom):(t=s.left,i=o,l=s.right,c=a),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),i=Math.max(i,n.top),c=Math.min(c,n.bottom)),e.rect(t,i,l-t,c-i),e.clip()}}function Wa(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var qa={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ya&&(l={visible:e.isDatasetVisible(o),index:o,fill:Oa(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],l&&!1!==l.fill&&(l.fill=Pa(s,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const t=s[o].$filler;t&&(t.line.updateControlPoints(r,t.axis),i&&t.fill&&za(e.ctx,t,r))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;ja(t)&&za(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;ja(i)&&"beforeDatasetDraw"===n.drawTime&&za(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ka=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class Ga extends mo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=Zi(n.font),s=i.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=Ka(n,s);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,s,o,a)+10):(c=this.maxHeight,l=this._fitCols(r,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:s,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;s.textAlign="left",s.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((e,p)=>{const f=n+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>r)&&(u+=c,l[l.length-(p>0?0:1)]=0,d+=c,h++),a[p]={left:0,top:d,row:h,width:f,height:i},l[l.length-1]+=f+o}),u}_fitCols(e,t,n,i){const{ctx:s,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let u=o,h=0,d=0,p=0,f=0;return this.legendItems.forEach((e,r)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,i,s){const r=function(e,t,n,i){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+i.measureText(s).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=Ya(t,n));return i}(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}(n,t,s,e,i);r>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),p+=h+o,f++,h=d=0),a[r]={left:p,top:d,col:f,width:g,height:m},h=Math.max(h,g),d+=m+o}),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:s}}=this,r=Rs(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=ai(n,this.left+i,this.right-this.lineWidths[s]);for(const a of t)s!==a.row&&(s=a.row,o=ai(n,this.left+i,this.right-this.lineWidths[s])),a.top+=this.top+e+i,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+i}else{let s=0,o=ai(n,this.top+e+i,this.bottom-this.columnSizes[s].height);for(const a of t)a.col!==s&&(s=a.col,o=ai(n,this.top+e+i,this.bottom-this.columnSizes[s].height)),a.top=o,a.left+=this.left+i,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ai(e,this),this._draw(),Ri(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:s,labels:r}=e,o=Li.color,a=Rs(e.rtl,this.left,this.width),l=Zi(r.font),{padding:c}=r,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=Ka(r,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:ai(s,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:ai(s,this.top+v+c,this.bottom-t[0].height),line:0},Fs(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const w=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=r.textAlign)),k=p+h+w;let S=d.x,C=d.y;a.setWidth(this.width),m?x>0&&S+k+c>this.right&&(C=d.y+=y,d.line++,S=d.x=ai(s,this.left+c,this.right-n[d.line])):x>0&&C+y>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,C=d.y=ai(s,this.top+v+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const s=hn(n.lineWidth,1);if(i.fillStyle=hn(n.fillStyle,o),i.lineCap=hn(n.lineCap,"butt"),i.lineDashOffset=hn(n.lineDashOffset,0),i.lineJoin=hn(n.lineJoin,"miter"),i.lineWidth=s,i.strokeStyle=hn(n.strokeStyle,o),i.setLineDash(hn(n.lineDash,[])),r.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=a.xPlus(e,p/2);Oi(i,o,l,t+h,r.pointStyleWidth&&p)}else{const r=t+Math.max((u-f)/2,0),o=a.leftForLtr(e,p),l=$i(n.borderRadius);i.beginPath(),Object.values(l).some(e=>0!==e)?Hi(i,{x:o,y:r,w:p,h:f,radius:l}):i.rect(o,r,p,f),i.fill(),0!==s&&i.stroke()}i.restore()}(a.x(S),C,b),S=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+p+h,m?S+k:this.right,e.rtl),function(e,t,n){Ui(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),C,b),m)d.x+=k+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=Ya(b,e)+c}else d.y+=y}),zs(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Zi(t.font),i=Xi(t.padding);if(!t.display)return;const s=Rs(e.rtl,this.left,this.width),r=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=ai(e.align,u,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+ai(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=ai(o,u,u+h);r.textAlign=s.textAlign(oi(o)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,Ui(r,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Zi(e.font),n=Xi(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,s;if(Xn(e,this.left,this.right)&&Xn(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Xn(e,i.left,i.left+i.width)&&Xn(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,o=(s=n,null!==(i=r)&&null!==s&&i.datasetIndex===s.datasetIndex&&i.index===s.index);r&&!o&&pn(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!o&&pn(t.onHover,[e,n,this],this)}else n&&pn(t.onClick,[e,n,this],this);var i,s}}function Ya(e,t){return t*(e.text?e.text.length:0)}var Qa={id:"legend",_element:Ga,start(e,t,n){const i=e.legend=new Ga({ctx:e.ctx,options:n,chart:e});Xr.configure(e,i,n),Xr.addBox(e,i)},stop(e){Xr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Xr.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Xi(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class $a extends mo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=an(n.text)?n.text.length:1;this._padding=Xi(n.padding);const s=i*Zi(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:s,options:r}=this,o=r.align;let a,l,c,u=0;return this.isHorizontal()?(l=ai(o,n,s),c=t+e,a=s-n):("left"===r.position?(l=n+e,c=ai(o,i,t),u=-.5*Ln):(l=s-e,c=ai(o,t,i),u=.5*Ln),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Zi(t.font),i=n.lineHeight/2+this._padding.top,{titleX:s,titleY:r,maxWidth:o,rotation:a}=this._drawArgs(i);Ui(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:oi(t.align),textBaseline:"middle",translation:[s,r]})}}var Xa={id:"title",_element:$a,start(e,t,n){!function(e,t){const n=new $a({ctx:e.ctx,options:t,chart:e});Xr.configure(e,n,t),Xr.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Xr.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Xr.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Za={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),s+=e.y,++r}}if(0===r||0===i.size)return!1;return{x:[...i].reduce((e,t)=>e+t)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n,i,s,r=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=Kn(t,i.getCenterPoint());e<a&&(a=e,s=i)}}if(s){const e=s.tooltipPosition();r=e.x,o=e.y}return{x:r,y:o}}};function Ja(e,t){return t&&(an(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function el(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function tl(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function nl(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=Zi(t.bodyFont),c=Zi(t.titleFont),u=Zi(t.footerFont),h=r.length,d=s.length,p=i.length,f=Xi(t.padding);let g=f.height,m=0,v=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){g+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,fn(e.title,b),n.font=l.string,fn(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,fn(i,e=>{fn(e.before,b),fn(e.lines,b),fn(e.after,b)}),y=0,n.font=u.string,fn(e.footer,b),n.restore(),m+=f.width,{width:m,height:g}}function il(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),function(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;return"left"===e&&s+r+o>t.width||"right"===e&&s-r-o<0||void 0}(c,e,t,n)&&(c="center"),c}function sl(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||il(e,t,n,i),yAlign:i}}function rl(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=$i(o);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const g=function(e,t,n){let{y:i,height:s}=e;return"top"===t?i+=n:i-="bottom"===t?s+n:s/2,i}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(u,d)+s:"right"===a&&(f+=Math.max(h,p)+s),{x:$n(f,0,i.width-t.width),y:$n(g,0,i.height-t.height)}}function ol(e,t,n){const i=Xi(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function al(e){return Ja([],el(e))}function ll(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const cl={beforeTitle:sn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:sn,beforeBody:sn,beforeLabel:sn,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return on(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:sn,afterBody:sn,beforeFooter:sn,footer:sn,afterFooter:sn};function ul(e,t,n,i){const s=e[t].call(n,i);return"undefined"===typeof s?cl[t].call(n,i):s}class hl extends mo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,s=new er(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,es(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=ul(n,"beforeTitle",this,e),s=ul(n,"title",this,e),r=ul(n,"afterTitle",this,e);let o=[];return o=Ja(o,el(i)),o=Ja(o,el(s)),o=Ja(o,el(r)),o}getBeforeBody(e,t){return al(ul(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return fn(e,e=>{const t={before:[],lines:[],after:[]},s=ll(n,e);Ja(t.before,el(ul(s,"beforeLabel",this,e))),Ja(t.lines,ul(s,"label",this,e)),Ja(t.after,el(ul(s,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return al(ul(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=ul(n,"beforeFooter",this,e),s=ul(n,"footer",this,e),r=ul(n,"afterFooter",this,e);let o=[];return o=Ja(o,el(i)),o=Ja(o,el(s)),o=Ja(o,el(r)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],s=[],r=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(tl(this.chart,t[o]));return e.filter&&(l=l.filter((t,i,s)=>e.filter(t,i,s,n))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,n))),fn(l,t=>{const n=ll(e.callbacks,t);i.push(ul(n,"labelColor",this,t)),s.push(ul(n,"labelPointStyle",this,t)),r.push(ul(n,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let s,r=[];if(i.length){const e=Za[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const t=this._size=nl(this,n),o=Object.assign({},e,t),a=sl(this.chart,n,o),l=rl(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const s=this.getCaretPosition(e,n,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:s}=this,{caretSize:r,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=$i(o),{x:h,y:d}=e,{width:p,height:f}=t;let g,m,v,y,b,x;return"center"===s?(b=d+f/2,"left"===i?(g=h,m=g-r,y=b+r,x=b-r):(g=h+p,m=g+r,y=b-r,x=b+r),v=g):(m="left"===i?h+Math.max(a,c)+r:"right"===i?h+p-Math.max(l,u)-r:this.caretX,"top"===s?(y=d,b=y-r,g=m-r,v=m+r):(y=d+f,b=y+r,g=m+r,v=m-r),x=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:x}}drawTitle(e,t,n){const i=this.title,s=i.length;let r,o,a;if(s){const l=Rs(n.rtl,this.x,this.width);for(e.x=ol(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=Zi(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,a=0;a<s;++a)t.fillText(i[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o,a+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,s){const r=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=s,c=Zi(s.bodyFont),u=ol(this,"left",s),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+d;if(s.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=p+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Pi(e,t,n,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Pi(e,t,n,c)}else{e.lineWidth=ln(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=$i(r.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Hi(e,{x:t,y:p,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Hi(e,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=r.backgroundColor,e.fillRect(n,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:s,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Zi(n.bodyFont);let h=u.lineHeight,d=0;const p=Rs(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+d),e.y+h/2),e.y+=h+s},g=p.textAlign(r);let m,v,y,b,x,w,_;for(t.textAlign=r,t.textBaseline="middle",t.font=u.string,e.x=ol(this,g,n),t.fillStyle=n.bodyColor,fn(this.beforeBody,f),d=o&&"right"!==g?"center"===r?l/2+c:l+2+c:0,b=0,w=i.length;b<w;++b){for(m=i[b],v=this.labelTextColors[b],t.fillStyle=v,fn(m.before,f),y=m.lines,o&&y.length&&(this._drawColorBox(t,e,b,p,n),h=Math.max(u.lineHeight,a)),x=0,_=y.length;x<_;++x)f(y[x]),h=u.lineHeight;fn(m.after,f)}d=0,h=u.lineHeight,fn(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const i=this.footer,s=i.length;let r,o;if(s){const a=Rs(n.rtl,this.x,this.width);for(e.x=ol(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",r=Zi(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,o=0;o<s;++o)t.fillText(i[o],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:s,yAlign:r}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=$i(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===r&&"right"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-p),t.quadraticCurveTo(o+l,a+c,o+l-p,a+c),"bottom"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+d,a+c),t.quadraticCurveTo(o,a+c,o,a+c-d),"center"===r&&"left"===s&&this.drawCaret(e,t,n,i),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const n=Za[e.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=nl(this,e),o=Object.assign({},n,this._size),a=sl(t,e,o),l=rl(e,o,a,t);i._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Xi(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,t),Fs(e,t.textDirection),s.y+=r.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),zs(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}),s=!gn(n,i),r=this._positionChanged(i,t);(s||r)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],r=this._getActiveElements(e,s,t,n),o=this._positionChanged(r,e),a=t||!gn(r,s)||o;return a&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const s=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const r=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:n,caretY:i,options:s}=this,r=Za[s.position].call(this,e,t);return!1!==r&&(n!==r.x||i!==r.y)}}je(hl,"positioners",Za);var dl={id:"tooltip",_element:hl,positioners:Za,afterInit(e,t,n){n&&(e.tooltip=new hl({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Oe(Oe({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function pl(e,t,n,i){const s=e.indexOf(t);if(-1===s)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return s!==e.lastIndexOf(t)?n:s}function fl(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gl extends Eo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(on(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:$n(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:pl(n,e,hn(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=t;r++)i.push({value:r});return i}getLabelForValue(e){return fl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ml(e,t){const n=[],{bounds:i,step:s,min:r,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=s||1,p=c-1,{min:f,max:g}=t,m=!on(r),v=!on(o),y=!on(l),b=(g-f)/(u+1);let x,w,_,k,S=zn((g-f)/p/d)*d;if(S<1e-14&&!m&&!v)return[{value:f},{value:g}];k=Math.ceil(g/S)-Math.floor(f/S),k>p&&(S=zn(k*S/p/d)*d),on(a)||(x=Math.pow(10,a),S=Math.ceil(S*x)/x),"ticks"===i?(w=Math.floor(f/S)*S,_=Math.ceil(g/S)*S):(w=f,_=g),m&&v&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-r)/s,S/1e3)?(k=Math.round(Math.min((o-r)/S,c)),S=(o-r)/k,w=r,_=o):y?(w=m?r:w,_=v?o:_,k=l-1,S=(_-w)/k):(k=(_-w)/S,k=Fn(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const C=Math.max(Wn(S),Wn(w));x=Math.pow(10,on(a)?C:a),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let E=0;for(m&&(h&&w!==r?(n.push({value:r}),w<r&&E++,Fn(Math.round((w+E*S)*x)/x,r,vl(r,b,e))&&E++):w<r&&E++);E<k;++E){const e=Math.round((w+E*S)*x)/x;if(v&&e>o)break;n.push({value:e})}return v&&h&&_!==o?n.length&&Fn(n[n.length-1].value,o,vl(o,b,e))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function vl(e,t,n){let{horizontal:i,minRotation:s}=n;const r=Un(s),o=(i?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}je(gl,"id","category"),je(gl,"defaults",{ticks:{callback:fl}});class yl extends Eo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return on(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const r=e=>i=t?i:e,o=e=>s=n?s:e;if(e){const e=Rn(i),t=Rn(s);e<0&&t<0?o(0):e>0&&t>0&&r(0)}if(i===s){let t=0===s?1:Math.abs(.05*s);o(s+t),e||r(i-t)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=ml({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Bn(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return xi(e,this.chart.options.locale,this.options.ticks.format)}}class bl extends yl{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cn(e)?e:0,this.max=cn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Un(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}je(bl,"id","linear"),je(bl,"defaults",{ticks:{callback:_i.formatters.numeric}});const xl=e=>Math.floor(An(e)),wl=(e,t)=>Math.pow(10,xl(e)+t);function _l(e){return 1===e/Math.pow(10,xl(e))}function kl(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function Sl(e,t){let{min:n,max:i}=t;n=un(e.min,n);const s=[],r=xl(n);let o=function(e,t){let n=xl(t-e);for(;kl(e,t,n)>10;)n++;for(;kl(e,t,n)<10;)n--;return Math.min(n,xl(e))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=r>o?Math.pow(10,r):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),p=un(e.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;p<i;)s.push({value:p,major:_l(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),p=Math.round((c+h+d*Math.pow(10,o))*a)/a;const f=un(e.max,p);return s.push({value:f,major:_l(f),significand:d}),s}class Cl extends Eo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=yl.prototype.parse.apply(this,[e,t]);if(0!==n)return cn(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cn(e)?Math.max(0,e):null,this.max=cn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cn(this._userMin)&&(this.min=e===wl(this.min,0)?wl(this.min,-1):wl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const s=t=>n=e?n:t,r=e=>i=t?i:e;n===i&&(n<=0?(s(1),r(10)):(s(wl(n,-1)),r(wl(i,1)))),n<=0&&s(wl(i,-1)),i<=0&&r(wl(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=Sl({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Bn(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":xi(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=An(e),this._valueRange=An(this.max)-An(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(An(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function El(e){const t=e.ticks;if(t.display&&e.display){const e=Xi(t.backdropPadding);return hn(t.font&&t.font.size,Li.font.size)+e.height}return 0}function Ml(e,t,n){return n=an(n)?n:[n],{w:Ti(e,t.string,n),h:n.length*t.lineHeight}}function Ll(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function Nl(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Ln/r:0;for(let l=0;l<r;l++){const r=o.setContext(e.getPointLabelContext(l));s[l]=r.padding;const c=e.getPointPosition(l,e.drawingArea+s[l],a),u=Zi(r.font),h=Ml(e.ctx,u,e._pointLabels[l]);i[l]=h;const d=Yn(e.getIndexAngle(l)+a),p=Math.round(Hn(d));Tl(n,t,d,Ll(p,c.x,h.w,0,180),Ll(p,c.y,h.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:El(r)/2,additionalAngle:o?Ln/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const s=Dl(e,u,l);i.push(s),"auto"===a&&(s.visible=jl(s,c),s.visible&&(c=s))}return i}(e,i,s)}function Tl(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Dl(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(Hn(Yn(l.angle+Pn))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function jl(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Ii({x:n,y:i},t)||Ii({x:n,y:r},t)||Ii({x:s,y:i},t)||Ii({x:s,y:r},t))}function Pl(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!on(a)){const n=$i(t.borderRadius),l=Xi(t.backdropPadding);e.fillStyle=a;const c=i-l.left,u=s-l.top,h=r-i+l.width,d=o-s+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),Hi(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function Ol(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Nn);else{let n=e.getPointPosition(0,t);s.moveTo(n.x,n.y);for(let r=1;r<i;r++)n=e.getPointPosition(r,t),s.lineTo(n.x,n.y)}}je(Cl,"id","logarithmic"),je(Cl,"defaults",{ticks:{callback:_i.formatters.logarithmic,major:{enabled:!0}}});class Il extends yl{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xi(El(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=cn(e)&&!isNaN(e)?e:0,this.max=cn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/El(this.options))}generateTickLabels(e){yl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=pn(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?Nl(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return Yn(e*(Nn/(this._pointLabels.length||1))+Un(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(on(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(on(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return es(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-Pn+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Ol(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:s}=t,r=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const r=i.setContext(e.getPointLabelContext(s));Pl(n,r,t);const o=Zi(r.font),{x:a,y:l,textAlign:c}=t;Ui(n,e._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=s.setContext(n);!function(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),Ol(e,n,o,i),r.closePath(),r.stroke(),r.restore())}(this,o,a,r,l)}}),n.display){for(e.save(),o=r-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:s,lineWidth:r}=i;r&&s&&(e.lineWidth=r,e.strokeStyle=s,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=Zi(a.font);if(s=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,r=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=Xi(a.backdropPadding);e.fillRect(-r/2-t.left,-s-l.size/2-t.top,r+t.width,l.size+t.height)}Ui(e,i.label,0,-s,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})}),e.restore()}drawTitle(){}}je(Il,"id","radialLinear"),je(Il,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_i.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),je(Il,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),je(Il,"descriptors",{angleLines:{_fallback:"grid"}});const Al={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rl=Object.keys(Al);function Fl(e,t){return e-t}function zl(e,t){if(on(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),cn(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(s&&(o="week"!==s||!Vn(r)&&!0!==r?n.startOf(o,s):n.startOf(o,"isoWeek",r)),+o)}function Vl(e,t,n,i){const s=Rl.length;for(let r=Rl.indexOf(e);r<s-1;++r){const e=Al[Rl[r]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=i)return Rl[r]}return Rl[s-1]}function Bl(e,t,n){if(n){if(n.length){const{lo:i,hi:s}=Zn(n,t);e[n[i]>=t?n[i]:n[s]]=!0}}else e[t]=!0}function Ul(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return 0!==r&&n?function(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,s,n):i}class Hl extends Eo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new Dr(e.adapters.date);i.init(t),xn(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:zl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:r,maxDefined:o}=this.getUserBounds();function a(e){r||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(s=Math.max(s,e.max))}r&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=cn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),s=cn(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,r=function(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}(i,s,this.max);return this._unit=t.unit||(n.autoSkip?Vl(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,i,s){for(let r=Rl.length-1;r>=Rl.indexOf(n);r--){const n=Rl[r];if(Al[n].common&&e._adapter.diff(s,i,n)>=t-1)return n}return Rl[n?Rl.indexOf(n):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Rl.indexOf(e)+1,n=Rl.length;t<n;++t)if(Al[Rl[t]].common)return Rl[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&r.reverse(),Ul(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,s=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),s=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const r=n.length<3?.5:.25;i=$n(i,0,r),s=$n(s,0,r),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,s=i.time,r=s.unit||Vl(s.minUnit,t,n,this._getLabelCapacity(t)),o=hn(i.ticks.stepSize,1),a="week"===r&&s.isoWeekday,l=Vn(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":r),e.diff(n,t,r)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+r);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,r),h++)Bl(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==h||Bl(c,u,p),Object.keys(c).sort(Fl).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,s=t||n[i];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,i){const s=this.options,r=s.ticks.callback;if(r)return pn(r,[e,t,n],this);const o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,i||(d?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Un(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),r=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*r,h:n*r+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Ul(this,[e],this._majorUnit),i),r=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(zl(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ii(e.sort(Fl))}}function Wl(e,t,n){let i,s,r,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=Jn(e,"pos",t)),({pos:i,time:r}=e[a]),({pos:s,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=Jn(e,"time",t)),({time:i,pos:r}=e[a]),({time:s,pos:o}=e[l]));const c=s-i;return c?r+(o-r)*(t-i)/c:r}je(Hl,"id","time"),je(Hl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class ql extends Hl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Wl(t,this.min),this._tableRange=Wl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],s=[];let r,o,a,l,c;for(r=0,o=e.length;r<o;++r)l=e[r],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(r=0,o=i.length;r<o;++r)c=i[r+1],a=i[r-1],l=i[r],Math.round((c+a)/2)!==l&&s.push({time:l,pos:r/(o-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Wl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Wl(this._table,n*this._tableRange+this._minPos,!0)}}je(ql,"id","timeseries"),je(ql,"defaults",Hl.defaults);function Kl(e){var n;let{data:i,options:s={},colors:r={},className:o="",height:a=400}=e;const l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=Oe(Oe({},{primary:"#3b82f6",secondary:"#f97316",text:"#6b7280",border:"dark"===(null===(n=document.documentElement)||void 0===n?void 0:n.getAttribute("data-theme"))?"rgba(255, 255, 255, 0.1)":"rgba(229, 231, 235, 1)"}),r),h={labels:["Aug 01","Aug 02","Aug 03","Aug 04","Aug 05","Aug 06"],datasets:[{label:"CPU Usage",data:[65,70,68,72,75,73],borderColor:u.primary,backgroundColor:"".concat(u.primary,"20"),borderWidth:3,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:6},{label:"Memory Usage",data:[55,60,58,62,65,63],borderColor:u.secondary,backgroundColor:"".concat(u.secondary,"20"),borderWidth:3,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:6}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:u.text}}},layout:{padding:{top:5,right:20,bottom:5,left:5}},scales:{x:{grid:{drawOnChartArea:!1},ticks:{color:u.text,font:{size:12,weight:"500"}}},y:{grid:{color:u.border,lineWidth:1},ticks:{color:u.text,font:{size:12,weight:"500"}}}},interaction:{intersect:!1,mode:"index"}};return(0,t.useEffect)(()=>{if(l.current){c.current&&(c.current.destroy(),c.current=null);const e=l.current.getContext("2d");c.current=new ia(e,{type:"line",data:i||h,options:Oe(Oe({},d),s)})}return()=>{c.current&&(c.current.destroy(),c.current=null)}},[i,s,u]),(0,ct.jsx)("div",{className:o,style:{height:a},children:(0,ct.jsx)("canvas",{ref:l})})}ia.register(gl,bl,ya,Sr,xa,Xa,dl,Qa,qa);const Gl=e=>{let{data:n,title:i="Sensor History (Last 7 Days)",availableMetrics:s=[],defaultSelectedMetrics:r=["soilMoisture","temperature"],height:o=300}=e;const[a,l]=(0,t.useState)(r),c=s.length>0?s:[{key:"soilMoisture",label:"Soil Moisture"},{key:"temperature",label:"Temperature"},{key:"phLevel",label:"pH Level"},{key:"soilNitrogen",label:"Soil Nitrogen"}],u={labels:(null===n||void 0===n?void 0:n.labels)||[],datasets:a.map(e=>{var t;return null===n||void 0===n||null===(t=n.datasets)||void 0===t?void 0:t[e]}).filter(Boolean)};return(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 sm:mb-0",children:i}),(0,ct.jsx)("div",{className:"flex items-center flex-wrap gap-2",children:c.map(e=>(0,ct.jsx)("button",{onClick:()=>{return t=e.key,void l(e=>e.includes(t)?1===e.length?e:e.filter(e=>e!==t):[...e,t]);var t},className:"px-3 py-1 text-sm font-medium rounded-full transition-colors ".concat(a.includes(e.key)?"bg-blue-500 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.label},e.key))})]}),(0,ct.jsx)(Kl,{data:u,height:o})]})},Yl=e=>{let{alerts:t=[],title:n="Alerts",onViewAll:i,maxHeight:s="400px"}=e;const r=[{id:1,title:"pH Level Too High",description:"Sensor #PH001 \u2022 Current: 8.2",severity:"critical",color:"red"},{id:2,title:"Soil Moisture Low",description:"Garden Section A \u2022 Current: 45%",severity:"warning",color:"orange"},{id:3,title:"Temperature Fluctuation",description:"Greenhouse B \u2022 Variance: \xb15\xb0C",severity:"info",color:"blue"},{id:4,title:"High Humidity Detected",description:"Zone 3 \u2022 Current: 95%",severity:"caution",color:"yellow"},{id:5,title:"Wind Speed Too High",description:"External Sensor \u2022 Current: 15m/s",severity:"critical",color:"red"}],o=r.length;return(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 flex flex-col h-full",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,ct.jsx)("span",{className:"text-white text-xs bg-gray-800 font-bold py-1 px-2.5 rounded-md",children:o})]}),(0,ct.jsx)("div",{className:"flex-grow space-y-3 overflow-y-auto pr-2",style:{maxHeight:s},children:r.map(e=>{const t=(e=>{const t={red:{bg:"bg-red-50",border:"border-red-400",badgeBg:"bg-red-500",badgeText:"text-white"},orange:{bg:"bg-orange-50",border:"border-orange-400",badgeBg:"bg-orange-500",badgeText:"text-white"},blue:{bg:"bg-blue-50",border:"border-blue-400",badgeBg:"bg-blue-500",badgeText:"text-white"},yellow:{bg:"bg-yellow-50",border:"border-yellow-400",badgeBg:"bg-yellow-500",badgeText:"text-white"},green:{bg:"bg-green-50",border:"border-green-400",badgeBg:"bg-green-500",badgeText:"text-white"}};return t[e]||t.blue})(e.color||"blue");return(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border-l-4 ".concat(t.bg," ").concat(t.border),children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:e.title}),(0,ct.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),(0,ct.jsx)("span",{className:"text-xs font-medium py-1 px-3 rounded-full ".concat(t.badgeBg," ").concat(t.badgeText),children:e.severity?e.severity.charAt(0).toUpperCase()+e.severity.slice(1):"Info"})]},e.id)})}),i&&(0,ct.jsx)("div",{className:"mt-auto pt-4 text-center",children:(0,ct.jsx)("button",{onClick:i,className:"text-sm text-blue-700 hover:text-blue-900 font-semibold transition-colors",children:"View all alerts"})})]})},Ql=Ue("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$l=Ue("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xl=e=>{let{tasks:t=[],title:n="Tasks",onTaskToggle:i}=e;const s=t.length>0?t:[{id:1,name:"Watering",time:"08:00 AM",progress:40,completed:!1,description:"Water plants with 1 inch of water in the morning"},{id:2,name:"Fertilizing",time:"06:00 AM",progress:100,completed:!0,description:"Apply organic fertilizer at base of plants. Quantity: 50g per plant"},{id:3,name:"Pest Inspection",time:"11:00 AM",progress:0,completed:!1,description:"Look for leaves for any signs of aphids or other pests"},{id:4,name:"Soil Aeration",time:"02:00 PM",progress:0,completed:!1,description:"Loosen soil around the plants stem without damaging roots"}],r=s.filter(e=>e.completed).length,o=s.length;return(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,ct.jsxs)("span",{className:"text-sm text-gray-500",children:[r,"/",o," completed"]})]}),(0,ct.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,ct.jsxs)("div",{className:"border-b border-gray-100 last:border-b-0 pb-4 last:pb-0",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{i&&i(e.id,!e.completed)})(e),className:"transition-colors hover:scale-110",children:e.completed?(0,ct.jsx)(Ql,{className:"w-5 h-5 text-green-500"}):(0,ct.jsx)($l,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium ".concat(e.completed?"text-gray-500 line-through":"text-gray-900"),children:e.name}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:e.time})]})]}),(0,ct.jsxs)("span",{className:"text-sm text-gray-500",children:[e.progress,"%"]})]}),(0,ct.jsxs)("div",{className:"ml-8",children:[(0,ct.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,ct.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e.completed?"bg-green-500":"bg-blue-500"),style:{width:"".concat(e.progress,"%")}})}),(0,ct.jsx)("p",{className:"text-xs ".concat(e.completed?"text-gray-400":"text-gray-600"),children:e.description})]})]},e.id))})]})},Zl=e=>{let{title:t="Production Overview",totalProduction:n=1e3,productionUnit:i="Tons",totalLandArea:s="1200 acres",landUsagePercentage:r=56,revenue:o="$500,000",timeframe:a="Yearly",onTimeframeChange:l}=e;const c=2*Math.PI*56,u=c-r/100*c;return(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),(0,ct.jsxs)("select",{className:"text-sm border border-gray-200 rounded-lg px-3 py-1",value:a,onChange:e=>l&&l(e.target.value),children:[(0,ct.jsx)("option",{value:"Yearly",children:"Yearly"}),(0,ct.jsx)("option",{value:"Monthly",children:"Monthly"}),(0,ct.jsx)("option",{value:"Weekly",children:"Weekly"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"relative inline-flex items-center justify-center w-32 h-32 mb-4",children:[(0,ct.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",children:[(0,ct.jsx)("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"#f3f4f6",strokeWidth:"8"}),(0,ct.jsx)("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeDasharray:c,strokeDashoffset:u,className:"transition-all duration-1000 ease-out"}),(0,ct.jsx)("defs",{children:(0,ct.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,ct.jsx)("stop",{offset:"0%",stopColor:"#10b981"}),(0,ct.jsx)("stop",{offset:"50%",stopColor:"#3b82f6"}),(0,ct.jsx)("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]}),(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ct.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:n.toLocaleString()})})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:i})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Land Area"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:[r,"% used"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Revenue"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o})]})]})]})]})},Jl=Ue("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),ec=Ue("glass-water",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]),tc=Ue("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),nc=Ue("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ic=e=>{let{sensorData:n,loading:i}=e;const s=(0,t.useMemo)(()=>{if(!n)return[];const e=[],{soil_moisture:t,temperature:i,ph_level:s,nitrogen:r,organic_matter:o}=n;t<30?e.push({id:"watering",type:"critical",icon:Xe,title:"Immediate Irrigation Needed",description:"Low soil moisture (".concat(t,"%)"),action:"Water with 15-20 liters per citrus tree. Focus on the root zone area with a radius of 1.5m from the trunk.",priority:"high",timeframe:"Immediately (within 2 hours)",color:"text-rose-700",bgColor:"bg-gradient-to-r from-rose-50 to-pink-50",borderColor:"border-rose-300",iconBg:"bg-rose-100"}):t>80&&e.push({id:"drainage",type:"warning",icon:nt,title:"Drainage Required",description:"Soil moisture too high (".concat(t,"%)"),action:"Create drainage channels 30cm deep around the tree. Avoid watering for 2-3 days.",priority:"medium",timeframe:"6-12 hours",color:"text-amber-700",bgColor:"bg-gradient-to-r from-amber-50 to-yellow-50",borderColor:"border-amber-300",iconBg:"bg-amber-100"}),i>35&&e.push({id:"cooling",type:"warning",icon:He,title:"Heat Protection",description:"High temperature (".concat(i,"\xb0C) may stress plants"),action:"Install 40% shade net or 5-8cm thick organic mulch. Increase frequency of light watering.",priority:"medium",timeframe:"Today",color:"text-orange-700",bgColor:"bg-gradient-to-r from-orange-50 to-amber-50",borderColor:"border-orange-300",iconBg:"bg-orange-100"}),s<6?e.push({id:"ph_adjustment",type:"action",icon:Jl,title:"Soil pH Correction",description:"Soil pH too acidic (".concat(s,")"),action:"Apply 200-300g dolomite lime per tree. Mix with 2-3kg mature compost per tree.",priority:"medium",timeframe:"This week",color:"text-blue-700",bgColor:"bg-gradient-to-r from-blue-50 to-cyan-50",borderColor:"border-blue-300",iconBg:"bg-blue-100"}):s>7.5&&e.push({id:"ph_lower",type:"action",icon:Jl,title:"Lower Soil pH",description:"Soil pH too alkaline (".concat(s,")"),action:"Apply 50-80g elemental sulfur per tree or 3-4kg acidic organic compost per tree.",priority:"medium",timeframe:"This week",color:"text-indigo-700",bgColor:"bg-gradient-to-r from-indigo-50 to-purple-50",borderColor:"border-indigo-300",iconBg:"bg-indigo-100"}),r<20&&e.push({id:"nitrogen",type:"action",icon:Ze,title:"Nitrogen Fertilization",description:"Low nitrogen level (".concat(r," ppm)"),action:"Apply liquid organic NPK fertilizer at 100ml per 10 liters of water. Water the root zone twice a week.",priority:"high",timeframe:"2-3 days",color:"text-emerald-700",bgColor:"bg-gradient-to-r from-emerald-50 to-teal-50",borderColor:"border-emerald-300",iconBg:"bg-emerald-100"}),o<3&&e.push({id:"microorganisms",type:"enhancement",icon:Je,title:"Microorganism Injection",description:"Low organic matter (".concat(o,"%)"),action:"Inject EM4 250ml in 20 liters of water. Apply 2 liters per tree every 2 weeks.",priority:"medium",timeframe:"This week",color:"text-violet-700",bgColor:"bg-gradient-to-r from-violet-50 to-purple-50",borderColor:"border-violet-300",iconBg:"bg-violet-100"});const a=(new Date).getMonth();return a>=5&&a<=7&&e.push({id:"pruning",type:"maintenance",icon:ec,title:"Watering Suggestion",description:"Optimal watering area",action:"site A radius of 3 ares. should be watered 2000L Based on current soil moisture and temperature",priority:"low",timeframe:"This month",color:"text-slate-700",bgColor:"bg-gradient-to-r from-slate-50 to-gray-50",borderColor:"border-slate-300",iconBg:"bg-slate-100"}),e.push({id:"soil_health",type:"enhancement",icon:tc,title:"Soil Health Improvement",description:"Routine recommendation for healthy soil",action:"Apply 5-8kg mature compost per tree every 3 months. Add 500g biochar per tree for water retention.",priority:"low",timeframe:"Monthly routine",color:"text-teal-700",bgColor:"bg-gradient-to-r from-teal-50 to-cyan-50",borderColor:"border-teal-300",iconBg:"bg-teal-100"}),e.sort((e,t)=>{const n={high:3,medium:2,low:1};return n[t.priority]-n[e.priority]})},[n]),r=e=>{switch(e){case"high":return(0,ct.jsx)(nt,{className:"w-4 h-4 text-red-500"});case"medium":return(0,ct.jsx)(nc,{className:"w-4 h-4 text-amber-500"});case"low":return(0,ct.jsx)(Ql,{className:"w-4 h-4 text-green-500"});default:return(0,ct.jsx)(tc,{className:"w-4 h-4 text-gray-500"})}};return i?(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border h-full",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Condition and Suggestion"}),(0,ct.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,ct.jsx)("div",{className:"h-20 bg-gray-200 rounded"},e))})]}):(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border h-full",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900",children:"Condition & Suggestion"}),(0,ct.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,ct.jsx)(Je,{className:"w-4 h-4 mr-1"}),s.length," suggestions"]})]}),(0,ct.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:s.map(e=>{const t=e.icon;return(0,ct.jsxs)("div",{className:"relative p-5 rounded-xl border ".concat(e.bgColor," ").concat(e.borderColor," transition-all duration-300 hover:shadow-lg hover:scale-[1.02] overflow-hidden"),children:[(0,ct.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-5",children:(0,ct.jsx)(t,{className:"w-full h-full"})}),(0,ct.jsxs)("div",{className:"relative z-10",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"p-2 rounded-lg ".concat(e.iconBg),children:(0,ct.jsx)(t,{className:"w-5 h-5 ".concat(e.color)})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-base ".concat(e.color),children:e.title}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]}),r(e.priority)]}),(0,ct.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm p-3 rounded-lg border border-white/50 mb-3 shadow-sm",children:[(0,ct.jsxs)("p",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[(0,ct.jsx)(tc,{className:"w-3 h-3"}),"Recommended Action:"]}),(0,ct.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.action})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ct.jsx)("span",{className:"px-3 py-1.5 rounded-full font-medium text-white shadow-sm ".concat("high"===e.priority?"bg-gradient-to-r from-red-500 to-rose-500":"medium"===e.priority?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-emerald-500 to-teal-500"),children:"high"===e.priority?"High Priority":"medium"===e.priority?"Medium Priority":"Low Priority"}),(0,ct.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 bg-white/50 px-2 py-1 rounded-full",children:[(0,ct.jsx)(nc,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:e.timeframe})]})]})]})]},e.id)})}),0===s.length&&(0,ct.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ct.jsx)(Ql,{className:"w-12 h-12 mx-auto mb-2 text-green-400"}),(0,ct.jsx)("p",{children:"All parameters are in optimal condition"})]})]})},sc=n.p+"static/media/limaunipis.ed0187bf5ea5e9680634.png";function rc(e){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(e)}function oc(e){var t=function(e,t){if("object"!=rc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=rc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rc(t)?t:t+""}function ac(e,t,n){return(t=oc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cc,uc;var hc=lc(uc?cc:(uc=1,cc=function(e,t,n,i,s,r,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,s,r,o,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}})),dc=(0,t.createContext)(null);function pc(e,t,n,i){var s,r,o={};return s=e,r=(e,s)=>{var r=n[s];r!==t[s]&&(o[s]=r,e(i,r))},Object.keys(s).forEach(e=>r(s[e],e)),o}function fc(e,t,n){var i,s,r,o=(i=n,s=function(n,i,s){return"function"===typeof e[s]&&n.push(google.maps.event.addListener(t,i,e[s])),n},r=[],Object.keys(i).reduce(function(e,t){return s(e,i[t],t)},r));return o}function gc(e){google.maps.event.removeListener(e)}function mc(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(gc)}function vc(e){var{updaterMap:t,eventMap:n,prevProps:i,nextProps:s,instance:r}=e,o=fc(s,r,n);return pc(t,i,s,r),o}var yc={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},bc={extraMapTypes(e,t){t.forEach(function(t,n){e.mapTypes.set(String(n),t)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,t.memo)(function(e){var{children:n,options:i,id:s,mapContainerStyle:r,mapContainerClassName:o,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:d,onMouseMove:p,onMouseOut:f,onMouseOver:g,onMouseDown:m,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:x,onUnmount:w}=e,[_,k]=(0,t.useState)(null),S=(0,t.useRef)(null),[C,E]=(0,t.useState)(null),[M,L]=(0,t.useState)(null),[N,T]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[R,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,U]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null),[G,Y]=(0,t.useState)(null);return(0,t.useEffect)(()=>{i&&null!==_&&_.setOptions(i)},[_,i]),(0,t.useEffect)(()=>{null!==_&&"undefined"!==typeof a&&_.setCenter(a)},[_,a]),(0,t.useEffect)(()=>{_&&c&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(_,"dblclick",c)))},[c]),(0,t.useEffect)(()=>{_&&h&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(_,"dragend",h)))},[h]),(0,t.useEffect)(()=>{_&&d&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(_,"dragstart",d)))},[d]),(0,t.useEffect)(()=>{_&&m&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(_,"mousedown",m)))},[m]),(0,t.useEffect)(()=>{_&&p&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(_,"mousemove",p)))},[p]),(0,t.useEffect)(()=>{_&&f&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(_,"mouseout",f)))},[f]),(0,t.useEffect)(()=>{_&&g&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(_,"mouseover",g)))},[g]),(0,t.useEffect)(()=>{_&&v&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(_,"mouseup",v)))},[v]),(0,t.useEffect)(()=>{_&&y&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(_,"rightclick",y)))},[y]),(0,t.useEffect)(()=>{_&&l&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(_,"click",l)))},[l]),(0,t.useEffect)(()=>{_&&u&&(null!==G&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(_,"drag",u)))},[u]),(0,t.useEffect)(()=>{_&&b&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(_,"center_changed",b)))},[l]),(0,t.useEffect)(()=>{var e=null===S.current?null:new google.maps.Map(S.current,i);return k(e),null!==e&&x&&x(e),()=>{null!==e&&w&&w(e)}},[]),(0,ct.jsx)("div",{id:s,ref:S,style:r,className:o,children:(0,ct.jsx)(dc.Provider,{value:_,children:null!==_?n:null})})});class xc extends t.PureComponent{constructor(){super(...arguments),ac(this,"state",{map:null}),ac(this,"registeredEvents",[]),ac(this,"mapRef",null),ac(this,"getInstance",()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options)),ac(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),ac(this,"setMapCallback",()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ac(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=vc({updaterMap:bc,eventMap:yc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:bc,eventMap:yc,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),mc(this.registeredEvents))}render(){return(0,ct.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,ct.jsx)(dc.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function wc(e,t,n,i,s,r,o){try{var a=e[r](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,s)}function _c(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var r=e.apply(t,n);function o(e){wc(r,i,s,o,a,"next",e)}function a(e){wc(r,i,s,o,a,"throw",e)}o(void 0)})}}function kc(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:i="weekly",language:s,region:r,libraries:o,channel:a,mapIds:l,authReferrerPolicy:c,apiUrl:u="https://maps.googleapis.com"}=e,h=[];return hc(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):n&&h.push("client=".concat(n)),i&&h.push("v=".concat(i)),s&&h.push("language=".concat(s)),r&&h.push("region=".concat(r)),o&&o.length&&h.push("libraries=".concat(o.sort().join(","))),a&&h.push("channel=".concat(a)),l&&l.length&&h.push("map_ids=".concat(l.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("loading=async"),h.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(h.join("&"))}var Sc="undefined"!==typeof document;function Cc(e){var{url:t,id:n,nonce:i}=e;return Sc?new Promise(function(e,s){var r=document.getElementById(n),o=window;if(r){var a=r.getAttribute("data-state");if(r.src===t&&"error"!==a){if("ready"===a)return e(n);var l=o.initMap,c=r.onerror;return o.initMap=function(){l&&l(),e(n)},void(r.onerror=function(e){c&&c(e),s(e)})}r.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=i||"",u.onerror=function(e){u.setAttribute("data-state","error"),s(e)},o.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function Ec(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Mc(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,i){return Ec(n)||Reflect.apply(t,e,[n,i]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return Ec(t)||Reflect.apply(n,e,[t]),t}}}var Lc=!1;function Nc(){return(0,ct.jsx)("div",{children:"Loading..."})}var Tc,Dc={id:"script-loader",version:"weekly"};class jc extends t.PureComponent{constructor(){super(...arguments),ac(this,"check",null),ac(this,"state",{loaded:!1}),ac(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ac(this,"isCleaningUp",_c(function*(){return new Promise(function(e){if(Lc){if(Sc)var t=window.setInterval(function(){Lc||(window.clearInterval(t),e())},1)}else e()})})),ac(this,"cleanup",()=>{Lc=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),ac(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Mc(),hc(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),Cc({id:this.props.id,nonce:this.props.nonce,url:kc(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),ac(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Sc){if(window.google&&window.google.maps&&!Lc)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Sc&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Sc){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,Lc=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,ct.jsx)(Nc,{})]})}}function Pc(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}ac(jc,"defaultProps",Dc);var Oc=["loadingElement","onLoad","onError","onUnmount","children"],Ic=(0,ct.jsx)(Nc,{});(0,t.memo)(function(e){var{loadingElement:n,onLoad:i,onError:s,onUnmount:r,children:o}=e,a=Pc(e,Oc),{isLoaded:l,loadError:c}=function(e){var{id:n=Dc.id,version:i=Dc.version,nonce:s,googleMapsApiKey:r,googleMapsClientId:o,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:d,authReferrerPolicy:p,apiUrl:f="https://maps.googleapis.com"}=e,g=(0,t.useRef)(!1),[m,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(void 0);(0,t.useEffect)(function(){return g.current=!0,()=>{g.current=!1}},[]),(0,t.useEffect)(function(){Sc&&u&&Mc()},[u]),(0,t.useEffect)(function(){m&&hc(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[m]);var x=kc({version:i,googleMapsApiKey:r,googleMapsClientId:o,language:a,region:l,libraries:c,channel:h,mapIds:d,authReferrerPolicy:p,apiUrl:f});(0,t.useEffect)(function(){function e(){g.current&&(v(!0),Tc=x)}Sc&&(window.google&&window.google.maps&&Tc===x?e():Cc({id:n,url:x,nonce:s}).then(e).catch(function(e){g.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(r||"-",") or Client ID (").concat(o||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[n,x,s]);var w=(0,t.useRef)(void 0);return(0,t.useEffect)(function(){w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c},[c]),{isLoaded:m,loadError:y,url:x}}(a);return(0,t.useEffect)(function(){l&&"function"===typeof i&&i()},[l,i]),(0,t.useEffect)(function(){c&&"function"===typeof s&&s(c)},[c,s]),(0,t.useEffect)(function(){return()=>{r&&r()}},[r]),l?o:n||Ic});function Ac(e,t,n,i){return new(n||(n=Promise))(function(t,s){function r(e){try{a(i.next(e))}catch(bE){s(bE)}}function o(e){try{a(i.throw(e))}catch(bE){s(bE)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(e){e(i)})).then(r,o)}a((i=i.apply(e,[])).next())})}function Rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"===typeof SuppressedError&&SuppressedError;var Fc,zc=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(s=i;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=i;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;0!==s--;){var o=r[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},Vc=Rc(zc),Bc="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Fc||(Fc={}));class Uc{constructor(e){var{apiKey:t,authReferrerPolicy:n,channel:i,client:s,id:r=Bc,language:o,libraries:a=[],mapIds:l,nonce:c,region:u,retries:h=3,url:d="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=i,this.client=s,this.id=r||Bc,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=h,this.url=d,this.version=p,Uc.instance){if(!Vc(this.options,Uc.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Uc.instance.options)));return Uc.instance}Uc.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Fc.FAILURE:this.done?Fc.SUCCESS:this.loading?Fc.LOADING:Fc.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))this.callback();else{var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(e=>!n[e]&&delete n[e]),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{var t,n,i,s="The Google Maps JavaScript API",r="google",o="importLibrary",a="__ib__",l=document,c=window,u=(c=c[r]||(c[r]={})).maps||(c.maps={}),h=new Set,d=new URLSearchParams,p=()=>t||(t=new Promise((o,c)=>Ac(this,0,void 0,function*(){var p;for(i in yield n=l.createElement("script"),n.id=this.id,d.set("libraries",[...h]+""),e)d.set(i.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),e[i]);d.set("callback",r+".maps."+a),n.src=this.url+"?"+d,u[a]=o,n.onerror=()=>t=c(Error(s+" could not load.")),n.nonce=this.nonce||(null===(p=l.querySelector("script[nonce]"))||void 0===p?void 0:p.nonce)||"",l.head.append(n)})));u[o]?console.warn(s+" only loads once. Ignoring:",e):u[o]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return h.add(e)&&p().then(()=>u[o](e,...n))}})(n);var i=this.libraries.map(e=>this.importLibrary(e));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),e=>{var t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)})}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var Hc=["maps"];function Wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Kc={},Gc={options(e,t){e.setOptions(t)}};(0,t.memo)(function(e){var{options:n,onLoad:i,onUnmount:s}=e,r=(0,t.useContext)(dc),[o,a]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==o&&o.setMap(r)},[r]),(0,t.useEffect)(()=>{n&&null!==o&&o.setOptions(n)},[o,n]),(0,t.useEffect)(()=>{var e=new google.maps.TrafficLayer(qc(qc({},n),{},{map:r}));return a(e),i&&i(e),()=>{null!==o&&(s&&s(o),o.setMap(null))}},[]),null});class Yc extends t.PureComponent{constructor(){super(...arguments),ac(this,"state",{trafficLayer:null}),ac(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ac(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(qc(qc({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:Gc,eventMap:Kc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:Gc,eventMap:Kc,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),mc(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ac(Yc,"contextType",dc);(0,t.memo)(function(e){var{onLoad:n,onUnmount:i}=e,s=(0,t.useContext)(dc),[r,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==r&&r.setMap(s)},[s]),(0,t.useEffect)(()=>{var e=new google.maps.BicyclingLayer;return o(e),e.setMap(s),n&&n(e),()=>{null!==e&&(i&&i(e),e.setMap(null))}},[]),null});class Qc extends t.PureComponent{constructor(){super(...arguments),ac(this,"state",{bicyclingLayer:null}),ac(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ac(Qc,"contextType",dc);(0,t.memo)(function(e){var{onLoad:n,onUnmount:i}=e,s=(0,t.useContext)(dc),[r,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==r&&r.setMap(s)},[s]),(0,t.useEffect)(()=>{var e=new google.maps.TransitLayer;return o(e),e.setMap(s),n&&n(e),()=>{null!==r&&(i&&i(r),r.setMap(null))}},[]),null});class $c extends t.PureComponent{constructor(){super(...arguments),ac(this,"state",{transitLayer:null}),ac(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac($c,"contextType",dc);var Jc={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},eu={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,t.memo)(function(e){var{options:n,drawingMode:i,onCircleComplete:s,onMarkerComplete:r,onOverlayComplete:o,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=e,d=(0,t.useContext)(dc),[p,f]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==p&&p.setMap(d)},[d]),(0,t.useEffect)(()=>{n&&null!==p&&p.setOptions(n)},[p,n]),(0,t.useEffect)(()=>{null!==p&&p.setDrawingMode(null!==i&&void 0!==i?i:null)},[p,i]),(0,t.useEffect)(()=>{p&&s&&(null!==g&&google.maps.event.removeListener(g),m(google.maps.event.addListener(p,"circlecomplete",s)))},[p,s]),(0,t.useEffect)(()=>{p&&r&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"markercomplete",r)))},[p,r]),(0,t.useEffect)(()=>{p&&o&&(null!==b&&google.maps.event.removeListener(b),x(google.maps.event.addListener(p,"overlaycomplete",o)))},[p,o]),(0,t.useEffect)(()=>{p&&a&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(p,"polygoncomplete",a)))},[p,a]),(0,t.useEffect)(()=>{p&&l&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),(0,t.useEffect)(()=>{p&&c&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),(0,t.useEffect)(()=>{hc(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Zc(Zc({},n),{},{map:d}));return i&&e.setDrawingMode(i),s&&m(google.maps.event.addListener(e,"circlecomplete",s)),r&&y(google.maps.event.addListener(e,"markercomplete",r)),o&&x(google.maps.event.addListener(e,"overlaycomplete",o)),a&&_(google.maps.event.addListener(e,"polygoncomplete",a)),l&&S(google.maps.event.addListener(e,"polylinecomplete",l)),c&&E(google.maps.event.addListener(e,"rectanglecomplete",c)),f(e),u&&u(e),()=>{null!==p&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),w&&google.maps.event.removeListener(w),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),h&&h(p),p.setMap(null))}},[]),null});class tu extends t.PureComponent{constructor(e){super(e),ac(this,"registeredEvents",[]),ac(this,"state",{drawingManager:null}),ac(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),hc(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Zc(Zc({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:eu,eventMap:Jc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:eu,eventMap:Jc,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),mc(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(tu,"contextType",dc);var su={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},ru={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},ou={};(0,t.memo)(function(e){var{position:n,options:i,clusterer:s,noClustererRedraw:r,children:o,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:d,label:p,opacity:f,shape:g,title:m,zIndex:v,onClick:y,onDblClick:b,onDrag:x,onDragEnd:w,onDragStart:_,onMouseOut:k,onMouseOver:S,onMouseUp:C,onMouseDown:E,onRightClick:M,onClickableChanged:L,onCursorChanged:N,onAnimationChanged:T,onDraggableChanged:D,onFlatChanged:j,onIconChanged:P,onPositionChanged:O,onShapeChanged:I,onTitleChanged:A,onVisibleChanged:R,onZindexChanged:F,onLoad:z,onUnmount:V}=e,B=(0,t.useContext)(dc),[U,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[$,X]=(0,t.useState)(null),[Z,J]=(0,t.useState)(null),[ee,te]=(0,t.useState)(null),[ne,ie]=(0,t.useState)(null),[se,re]=(0,t.useState)(null),[oe,ae]=(0,t.useState)(null),[le,ce]=(0,t.useState)(null),[ue,he]=(0,t.useState)(null),[de,pe]=(0,t.useState)(null),[fe,ge]=(0,t.useState)(null),[me,ve]=(0,t.useState)(null),[ye,be]=(0,t.useState)(null),[xe,we]=(0,t.useState)(null),[_e,ke]=(0,t.useState)(null),[Se,Ce]=(0,t.useState)(null),[Ee,Me]=(0,t.useState)(null),[Le,Ne]=(0,t.useState)(null),[Te,De]=(0,t.useState)(null);(0,t.useEffect)(()=>{null!==U&&U.setMap(B)},[B]),(0,t.useEffect)(()=>{"undefined"!==typeof i&&null!==U&&U.setOptions(i)},[U,i]),(0,t.useEffect)(()=>{"undefined"!==typeof a&&null!==U&&U.setDraggable(a)},[U,a]),(0,t.useEffect)(()=>{n&&null!==U&&U.setPosition(n)},[U,n]),(0,t.useEffect)(()=>{"undefined"!==typeof l&&null!==U&&U.setVisible(l)},[U,l]),(0,t.useEffect)(()=>{null===U||void 0===U||U.setAnimation(c)},[U,c]),(0,t.useEffect)(()=>{U&&void 0!==u&&U.setClickable(u)},[U,u]),(0,t.useEffect)(()=>{U&&void 0!==h&&U.setCursor(h)},[U,h]),(0,t.useEffect)(()=>{U&&void 0!==d&&U.setIcon(d)},[U,d]),(0,t.useEffect)(()=>{U&&void 0!==p&&U.setLabel(p)},[U,p]),(0,t.useEffect)(()=>{U&&void 0!==f&&U.setOpacity(f)},[U,f]),(0,t.useEffect)(()=>{U&&void 0!==g&&U.setShape(g)},[U,g]),(0,t.useEffect)(()=>{U&&void 0!==m&&U.setTitle(m)},[U,m]),(0,t.useEffect)(()=>{U&&void 0!==v&&U.setZIndex(v)},[U,v]),(0,t.useEffect)(()=>{U&&b&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(U,"dblclick",b)))},[b]),(0,t.useEffect)(()=>{U&&w&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(U,"dragend",w)))},[w]),(0,t.useEffect)(()=>{U&&_&&(null!==Y&&google.maps.event.removeListener(Y),Q(google.maps.event.addListener(U,"dragstart",_)))},[_]),(0,t.useEffect)(()=>{U&&E&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(U,"mousedown",E)))},[E]),(0,t.useEffect)(()=>{U&&k&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(U,"mouseout",k)))},[k]),(0,t.useEffect)(()=>{U&&S&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(U,"mouseover",S)))},[S]),(0,t.useEffect)(()=>{U&&C&&(null!==ne&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(U,"mouseup",C)))},[C]),(0,t.useEffect)(()=>{U&&M&&(null!==se&&google.maps.event.removeListener(se),re(google.maps.event.addListener(U,"rightclick",M)))},[M]),(0,t.useEffect)(()=>{U&&y&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(U,"click",y)))},[y]),(0,t.useEffect)(()=>{U&&x&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(U,"drag",x)))},[x]),(0,t.useEffect)(()=>{U&&L&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(U,"clickable_changed",L)))},[L]),(0,t.useEffect)(()=>{U&&N&&(null!==de&&google.maps.event.removeListener(de),pe(google.maps.event.addListener(U,"cursor_changed",N)))},[N]),(0,t.useEffect)(()=>{U&&T&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(U,"animation_changed",T)))},[T]),(0,t.useEffect)(()=>{U&&D&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(U,"draggable_changed",D)))},[D]),(0,t.useEffect)(()=>{U&&j&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(U,"flat_changed",j)))},[j]),(0,t.useEffect)(()=>{U&&P&&(null!==xe&&google.maps.event.removeListener(xe),we(google.maps.event.addListener(U,"icon_changed",P)))},[P]),(0,t.useEffect)(()=>{U&&O&&(null!==_e&&google.maps.event.removeListener(_e),ke(google.maps.event.addListener(U,"position_changed",O)))},[O]),(0,t.useEffect)(()=>{U&&I&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(U,"shape_changed",I)))},[I]),(0,t.useEffect)(()=>{U&&A&&(null!==Ee&&google.maps.event.removeListener(Ee),Me(google.maps.event.addListener(U,"title_changed",A)))},[A]),(0,t.useEffect)(()=>{U&&R&&(null!==Le&&google.maps.event.removeListener(Le),Ne(google.maps.event.addListener(U,"visible_changed",R)))},[R]),(0,t.useEffect)(()=>{U&&F&&(null!==Te&&google.maps.event.removeListener(Te),De(google.maps.event.addListener(U,"zindex_changed",F)))},[F]),(0,t.useEffect)(()=>{var e=iu(iu(iu({},i||ou),s?ou:{map:B}),{},{position:n}),t=new google.maps.Marker(e);return s?s.addMarker(t,!!r):t.setMap(B),n&&t.setPosition(n),"undefined"!==typeof l&&t.setVisible(l),"undefined"!==typeof a&&t.setDraggable(a),"undefined"!==typeof u&&t.setClickable(u),"string"===typeof h&&t.setCursor(h),d&&t.setIcon(d),"undefined"!==typeof p&&t.setLabel(p),"undefined"!==typeof f&&t.setOpacity(f),g&&t.setShape(g),"string"===typeof m&&t.setTitle(m),"number"===typeof v&&t.setZIndex(v),b&&q(google.maps.event.addListener(t,"dblclick",b)),w&&G(google.maps.event.addListener(t,"dragend",w)),_&&Q(google.maps.event.addListener(t,"dragstart",_)),E&&X(google.maps.event.addListener(t,"mousedown",E)),k&&J(google.maps.event.addListener(t,"mouseout",k)),S&&te(google.maps.event.addListener(t,"mouseover",S)),C&&ie(google.maps.event.addListener(t,"mouseup",C)),M&&re(google.maps.event.addListener(t,"rightclick",M)),y&&ae(google.maps.event.addListener(t,"click",y)),x&&ce(google.maps.event.addListener(t,"drag",x)),L&&he(google.maps.event.addListener(t,"clickable_changed",L)),N&&pe(google.maps.event.addListener(t,"cursor_changed",N)),T&&ge(google.maps.event.addListener(t,"animation_changed",T)),D&&ve(google.maps.event.addListener(t,"draggable_changed",D)),j&&be(google.maps.event.addListener(t,"flat_changed",j)),P&&we(google.maps.event.addListener(t,"icon_changed",P)),O&&ke(google.maps.event.addListener(t,"position_changed",O)),I&&Ce(google.maps.event.addListener(t,"shape_changed",I)),A&&Me(google.maps.event.addListener(t,"title_changed",A)),R&&Ne(google.maps.event.addListener(t,"visible_changed",R)),F&&De(google.maps.event.addListener(t,"zindex_changed",F)),H(t),z&&z(t),()=>{null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==$&&google.maps.event.removeListener($),null!==Z&&google.maps.event.removeListener(Z),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),null!==oe&&google.maps.event.removeListener(oe),null!==ue&&google.maps.event.removeListener(ue),null!==de&&google.maps.event.removeListener(de),null!==fe&&google.maps.event.removeListener(fe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==xe&&google.maps.event.removeListener(xe),null!==_e&&google.maps.event.removeListener(_e),null!==Ee&&google.maps.event.removeListener(Ee),null!==Le&&google.maps.event.removeListener(Le),null!==Te&&google.maps.event.removeListener(Te),V&&V(t),s?s.removeMarker(t,!!r):t&&t.setMap(null)}},[]);var je=(0,t.useMemo)(()=>o?t.Children.map(o,e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:U})}):null,[o,U]);return(0,ct.jsx)(ct.Fragment,{children:je})||null});class au extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[])}componentDidMount(){var e=this;return _c(function*(){var t=iu(iu(iu({},e.props.options||ou),e.props.clusterer?ou:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=vc({updaterMap:ru,eventMap:su,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:ru,eventMap:su,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),mc(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?t.Children.map(this.props.children,e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:this.marker})}):null)||null}}ac(au,"contextType",dc);var lu=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(i);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,i,s,r;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(i=this.sums)||void 0===i?void 0:i.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(d.innerHTML="".concat(null===(r=this.sums)||void 0===r?void 0:r.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),cu=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new lu(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var i=n[t].getPosition();i&&e.extend(i)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==r&&"undefined"!==typeof o&&o>r)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof i&&i>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function uu(e,t){var n=e.length,i=n.toString().length,s=Math.min(i,t);return{text:n.toString(),index:s,title:""}}var hu=[53,56,66,78,90],du=function(){function e(t,n,i){void 0===n&&(n=[]),void 0===i&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,void 0!==i.averageCenter&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=i.imageExtension||"png",this.imageSizes=i.imageSizes||hu,this.calculator=i.calculator||uu,this.batchSize=i.batchSize||2e3,this.batchSizeIE=i.batchSizeIE||500,this.clusterClass=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){s[i].remove()}this.clusters=[];for(var r=0,o=this.listeners;r<o.length;r++){var a=o[r];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var s=i[n].getPosition();s&&t.extend(s)}var r=this.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,s=e;i<s.length;i++){var r=s[i];n=n||this.removeMarker_(r)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==i&&(i.x-=this.gridSize,i.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==i){var r=t.fromDivPixelToLatLng(i);null!==r&&e.extend(r)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var i=0,s=this.markers;i<s.length;i++){var r=s[i];r.isAdded=!1,e&&r.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,s=0,r=this.clusters;s<r.length;s++){var o=(t=r[s]).getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<n&&(n=l,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new cu(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===i||void 0===i?void 0:i.getSouthWest(),null===i||void 0===i?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),r=this.getExtendedBounds(s),o=Math.min(e+this.batchSize,this.markers.length),a=e;a<o;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,r)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(o)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var fu={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},gu={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},mu={};(0,t.memo)(function(e){var{children:n,options:i,averageCenter:s,batchSizeIE:r,calculator:o,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:d,imageSizes:p,maxZoom:f,minimumClusterSize:g,styles:m,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:x,onClusteringEnd:w,onMouseOver:_,onMouseOut:k,onLoad:S,onUnmount:C}=e,[E,M]=(0,t.useState)(null),L=(0,t.useContext)(dc),[N,T]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[R,F]=(0,t.useState)(null);return(0,t.useEffect)(()=>{E&&k&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(E,fu.onMouseOut,k)))},[k]),(0,t.useEffect)(()=>{E&&_&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(E,fu.onMouseOver,_)))},[_]),(0,t.useEffect)(()=>{E&&b&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(E,fu.onClick,b)))},[b]),(0,t.useEffect)(()=>{E&&x&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(E,fu.onClusteringBegin,x)))},[x]),(0,t.useEffect)(()=>{E&&w&&(null!==P&&google.maps.event.removeListener(P),j(google.maps.event.addListener(E,fu.onClusteringEnd,w)))},[w]),(0,t.useEffect)(()=>{"undefined"!==typeof s&&null!==E&&gu.averageCenter(E,s)},[E,s]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==E&&gu.batchSizeIE(E,r)},[E,r]),(0,t.useEffect)(()=>{"undefined"!==typeof o&&null!==E&&gu.calculator(E,o)},[E,o]),(0,t.useEffect)(()=>{"undefined"!==typeof a&&null!==E&&gu.clusterClass(E,a)},[E,a]),(0,t.useEffect)(()=>{"undefined"!==typeof l&&null!==E&&gu.enableRetinaIcons(E,l)},[E,l]),(0,t.useEffect)(()=>{"undefined"!==typeof c&&null!==E&&gu.gridSize(E,c)},[E,c]),(0,t.useEffect)(()=>{"undefined"!==typeof u&&null!==E&&gu.ignoreHidden(E,u)},[E,u]),(0,t.useEffect)(()=>{"undefined"!==typeof h&&null!==E&&gu.imageExtension(E,h)},[E,h]),(0,t.useEffect)(()=>{"undefined"!==typeof d&&null!==E&&gu.imagePath(E,d)},[E,d]),(0,t.useEffect)(()=>{"undefined"!==typeof p&&null!==E&&gu.imageSizes(E,p)},[E,p]),(0,t.useEffect)(()=>{"undefined"!==typeof f&&null!==E&&gu.maxZoom(E,f)},[E,f]),(0,t.useEffect)(()=>{"undefined"!==typeof g&&null!==E&&gu.minimumClusterSize(E,g)},[E,g]),(0,t.useEffect)(()=>{"undefined"!==typeof m&&null!==E&&gu.styles(E,m)},[E,m]),(0,t.useEffect)(()=>{"undefined"!==typeof v&&null!==E&&gu.title(E,v)},[E,v]),(0,t.useEffect)(()=>{"undefined"!==typeof y&&null!==E&&gu.zoomOnClick(E,y)},[E,y]),(0,t.useEffect)(()=>{if(L){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i||mu),t=new du(L,[],e);return s&&gu.averageCenter(t,s),r&&gu.batchSizeIE(t,r),o&&gu.calculator(t,o),a&&gu.clusterClass(t,a),l&&gu.enableRetinaIcons(t,l),c&&gu.gridSize(t,c),u&&gu.ignoreHidden(t,u),h&&gu.imageExtension(t,h),d&&gu.imagePath(t,d),p&&gu.imageSizes(t,p),f&&gu.maxZoom(t,f),g&&gu.minimumClusterSize(t,g),m&&gu.styles(t,m),v&&gu.title(t,v),y&&gu.zoomOnClick(t,y),k&&A(google.maps.event.addListener(t,fu.onMouseOut,k)),_&&F(google.maps.event.addListener(t,fu.onMouseOver,_)),b&&T(google.maps.event.addListener(t,fu.onClick,b)),x&&j(google.maps.event.addListener(t,fu.onClusteringBegin,x)),w&&O(google.maps.event.addListener(t,fu.onClusteringEnd,w)),M(t),S&&S(t),()=>{null!==I&&google.maps.event.removeListener(I),null!==R&&google.maps.event.removeListener(R),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==P&&google.maps.event.removeListener(P),C&&C(t)}}},[]),null!==E&&n(E)||null});class vu extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{markerClusterer:null}),ac(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new du(this.context,[],this.props.options);this.registeredEvents=vc({updaterMap:gu,eventMap:fu,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:gu,eventMap:fu,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),mc(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function yu(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}ac(vu,"contextType",dc);var bu=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];i<s.length;i++){var r=s[i];this.eventListeners.push(google.maps.event.addListener(this.div,r,yu))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||yu(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var r=t.getDiv(),o=r.offsetWidth,a=r.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+d?n=f.x+l-d:f.x+u+l+d>o&&(n=f.x+u+l+d-o),this.alignBottom?f.y<-c+p+h?i=f.y+c-p-h:f.y+c+p>a&&(i=f.y+c+p-a):f.y<-c+p?i=f.y+c-p:f.y+h+c+p>a&&(i=f.y+h+c+p-a)),0===n&&0===i||t.panBy(n,i)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();n.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),xu=["position"],wu=["position"];function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Su={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Cu={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Eu={};var Mu,Lu;(0,t.memo)(function(e){var{children:n,anchor:i,options:s,position:o,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:d,onLoad:p,onUnmount:f}=e,g=(0,t.useContext)(dc),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[_,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,M]=(0,t.useState)(null),L=(0,t.useRef)(null);return(0,t.useEffect)(()=>{g&&null!==m&&(m.close(),i?m.open(g,i):m.getPosition()&&m.open(g))},[g,m,i]),(0,t.useEffect)(()=>{s&&null!==m&&m.setOptions(s)},[m,s]),(0,t.useEffect)(()=>{if(o&&null!==m){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);m.setPosition(e)}},[o]),(0,t.useEffect)(()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)},[a]),(0,t.useEffect)(()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))},[l]),(0,t.useEffect)(()=>{m&&c&&(null!==x&&google.maps.event.removeListener(x),w(google.maps.event.addListener(m,"domready",c)))},[c]),(0,t.useEffect)(()=>{m&&u&&(null!==_&&google.maps.event.removeListener(_),k(google.maps.event.addListener(m,"content_changed",u)))},[u]),(0,t.useEffect)(()=>{m&&h&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(m,"position_changed",h)))},[h]),(0,t.useEffect)(()=>{m&&d&&(null!==E&&google.maps.event.removeListener(E),M(google.maps.event.addListener(m,"zindex_changed",d)))},[d]),(0,t.useEffect)(()=>{if(g){var e,t=s||Eu,{position:n}=t,r=Pc(t,xu);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var o=new bu(ku(ku({},r),e?{position:e}:{}));L.current=document.createElement("div"),v(o),l&&b(google.maps.event.addListener(o,"closeclick",l)),c&&w(google.maps.event.addListener(o,"domready",c)),u&&k(google.maps.event.addListener(o,"content_changed",u)),h&&C(google.maps.event.addListener(o,"position_changed",h)),d&&M(google.maps.event.addListener(o,"zindex_changed",d)),o.setContent(L.current),i?o.open(g,i):o.getPosition()?o.open(g):hc(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(o)}return()=>{null!==m&&(y&&google.maps.event.removeListener(y),_&&google.maps.event.removeListener(_),x&&google.maps.event.removeListener(x),S&&google.maps.event.removeListener(S),E&&google.maps.event.removeListener(E),f&&f(m),m.close())}},[]),L.current?(0,r.createPortal)(t.Children.only(n),L.current):null});class Nu extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"containerElement",null),ac(this,"state",{infoBox:null}),ac(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):hc(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ac(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,i=Pc(t,wu);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new bu(ku(ku({},i),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=vc({updaterMap:Cu,eventMap:Su,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:Cu,eventMap:Su,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),mc(this.registeredEvents),t.close())}render(){return this.containerElement?(0,r.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}ac(Nu,"contextType",dc);var Tu=(Lu||(Lu=1,Mu=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(s=i;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=i;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;0!==s--;){var o=r[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Mu),Du=lc(Tu),ju=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Pu{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(1!==i)throw new Error("Got v".concat(i," data when expected v").concat(1,"."));var s=ju[15&n];if(!s)throw new Error("Unrecognized array type.");var[r]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Pu(o,r,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=ju.indexOf(this.ArrayType),r=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+r+o+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Ou(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:r,nodeSize:o}=this,a=[0,s.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o)for(var d=h;d<=u;d++){var p=r[2*d],f=r[2*d+1];p>=e&&p<=n&&f>=t&&f<=i&&l.push(s[d])}else{var g=h+u>>1,m=r[2*g],v=r[2*g+1];m>=e&&m<=n&&v>=t&&v<=i&&l.push(s[g]),(0===c?e<=m:t<=v)&&(a.push(h),a.push(g-1),a.push(1-c)),(0===c?n>=m:i>=v)&&(a.push(g+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:r}=this,o=[0,i.length-1,0],a=[],l=n*n;o.length;){var c=o.pop()||0,u=o.pop()||0,h=o.pop()||0;if(u-h<=r)for(var d=h;d<=u;d++)Fu(s[2*d],s[2*d+1],e,t)<=l&&a.push(i[d]);else{var p=h+u>>1,f=s[2*p],g=s[2*p+1];Fu(f,g,e,t)<=l&&a.push(i[p]),(0===c?e-n<=f:t-n<=g)&&(o.push(h),o.push(p-1),o.push(1-c)),(0===c?e+n>=f:t+n>=g)&&(o.push(p+1),o.push(u),o.push(1-c))}}return a}}function Ou(e,t,n,i,s,r){if(!(s-i<=n)){var o=i+s>>1;Iu(e,t,o,i,s,r),Ou(e,t,n,i,o-1,1-r),Ou(e,t,n,o+1,s,1-r)}}function Iu(e,t,n,i,s,r){for(;s>i;){if(s-i>600){var o=s-i+1,a=n-i+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);Iu(e,t,n,Math.max(i,Math.floor(n-a*c/o+u)),Math.min(s,Math.floor(n+(o-a)*c/o+u)),r)}var h=t[2*n+r],d=i,p=s;for(Au(e,t,i,n),t[2*s+r]>h&&Au(e,t,i,s);d<p;){for(Au(e,t,d,p),d++,p--;t[2*d+r]<h;)d++;for(;t[2*p+r]>h;)p--}t[2*i+r]===h?Au(e,t,i,p):Au(e,t,++p,s),p<=n&&(i=p+1),n<=p&&(s=p-1)}}function Au(e,t,n,i){Ru(e,n,i),Ru(t,2*n,2*i),Ru(t,2*n+1,2*i+1)}function Ru(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Fu(e,t,n,i){var s=e-n,r=t-i;return s*s+r*r}var zu,Vu={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Bu=Math.fround||(zu=new Float32Array(1),e=>(zu[0]=+e,zu[0]));class Uu{constructor(e){this.options=Object.assign(Object.create(Vu),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var r=[],o=0;o<e.length;o++){var a=e[o];if(a.geometry){var[l,c]=a.geometry.coordinates,u=Bu(qu(l)),h=Bu(Ku(c));r.push(u,h,1/0,o,-1,1),this.options.reduce&&r.push(0)}}var d=this.trees[i+1]=this._createTree(r);t&&console.timeEnd(s);for(var p=i;p>=n;p--){var f=+Date.now();d=this.trees[p]=this._createTree(this._cluster(d,p)),t&&console.log("z%d: %d clusters in %dms",p,d.numItems,+Date.now()-f)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var o=this.getClusters([n,i,180,r],t),a=this.getClusters([-180,i,s,r],t);return o.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(qu(n),Ku(r),qu(s),Ku(i)),u=l.data,h=[];for(var d of c){var p=this.stride*d;h.push(u[p+5]>1?Hu(u,p,this.clusterProps):this.points[u[p+3]])}return h}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(i);var r=s.data;if(t*this.stride>=r.length)throw new Error(i);var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=r[t*this.stride],l=r[t*this.stride+1],c=s.within(a,l,o),u=[];for(var h of c){var d=h*this.stride;r[d+4]===e&&u.push(r[d+5]>1?Hu(r,d,this.clusterProps):this.points[r[d+3]])}if(0===u.length)throw new Error(i);return u}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:r,radius:o}=this.options,a=o/r,l=(n-a)/s,c=(n+1+a)/s,u={features:[]};return this._addTileFeatures(i.range((t-a)/s,l,(t+1+a)/s,c),i.data,t,n,s,u),0===t&&this._addTileFeatures(i.range(1-a/s,l,1,c),i.data,s,n,s,u),t===s-1&&this._addTileFeatures(i.range(0,l,a/s,c),i.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,s){var r=this.getChildren(t);for(var o of r){var a=o.properties;if(a&&a.cluster?s+a.point_count<=i?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,i,s):s<i?s++:e.push(o),e.length===n)break}return s}_createTree(e){for(var t=new Pu(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,s,r){for(var o of e){var a=o*this.stride,l=t[a+5]>1,c=void 0,u=void 0,h=void 0;if(l)c=Wu(t,a,this.clusterProps),u=t[a],h=t[a+1];else{var d=this.points[t[a+3]];c=d.properties;var[p,f]=d.geometry.coordinates;u=qu(p),h=Ku(f)}var g={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(h*s-i))]],tags:c},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),r.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:s,minPoints:r}=this.options,o=n/(i*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var h=a[u],d=a[u+1],p=e.within(a[u],a[u+1],o),f=a[u+5],g=f;for(var m of p){var v=m*c;a[v+2]>t&&(g+=a[v+5])}if(g>f&&g>=r){var y=h*f,b=d*f,x=void 0,w=-1,_=(u/c<<5)+(t+1)+this.points.length;for(var k of p){var S=k*c;if(!(a[S+2]<=t)){a[S+2]=t;var C=a[S+5];y+=a[S]*C,b+=a[S+1]*C,a[S+4]=_,s&&(x||(x=this._map(a,u,!0),w=this.clusterProps.length,this.clusterProps.push(x)),s(x,this._map(a,S)))}}a[u+4]=_,l.push(y/g,b/g,1/0,_,-1,g),s&&l.push(w)}else{for(var E=0;E<c;E++)l.push(a[u+E]);if(g>1)for(var M of p){var L=M*c;if(!(a[L+2]<=t)){a[L+2]=t;for(var N=0;N<c;N++)l.push(a[L+N])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var i=this.clusterProps[e[t+6]];return n?Object.assign({},i):i}var s=this.points[e[t+3]].properties,r=this.options.map(s);return n&&r===s?Object.assign({},r):r}}function Hu(e,t,n){return{type:"Feature",id:e[t+3],properties:Wu(e,t,n),geometry:{type:"Point",coordinates:[Gu(e[t]),Yu(e[t+1])]}}}function Wu(e,t,n){var i=e[t+5],s=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,r=e[t+6],o=-1===r?{}:Object.assign({},n[r]);return Object.assign(o,{cluster:!0,cluster_id:e[t+3],point_count:i,point_count_abbreviated:s})}function qu(e){return e/360+.5}function Ku(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Gu(e){return 360*(e-.5)}function Yu(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Qu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}class $u{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class Xu{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend($u.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>$u.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&($u.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Zu{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return eh(t)}}var Ju,eh=e=>e.map(e=>new Xu({position:$u.getPosition(e),markers:[e]}));class th extends Zu{constructor(e){var{maxZoom:t,radius:n=60}=e,i=Qu(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Uu(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!Du(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(e=>{var t=$u.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!Du(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new Xu({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:n,lng:t}});var s=i.marker;return new Xu({markers:[s],position:$u.getPosition(s)})}}class nh{constructor(e,t){this.markers={sum:e.length};var n=t.map(e=>e.count),i=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class ih{render(e,t,n){var{count:i,position:s}=e,r=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(r,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(i,"</text>\n</svg>"),a="Cluster of ".concat(i," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+i;if($u.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var h={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}class sh{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(sh,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Ju||(Ju={}));var rh=(e,t,n)=>{n.fitBounds(t.bounds)};class oh extends sh{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:s=new th(i),renderer:r=new ih,onClusterClick:o=rh}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=r,this.onClusterClick=o,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&($u.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ju.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var i=new Set;for(var s of t)1==s.markers.length&&i.add(s.markers[0]);var r=[];for(var o of this.clusters)null!=o.marker&&(1==o.markers.length?i.has(o.marker)||$u.setMap(o.marker,null):r.push(o.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>r.forEach(e=>$u.setMap(e,null)))}google.maps.event.trigger(this,Ju.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>$u.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new nh(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(e=>$u.setMap(e,null)),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,Ju.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),$u.setMap(n.marker,t)})}}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ah(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ch(e){var n=function(){hc(!!t.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,t.useContext)(dc);return hc(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[i,s]=(0,t.useState)(null);return(0,t.useEffect)(()=>{if(n&&null===i){var t=new oh(lh(lh({},e),{},{map:n}));s(t)}},[n]),i}(0,t.memo)(function(e){var{children:t,options:n}=e,i=ch(n);return null!==i?t(i):null});var uh={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},hh={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,t.memo)(function(e){var{children:n,anchor:i,options:s,position:o,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:d,onLoad:p,onUnmount:f}=e,g=(0,t.useContext)(dc),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[_,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,M]=(0,t.useState)(null),L=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null!==m&&(m.close(),i?m.open(g,i):m.getPosition()&&m.open(g))},[g,m,i]),(0,t.useEffect)(()=>{s&&null!==m&&m.setOptions(s)},[m,s]),(0,t.useEffect)(()=>{o&&null!==m&&m.setPosition(o)},[o]),(0,t.useEffect)(()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)},[a]),(0,t.useEffect)(()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))},[l]),(0,t.useEffect)(()=>{m&&c&&(null!==x&&google.maps.event.removeListener(x),w(google.maps.event.addListener(m,"domready",c)))},[c]),(0,t.useEffect)(()=>{m&&u&&(null!==_&&google.maps.event.removeListener(_),k(google.maps.event.addListener(m,"content_changed",u)))},[u]),(0,t.useEffect)(()=>{m&&h&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(m,"position_changed",h)))},[h]),(0,t.useEffect)(()=>{m&&d&&(null!==E&&google.maps.event.removeListener(E),M(google.maps.event.addListener(m,"zindex_changed",d)))},[d]),(0,t.useEffect)(()=>{var e=new google.maps.InfoWindow(s);return v(e),L.current=document.createElement("div"),l&&b(google.maps.event.addListener(e,"closeclick",l)),c&&w(google.maps.event.addListener(e,"domready",c)),u&&k(google.maps.event.addListener(e,"content_changed",u)),h&&C(google.maps.event.addListener(e,"position_changed",h)),d&&M(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(L.current),o&&e.setPosition(o),a&&e.setZIndex(a),i?e.open(g,i):e.getPosition()?e.open(g):hc(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(e),()=>{y&&google.maps.event.removeListener(y),_&&google.maps.event.removeListener(_),x&&google.maps.event.removeListener(x),S&&google.maps.event.removeListener(S),E&&google.maps.event.removeListener(E),f&&f(e),e.close()}},[]),L.current?(0,r.createPortal)(t.Children.only(n),L.current):null});class dh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"containerElement",null),ac(this,"state",{infoWindow:null}),ac(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):hc(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ac(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=vc({updaterMap:hh,eventMap:uh,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:hh,eventMap:uh,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(mc(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,r.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(dh,"contextType",dc);var gh={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mh={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},vh={};(0,t.memo)(function(e){var{options:n,draggable:i,editable:s,visible:r,path:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onLoad:y,onUnmount:b}=e,x=(0,t.useContext)(dc),[w,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[M,L]=(0,t.useState)(null),[N,T]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[R,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,U]=(0,t.useState)(null),[H,W]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==w&&w.setMap(x)},[x]),(0,t.useEffect)(()=>{"undefined"!==typeof n&&null!==w&&w.setOptions(n)},[w,n]),(0,t.useEffect)(()=>{"undefined"!==typeof i&&null!==w&&w.setDraggable(i)},[w,i]),(0,t.useEffect)(()=>{"undefined"!==typeof s&&null!==w&&w.setEditable(s)},[w,s]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==w&&w.setVisible(r)},[w,r]),(0,t.useEffect)(()=>{"undefined"!==typeof o&&null!==w&&w.setPath(o)},[w,o]),(0,t.useEffect)(()=>{w&&a&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(w,"dblclick",a)))},[a]),(0,t.useEffect)(()=>{w&&l&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(w,"dragend",l)))},[l]),(0,t.useEffect)(()=>{w&&c&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(w,"dragstart",c)))},[c]),(0,t.useEffect)(()=>{w&&u&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(w,"mousedown",u)))},[u]),(0,t.useEffect)(()=>{w&&h&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(w,"mousemove",h)))},[h]),(0,t.useEffect)(()=>{w&&d&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(w,"mouseout",d)))},[d]),(0,t.useEffect)(()=>{w&&p&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(w,"mouseover",p)))},[p]),(0,t.useEffect)(()=>{w&&f&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(w,"mouseup",f)))},[f]),(0,t.useEffect)(()=>{w&&g&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(w,"rightclick",g)))},[g]),(0,t.useEffect)(()=>{w&&m&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(w,"click",m)))},[m]),(0,t.useEffect)(()=>{w&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(w,"drag",v)))},[v]),(0,t.useEffect)(()=>{var e=new google.maps.Polyline(fh(fh({},n||vh),{},{map:x}));return o&&e.setPath(o),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof i&&e.setDraggable(i),a&&S(google.maps.event.addListener(e,"dblclick",a)),l&&E(google.maps.event.addListener(e,"dragend",l)),c&&L(google.maps.event.addListener(e,"dragstart",c)),u&&T(google.maps.event.addListener(e,"mousedown",u)),h&&j(google.maps.event.addListener(e,"mousemove",h)),d&&O(google.maps.event.addListener(e,"mouseout",d)),p&&A(google.maps.event.addListener(e,"mouseover",p)),f&&F(google.maps.event.addListener(e,"mouseup",f)),g&&V(google.maps.event.addListener(e,"rightclick",g)),m&&U(google.maps.event.addListener(e,"click",m)),v&&W(google.maps.event.addListener(e,"drag",v)),_(e),y&&y(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==P&&google.maps.event.removeListener(P),null!==I&&google.maps.event.removeListener(I),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),b&&b(e),e.setMap(null)}},[]),null});class yh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{polyline:null}),ac(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(fh(fh({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:mh,eventMap:gh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:mh,eventMap:gh,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),mc(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(yh,"contextType",dc);var wh={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},_h={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)(function(e){var{options:n,draggable:i,editable:s,visible:r,path:o,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:x,onEdit:w}=e,_=(0,t.useContext)(dc),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[M,L]=(0,t.useState)(null),[N,T]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[R,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,U]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==k&&k.setMap(_)},[_]),(0,t.useEffect)(()=>{"undefined"!==typeof n&&null!==k&&k.setOptions(n)},[k,n]),(0,t.useEffect)(()=>{"undefined"!==typeof i&&null!==k&&k.setDraggable(i)},[k,i]),(0,t.useEffect)(()=>{"undefined"!==typeof s&&null!==k&&k.setEditable(s)},[k,s]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==k&&k.setVisible(r)},[k,r]),(0,t.useEffect)(()=>{"undefined"!==typeof o&&null!==k&&k.setPath(o)},[k,o]),(0,t.useEffect)(()=>{"undefined"!==typeof a&&null!==k&&k.setPaths(a)},[k,a]),(0,t.useEffect)(()=>{k&&"function"===typeof l&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(k,"dblclick",l)))},[l]),(0,t.useEffect)(()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",()=>{null===w||void 0===w||w(k)}),google.maps.event.addListener(k.getPath(),"set_at",()=>{null===w||void 0===w||w(k)}),google.maps.event.addListener(k.getPath(),"remove_at",()=>{null===w||void 0===w||w(k)}))},[k,w]),(0,t.useEffect)(()=>{k&&"function"===typeof c&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(k,"dragend",c)))},[c]),(0,t.useEffect)(()=>{k&&"function"===typeof u&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(k,"dragstart",u)))},[u]),(0,t.useEffect)(()=>{k&&"function"===typeof h&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(k,"mousedown",h)))},[h]),(0,t.useEffect)(()=>{k&&"function"===typeof d&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(k,"mousemove",d)))},[d]),(0,t.useEffect)(()=>{k&&"function"===typeof p&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(k,"mouseout",p)))},[p]),(0,t.useEffect)(()=>{k&&"function"===typeof f&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(k,"mouseover",f)))},[f]),(0,t.useEffect)(()=>{k&&"function"===typeof g&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(k,"mouseup",g)))},[g]),(0,t.useEffect)(()=>{k&&"function"===typeof m&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(k,"rightclick",m)))},[m]),(0,t.useEffect)(()=>{k&&"function"===typeof v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(k,"click",v)))},[v]),(0,t.useEffect)(()=>{k&&"function"===typeof y&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(k,"drag",y)))},[y]),(0,t.useEffect)(()=>{var e=new google.maps.Polygon(xh(xh({},n),{},{map:_}));return o&&e.setPath(o),a&&e.setPaths(a),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof i&&e.setDraggable(i),l&&E(google.maps.event.addListener(e,"dblclick",l)),c&&L(google.maps.event.addListener(e,"dragend",c)),u&&T(google.maps.event.addListener(e,"dragstart",u)),h&&j(google.maps.event.addListener(e,"mousedown",h)),d&&O(google.maps.event.addListener(e,"mousemove",d)),p&&A(google.maps.event.addListener(e,"mouseout",p)),f&&F(google.maps.event.addListener(e,"mouseover",f)),g&&V(google.maps.event.addListener(e,"mouseup",g)),m&&U(google.maps.event.addListener(e,"rightclick",m)),v&&W(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),S(e),b&&b(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==P&&google.maps.event.removeListener(P),null!==I&&google.maps.event.removeListener(I),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),x&&x(e),e.setMap(null)}},[]),null});class kh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=vc({updaterMap:_h,eventMap:wh,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:_h,eventMap:wh,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),mc(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(kh,"contextType",dc);var Eh={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mh={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)(function(e){var{options:n,bounds:i,draggable:s,editable:r,visible:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:x}=e,w=(0,t.useContext)(dc),[_,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,M]=(0,t.useState)(null),[L,N]=(0,t.useState)(null),[T,D]=(0,t.useState)(null),[j,P]=(0,t.useState)(null),[O,I]=(0,t.useState)(null),[A,R]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[U,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==_&&_.setMap(w)},[w]),(0,t.useEffect)(()=>{"undefined"!==typeof n&&null!==_&&_.setOptions(n)},[_,n]),(0,t.useEffect)(()=>{"undefined"!==typeof s&&null!==_&&_.setDraggable(s)},[_,s]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==_&&_.setEditable(r)},[_,r]),(0,t.useEffect)(()=>{"undefined"!==typeof o&&null!==_&&_.setVisible(o)},[_,o]),(0,t.useEffect)(()=>{"undefined"!==typeof i&&null!==_&&_.setBounds(i)},[_,i]),(0,t.useEffect)(()=>{_&&a&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(_,"dblclick",a)))},[a]),(0,t.useEffect)(()=>{_&&l&&(null!==E&&google.maps.event.removeListener(E),M(google.maps.event.addListener(_,"dragend",l)))},[l]),(0,t.useEffect)(()=>{_&&c&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(_,"dragstart",c)))},[c]),(0,t.useEffect)(()=>{_&&u&&(null!==T&&google.maps.event.removeListener(T),D(google.maps.event.addListener(_,"mousedown",u)))},[u]),(0,t.useEffect)(()=>{_&&h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(_,"mousemove",h)))},[h]),(0,t.useEffect)(()=>{_&&d&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(_,"mouseout",d)))},[d]),(0,t.useEffect)(()=>{_&&p&&(null!==A&&google.maps.event.removeListener(A),R(google.maps.event.addListener(_,"mouseover",p)))},[p]),(0,t.useEffect)(()=>{_&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(_,"mouseup",f)))},[f]),(0,t.useEffect)(()=>{_&&g&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(_,"rightclick",g)))},[g]),(0,t.useEffect)(()=>{_&&m&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(_,"click",m)))},[m]),(0,t.useEffect)(()=>{_&&v&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(_,"drag",v)))},[v]),(0,t.useEffect)(()=>{_&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(_,"bounds_changed",y)))},[y]),(0,t.useEffect)(()=>{var e=new google.maps.Rectangle(Ch(Ch({},n),{},{map:w}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof s&&e.setDraggable(s),"undefined"!==typeof i&&e.setBounds(i),a&&C(google.maps.event.addListener(e,"dblclick",a)),l&&M(google.maps.event.addListener(e,"dragend",l)),c&&N(google.maps.event.addListener(e,"dragstart",c)),u&&D(google.maps.event.addListener(e,"mousedown",u)),h&&P(google.maps.event.addListener(e,"mousemove",h)),d&&I(google.maps.event.addListener(e,"mouseout",d)),p&&R(google.maps.event.addListener(e,"mouseover",p)),f&&z(google.maps.event.addListener(e,"mouseup",f)),g&&B(google.maps.event.addListener(e,"rightclick",g)),m&&H(google.maps.event.addListener(e,"click",m)),v&&q(google.maps.event.addListener(e,"drag",v)),y&&G(google.maps.event.addListener(e,"bounds_changed",y)),k(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==L&&google.maps.event.removeListener(L),null!==T&&google.maps.event.removeListener(T),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==U&&google.maps.event.removeListener(U),null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),x&&x(e),e.setMap(null)}},[]),null});class Lh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{rectangle:null}),ac(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Ch(Ch({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:Mh,eventMap:Eh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:Mh,eventMap:Eh,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),mc(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(Lh,"contextType",dc);var Dh={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jh={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Ph={};(0,t.memo)(function(e){var{options:n,center:i,radius:s,draggable:r,editable:o,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:x,onLoad:w,onUnmount:_}=e,k=(0,t.useContext)(dc),[S,C]=(0,t.useState)(null),[E,M]=(0,t.useState)(null),[L,N]=(0,t.useState)(null),[T,D]=(0,t.useState)(null),[j,P]=(0,t.useState)(null),[O,I]=(0,t.useState)(null),[A,R]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[U,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[$,X]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==S&&S.setMap(k)},[k]),(0,t.useEffect)(()=>{"undefined"!==typeof n&&null!==S&&S.setOptions(n)},[S,n]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==S&&S.setDraggable(r)},[S,r]),(0,t.useEffect)(()=>{"undefined"!==typeof o&&null!==S&&S.setEditable(o)},[S,o]),(0,t.useEffect)(()=>{"undefined"!==typeof a&&null!==S&&S.setVisible(a)},[S,a]),(0,t.useEffect)(()=>{"number"===typeof s&&null!==S&&S.setRadius(s)},[S,s]),(0,t.useEffect)(()=>{"undefined"!==typeof i&&null!==S&&S.setCenter(i)},[S,i]),(0,t.useEffect)(()=>{S&&l&&(null!==E&&google.maps.event.removeListener(E),M(google.maps.event.addListener(S,"dblclick",l)))},[l]),(0,t.useEffect)(()=>{S&&c&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(S,"dragend",c)))},[c]),(0,t.useEffect)(()=>{S&&u&&(null!==T&&google.maps.event.removeListener(T),D(google.maps.event.addListener(S,"dragstart",u)))},[u]),(0,t.useEffect)(()=>{S&&h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(S,"mousedown",h)))},[h]),(0,t.useEffect)(()=>{S&&d&&(null!==O&&google.maps.event.removeListener(O),I(google.maps.event.addListener(S,"mousemove",d)))},[d]),(0,t.useEffect)(()=>{S&&p&&(null!==A&&google.maps.event.removeListener(A),R(google.maps.event.addListener(S,"mouseout",p)))},[p]),(0,t.useEffect)(()=>{S&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(S,"mouseover",f)))},[f]),(0,t.useEffect)(()=>{S&&g&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(S,"mouseup",g)))},[g]),(0,t.useEffect)(()=>{S&&m&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(S,"rightclick",m)))},[m]),(0,t.useEffect)(()=>{S&&v&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(S,"click",v)))},[v]),(0,t.useEffect)(()=>{S&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(S,"drag",y)))},[y]),(0,t.useEffect)(()=>{S&&b&&(null!==Y&&google.maps.event.removeListener(Y),Q(google.maps.event.addListener(S,"center_changed",b)))},[v]),(0,t.useEffect)(()=>{S&&x&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(S,"radius_changed",x)))},[x]),(0,t.useEffect)(()=>{var e=new google.maps.Circle(Th(Th({},n||Ph),{},{map:k}));return"number"===typeof s&&e.setRadius(s),"undefined"!==typeof i&&e.setCenter(i),"number"===typeof s&&e.setRadius(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof r&&e.setDraggable(r),l&&M(google.maps.event.addListener(e,"dblclick",l)),c&&N(google.maps.event.addListener(e,"dragend",c)),u&&D(google.maps.event.addListener(e,"dragstart",u)),h&&P(google.maps.event.addListener(e,"mousedown",h)),d&&I(google.maps.event.addListener(e,"mousemove",d)),p&&R(google.maps.event.addListener(e,"mouseout",p)),f&&z(google.maps.event.addListener(e,"mouseover",f)),g&&B(google.maps.event.addListener(e,"mouseup",g)),m&&H(google.maps.event.addListener(e,"rightclick",m)),v&&q(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),b&&Q(google.maps.event.addListener(e,"center_changed",b)),x&&X(google.maps.event.addListener(e,"radius_changed",x)),C(e),w&&w(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==L&&google.maps.event.removeListener(L),null!==T&&google.maps.event.removeListener(T),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==U&&google.maps.event.removeListener(U),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==$&&google.maps.event.removeListener($),_&&_(e),e.setMap(null)}},[]),null});class Oh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{circle:null}),ac(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Th(Th({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:jh,eventMap:Dh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:jh,eventMap:Dh,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),mc(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(Oh,"contextType",dc);var Rh={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Fh={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,i){e.loadGeoJson(t,n,i)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,t.memo)(function(e){var{options:n,onClick:i,onDblClick:s,onMouseDown:r,onMouseMove:o,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:d,onRemoveProperty:p,onSetGeometry:f,onSetProperty:g,onLoad:m,onUnmount:v}=e,y=(0,t.useContext)(dc),[b,x]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[M,L]=(0,t.useState)(null),[N,T]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[R,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,U]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null);return(0,t.useEffect)(()=>{null!==b&&b.setMap(y)},[y]),(0,t.useEffect)(()=>{b&&s&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(b,"dblclick",s)))},[s]),(0,t.useEffect)(()=>{b&&r&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(b,"mousedown",r)))},[r]),(0,t.useEffect)(()=>{b&&o&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(b,"mousemove",o)))},[o]),(0,t.useEffect)(()=>{b&&a&&(null!==M&&google.maps.event.removeListener(M),L(google.maps.event.addListener(b,"mouseout",a)))},[a]),(0,t.useEffect)(()=>{b&&l&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(b,"mouseover",l)))},[l]),(0,t.useEffect)(()=>{b&&c&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(b,"mouseup",c)))},[c]),(0,t.useEffect)(()=>{b&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(b,"rightclick",u)))},[u]),(0,t.useEffect)(()=>{b&&i&&(null!==I&&google.maps.event.removeListener(I),A(google.maps.event.addListener(b,"click",i)))},[i]),(0,t.useEffect)(()=>{b&&h&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(b,"addfeature",h)))},[h]),(0,t.useEffect)(()=>{b&&d&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(b,"removefeature",d)))},[d]),(0,t.useEffect)(()=>{b&&p&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(b,"removeproperty",p)))},[p]),(0,t.useEffect)(()=>{b&&f&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(b,"setgeometry",f)))},[f]),(0,t.useEffect)(()=>{b&&g&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(b,"setproperty",g)))},[g]),(0,t.useEffect)(()=>{if(null!==y){var e=new google.maps.Data(Ah(Ah({},n),{},{map:y}));s&&_(google.maps.event.addListener(e,"dblclick",s)),r&&S(google.maps.event.addListener(e,"mousedown",r)),o&&E(google.maps.event.addListener(e,"mousemove",o)),a&&L(google.maps.event.addListener(e,"mouseout",a)),l&&T(google.maps.event.addListener(e,"mouseover",l)),c&&j(google.maps.event.addListener(e,"mouseup",c)),u&&O(google.maps.event.addListener(e,"rightclick",u)),i&&A(google.maps.event.addListener(e,"click",i)),h&&F(google.maps.event.addListener(e,"addfeature",h)),d&&V(google.maps.event.addListener(e,"removefeature",d)),p&&U(google.maps.event.addListener(e,"removeproperty",p)),f&&W(google.maps.event.addListener(e,"setgeometry",f)),g&&K(google.maps.event.addListener(e,"setproperty",g)),x(e),m&&m(e)}return()=>{b&&(null!==w&&google.maps.event.removeListener(w),null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==P&&google.maps.event.removeListener(P),null!==I&&google.maps.event.removeListener(I),null!==R&&google.maps.event.removeListener(R),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==q&&google.maps.event.removeListener(q),v&&v(b),b.setMap(null))}},[]),null});class zh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{data:null}),ac(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Ah(Ah({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:Fh,eventMap:Rh,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:Fh,eventMap:Rh,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),mc(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(zh,"contextType",dc);var Uh={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Hh={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Wh extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{kmlLayer:null}),ac(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Bh(Bh({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:Hh,eventMap:Uh,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:Hh,eventMap:Uh,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),mc(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function qh(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Kh(e,t){return new t(e.lat,e.lng)}function Gh(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Yh(e,t,n,i){return void 0!==n?function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return i&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(i.y+t.y,"px"),width:"".concat(i.x-s.x-t.x,"px"),height:"".concat(s.y-i.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(s=n,r=google.maps.LatLngBounds,o=Gh,s instanceof r?s:o(s,r))):function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n);if(i){var{x:s,y:r}=i;return{left:"".concat(s+t.x,"px"),top:"".concat(r+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(i,google.maps.LatLng,Kh));var s,r,o}function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function $h(e,t,n,i,s){class r extends google.maps.OverlayView{constructor(e,t,n,i){super(),this.container=e,this.pane=t,this.position=n,this.bounds=i}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.container?qh(this.container,s):{x:0,y:0}),n=Yh(e,t,this.bounds,this.position);for(var[i,r]of Object.entries(n))this.container.style[i]=r}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new r(e,t,n,i)}function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Zh(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Jh(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}ac(Wh,"contextType",dc);(0,t.memo)(function(e){var{position:n,bounds:i,mapPaneName:s,zIndex:o,onLoad:a,onUnmount:l,getPixelPositionOffset:c,children:u}=e,h=(0,t.useContext)(dc),d=(0,t.useMemo)(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),p=(0,t.useMemo)(()=>$h(d,s,n,i,c),[d,s,n,i]);return(0,t.useEffect)(()=>(null===a||void 0===a||a(p),null===p||void 0===p||p.setMap(h),()=>{null===l||void 0===l||l(p),null===p||void 0===p||p.setMap(null)}),[h,p]),(0,t.useEffect)(()=>{d.style.zIndex="".concat(o)},[o,d]),r.createPortal(u,d)});class ed extends t.PureComponent{constructor(e){super(e),ac(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ac(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();hc(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),ac(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),ac(this,"onPositionElement",()=>{var e,t,n,i,s,r,o=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:0,y:0},this.containerRef.current?qh(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Yh(o,a,this.props.bounds,this.props.position);(s=l,r={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==r.left||s.top!==r.top||s.width!==r.height||s.height!==r.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(i=l.height)&&void 0!==i?i:0,position:"absolute"}})}),ac(this,"draw",()=>{this.onPositionElement()}),ac(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=(0,t.createRef)();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Zh(e.position),n=Zh(this.props.position),i=Jh(e.bounds),s=Jh(this.props.bounds);t===n&&i===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?r.createPortal((0,ct.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:t.Children.only(this.props.children)}),e):null}}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(ed,"FLOAT_PANE","floatPane"),ac(ed,"MAP_PANE","mapPane"),ac(ed,"MARKER_LAYER","markerLayer"),ac(ed,"OVERLAY_LAYER","overlayLayer"),ac(ed,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),ac(ed,"contextType",dc);var id={onDblClick:"dblclick",onClick:"click"},sd={opacity(e,t){e.setOpacity(t)}};(0,t.memo)(function(e){var{url:n,bounds:i,options:s,visible:r}=e,o=(0,t.useContext)(dc),a=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east)),l=(0,t.useMemo)(()=>new google.maps.GroundOverlay(n,a,s),[]);return(0,t.useEffect)(()=>{null!==l&&l.setMap(o)},[o]),(0,t.useEffect)(()=>{"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(o))},[l,n]),(0,t.useEffect)(()=>{"undefined"!==typeof r&&null!==l&&l.setOpacity(r?1:0)},[l,r]),(0,t.useEffect)(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east));"undefined"!==typeof i&&null!==l&&(l.set("bounds",e),l.setMap(o))},[l,i]),null});class rd extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{groundOverlay:null}),ac(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){hc(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,nd(nd({},this.props.options),{},{map:this.context}));this.registeredEvents=vc({updaterMap:sd,eventMap:id,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:sd,eventMap:id,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach(function(t){ac(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ac(rd,"defaultProps",{onLoad:function(){}}),ac(rd,"contextType",dc);var ld={},cd={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,t.memo)(function(e){var{data:n,onLoad:i,onUnmount:s,options:r}=e,o=(0,t.useContext)(dc),[a,l]=(0,t.useState)(null);return(0,t.useEffect)(()=>{google.maps.visualization||hc(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),(0,t.useEffect)(()=>{hc(!!n,"data property is required in HeatmapLayer %s",n)},[n]),(0,t.useEffect)(()=>{null!==a&&a.setMap(o)},[o]),(0,t.useEffect)(()=>{r&&null!==a&&a.setOptions(r)},[a,r]),(0,t.useEffect)(()=>{var e=new google.maps.visualization.HeatmapLayer(ad(ad({},r),{},{data:n,map:o}));return l(e),i&&i(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}},[]),null});class ud extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{heatmapLayer:null}),ac(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){hc(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),hc(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(ad(ad({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=vc({updaterMap:cd,eventMap:ld,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:cd,eventMap:ld,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),mc(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ac(ud,"contextType",dc);var hd={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},dd={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class pd extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{streetViewPanorama:null}),ac(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=vc({updaterMap:dd,eventMap:hd,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:dd,eventMap:hd,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),mc(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ac(pd,"contextType",dc);class fd extends t.PureComponent{constructor(){super(...arguments),ac(this,"state",{streetViewService:null}),ac(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ac(fd,"contextType",dc);t.PureComponent;var gd={onDirectionsChanged:"directions_changed"},md={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class vd extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"state",{directionsRenderer:null}),ac(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=vc({updaterMap:md,eventMap:gd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:md,eventMap:gd,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),mc(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ac(vd,"contextType",dc);t.PureComponent;var yd={onPlacesChanged:"places_changed"},bd={bounds(e,t){e.setBounds(t)}};class xd extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"containerElement",(0,t.createRef)()),ac(this,"state",{searchBox:null}),ac(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(hc(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=vc({updaterMap:bd,eventMap:yd,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:bd,eventMap:yd,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),mc(this.registeredEvents))}render(){return(0,ct.jsx)("div",{ref:this.containerElement,children:t.Children.only(this.props.children)})}}ac(xd,"contextType",dc);var wd={onPlaceChanged:"place_changed"},_d={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class kd extends t.PureComponent{constructor(){super(...arguments),ac(this,"registeredEvents",[]),ac(this,"containerElement",(0,t.createRef)()),ac(this,"state",{autocomplete:null}),ac(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;hc(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=vc({updaterMap:_d,eventMap:wd,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){mc(this.registeredEvents),this.registeredEvents=vc({updaterMap:_d,eventMap:wd,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&mc(this.registeredEvents)}render(){return(0,ct.jsx)("div",{ref:this.containerElement,className:this.props.className,children:t.Children.only(this.props.children)})}}ac(kd,"defaultProps",{className:""}),ac(kd,"contextType",dc);const Sd=Ue("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Cd={width:"100%",height:"100%"},Ed={lat:3.507431,lng:101.1077},Md=[{id:1,position:{lat:3.536,lng:101.134},title:"Field 1 - Valencia Orange",description:"Mature Valencia orange trees (8-10 years). High-yield variety with excellent fruit quality. Drip irrigation system installed.",imageUrl:"https://images.unsplash.com/photo-1574856344991-aaa31b6f4ce3?q=80&w=2070&auto=format&fit=crop"},{id:2,position:{lat:3.517,lng:101.106},title:"Field 2 - Navel Orange",description:"Premium navel orange grove with optimal spacing. Clay-loam soil provides excellent water retention for citrus growth.",imageUrl:"https://images.unsplash.com/photo-1530841344095-37bae0bbe7a7?q=80&w=2070&auto=format&fit=crop"},{id:3,position:{lat:3.507,lng:101.112},title:"Field 3 - Blood Orange",description:"Specialty blood orange plantation. Eastern exposure provides ideal morning sunlight. Organic certified field.",imageUrl:"https://images.unsplash.com/photo-1605375109313-2647c4c9594f?q=80&w=2070&auto=format&fit=crop"},{id:4,position:{lat:3.5014,lng:101.132},title:"Field 4 - Mandarin Grove",description:"Young mandarin trees (3-5 years). High-density planting with micro-sprinkler irrigation. Excellent soil fertility.",imageUrl:"https://images.unsplash.com/photo-1500937386664-56d1dfef3854?q=80&w=2070&auto=format&fit=crop"},{id:5,position:{lat:3.5074,lng:101.1477},title:"Field 5 - Main Hub Orange",description:"Central monitoring station with mixed orange varieties. Primary sensor network location for soil and weather monitoring.",imageUrl:"https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=2074&auto=format&fit=crop"},{id:6,position:{lat:3.5254,lng:101.1484},title:"Field 6 - Lime Production",description:"Key lime and Persian lime trees. Well-established grove with consistent production. Natural windbreak protection.",imageUrl:"https://images.unsplash.com/photo-1559181567-c3190ca9959b?q=80&w=2064&auto=format&fit=crop"},{id:7,position:{lat:3.5163,lng:101.137},title:"Field 7 - Grapefruit Section",description:"Pink and white grapefruit varieties. Sandy-loam soil ideal for citrus root development. Integrated pest management zone.",imageUrl:"https://images.unsplash.com/photo-1624511037223-28f8f047432f?q=80&w=2070&auto=format&fit=crop"},{id:8,position:{lat:3.5163,lng:101.1577},title:"Field 8 - Lemon Grove",description:"Eureka and Lisbon lemon varieties. Located near water reservoir for optimal irrigation. Consistently high production yield.",imageUrl:"https://images.unsplash.com/photo-1553906297-dac2b76a5ceb?q=80&w=2070&auto=format&fit=crop"},{id:9,position:{lat:3.5063,lng:101.1684},title:"Field 9 - Experimental Plot",description:"Research area for new citrus varieties and cultivation techniques. Climate-controlled greenhouse and nursery section.",imageUrl:"https://images.unsplash.com/photo-1589531739832-34f3a73c33a9?q=80&w=2070&auto=format&fit=crop"}],Ld=()=>{var e,n,i,s,r,o;const{isLoaded:a}=function(e){var{id:n=Dc.id,version:i=Dc.version,nonce:s,googleMapsApiKey:r,language:o,region:a,libraries:l=Hc,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=e,d=(0,t.useRef)(!1),[p,f]=(0,t.useState)(!1),[g,m]=(0,t.useState)(void 0);(0,t.useEffect)(function(){return d.current=!0,()=>{d.current=!1}},[]);var v=(0,t.useMemo)(()=>new Uc({id:n,apiKey:r,version:i,libraries:l,language:o||"en",region:a||"US",mapIds:u||[],nonce:s||"",authReferrerPolicy:h||"origin"}),[n,r,i,l,o,a,u,s,h]);(0,t.useEffect)(function(){p||v.load().then(()=>{d.current&&f(!0)}).catch(e=>{m(e)})},[]),(0,t.useEffect)(()=>{Sc&&c&&Mc()},[c]);var y=(0,t.useRef)();return(0,t.useEffect)(()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l},[l]),{isLoaded:p,loadError:g}}({id:"google-map-script",googleMapsApiKey:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY}),[l,c]=(0,t.useState)(null);return a?(0,ct.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Land Plots Overview"}),(0,ct.jsx)("div",{className:"h-96 w-full rounded-lg overflow-hidden",children:(0,ct.jsxs)(xc,{mapContainerStyle:Cd,center:Ed,zoom:17,mapTypeId:"satellite",options:{mapTypeControl:!0,mapTypeControlOptions:{style:null===(e=window.google)||void 0===e||null===(n=e.maps)||void 0===n||null===(i=n.MapTypeControlStyle)||void 0===i?void 0:i.HORIZONTAL_BAR,position:null===(s=window.google)||void 0===s||null===(r=s.maps)||void 0===r||null===(o=r.ControlPosition)||void 0===o?void 0:o.TOP_CENTER},streetViewControl:!1,fullscreenControl:!0,zoomControl:!0,scaleControl:!0,rotateControl:!0,tilt:0},children:[Md.map(e=>(0,ct.jsx)(au,{position:e.position,onClick:()=>{c(e)}},e.id)),l&&(0,ct.jsx)(dh,{position:l.position,onCloseClick:()=>c(null),options:{maxWidth:400,pixelOffset:new window.google.maps.Size(0,-10)},children:(0,ct.jsxs)("div",{className:"w-96 max-w-sm",children:[(0,ct.jsx)("img",{src:l.imageUrl,alt:l.title,className:"w-full h-48 object-cover rounded-md shadow-lg"}),(0,ct.jsx)("h4",{className:"font-bold text-lg my-3 text-gray-800",children:l.title}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:l.description}),(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsxs)("a",{href:"https://www.google.com/maps?q=".concat(l.position.lat,",").concat(l.position.lng),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:underline font-medium",children:["View in Google Maps ",(0,ct.jsx)(Sd,{className:"w-4 h-4 ml-1"})]}),(0,ct.jsxs)("span",{className:"text-xs text-gray-400",children:["Field ID: ",l.id]})]})]})})]})})]}):(0,ct.jsx)("div",{className:"text-center p-8 bg-white rounded-lg shadow-md border border-gray-200",children:"Loading Map..."})};const Nd=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5001/api";this.baseURL=e,this.wsConnection=null,this.wsReconnectTimer=null,this.listeners=new Map}async _request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),i=Oe({headers:Oe({"Content-Type":"application/json"},t.headers)},t);i.body&&"object"===typeof i.body&&(i.body=JSON.stringify(i.body));try{const e=await fetch(n,i),t=await e.json();if(!e.ok)throw new Error(t.error||t.message||"HTTP ".concat(e.status));return t}catch(s){throw console.error("API Error [".concat(t.method||"GET"," ").concat(e,"]:"),s),s}}async getDataByFilters(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new URLSearchParams({filters:JSON.stringify(t),options:JSON.stringify(n)});return(await this._request("/data/".concat(e,"?").concat(i))).data}async insertData(e,t){return await this._request("/data/".concat(e),{method:"POST",body:{data:t}})}async updateData(e,t,n,i){return await this._request("/data/".concat(e),{method:"PUT",body:{data:t,whereClause:n,whereParams:i}})}async deleteData(e,t,n){return await this._request("/data/".concat(e),{method:"DELETE",body:{whereClause:t,whereParams:n}})}async getSerialStatus(){return(await this._request("/serial/status")).data}async forceReconnect(){return this._request("/serial/reconnect",{method:"POST"})}async disconnect(){return this._request("/serial/disconnect",{method:"POST"})}async scanPorts(){return this._request("/serial/scan",{method:"POST"})}async setDynamicSwitching(e){return this._request("/serial/dynamic-switching",{method:"POST",body:{enabled:e}})}async sendSerialData(e){return this._request("/serial/send",{method:"POST",body:{data:e}})}async getWebSocketStatus(){return(await this._request("/websocket/status")).data}async getSensorData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getDataByFilters("sensors_data",e,{orderBy:{column:"created_at",direction:"DESC"},limit:100})}async insertSensorData(e){return this._request("/sensor-data",{method:"POST",body:e})}async healthCheck(){return this._request("/health")}connectWebSocket(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.wsConnection&&this.disconnectWebSocket();const t=this.baseURL.replace("http:","ws:").replace("https:","wss:").replace("/api","")+"/ws";try{this.wsConnection=new WebSocket(t),this.wsConnection.onopen=()=>{console.log("\ud83d\udce1 WebSocket connected for real-time data"),this.wsReconnectTimer&&(clearInterval(this.wsReconnectTimer),this.wsReconnectTimer=null),e.onOpen&&e.onOpen(),this._triggerListeners("connected",!0)},this.wsConnection.onmessage=t=>{try{const n=JSON.parse(t.data);console.log("\ud83d\udcca Real-time data received:",n.type),this._handleRealtimeMessage(n),e.onMessage&&e.onMessage(n),this._triggerListeners("message",n)}catch(n){console.error("WebSocket message parse error:",n)}},this.wsConnection.onclose=()=>{console.log("\ud83d\udce1 WebSocket disconnected"),e.onClose&&e.onClose(),this._triggerListeners("connected",!1),this._attemptReconnect(e)},this.wsConnection.onerror=t=>{console.error("WebSocket error:",t),e.onError&&e.onError(t),this._triggerListeners("error",t)}}catch(n){console.error("WebSocket connection failed:",n),e.onError&&e.onError(n)}return this.wsConnection}_handleRealtimeMessage(e){switch(e.type){case"initial_data":this._triggerListeners("initial_data",e.data);break;case"realtime_data":this._triggerListeners("".concat(e.dataType,"_update"),e.data);break;case"sensor_data_update":this._triggerListeners("sensor_data_update",e.data);break;case"task_update":this._triggerListeners("task_update",e.data);break;case"system_metrics_update":this._triggerListeners("system_metrics_update",e.data);break;case"data_response":this._triggerListeners("".concat(e.dataType,"_response"),e.data);break;case"error":console.error("WebSocket error message:",e.message),this._triggerListeners("websocket_error",e);break;default:console.log("Unknown WebSocket message type:",e.type)}}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"site_a_3_acres",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;this.wsConnection&&this.wsConnection.readyState===WebSocket.OPEN&&(this.wsConnection.send(JSON.stringify({type:"subscribe",payload:{dataType:e,siteId:t,interval:n}})),console.log("\ud83d\udce1 Subscribed to ".concat(e," updates")))}unsubscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"site_a_3_acres";this.wsConnection&&this.wsConnection.readyState===WebSocket.OPEN&&(this.wsConnection.send(JSON.stringify({type:"unsubscribe",payload:{dataType:e,siteId:t}})),console.log("\ud83d\udce1 Unsubscribed from ".concat(e," updates")))}requestData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"site_a_3_acres",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.wsConnection&&this.wsConnection.readyState===WebSocket.OPEN&&this.wsConnection.send(JSON.stringify({type:"request_data",payload:{dataType:e,siteId:t,filters:n}}))}_attemptReconnect(e){this.wsReconnectTimer||(this.wsReconnectTimer=setInterval(()=>{console.log("Attempting WebSocket reconnection..."),this.connectWebSocket(e)},5e3))}disconnectWebSocket(){this.wsReconnectTimer&&(clearInterval(this.wsReconnectTimer),this.wsReconnectTimer=null),this.wsConnection&&(this.wsConnection.close(),this.wsConnection=null)}on(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}off(e,t){this.listeners.has(e)&&this.listeners.get(e).delete(t)}_triggerListeners(e,t){this.listeners.has(e)&&this.listeners.get(e).forEach(n=>{try{n(t)}catch(i){console.error("Error in event listener for ".concat(e,":"),i)}})}},Td=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[r,o]=(0,t.useState)(null),[a,l]=(0,t.useState)(!1),c=(0,t.useRef)(0);(0,t.useEffect)(()=>{const e=async()=>{try{await Nd.healthCheck(),n(!0),o(null),c.current=0}catch(t){n(!1),o(t.message),c.current<5&&(c.current++,setTimeout(e,1e3*Math.pow(2,c.current)))}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,t.useEffect)(()=>{if(e){const e={onOpen:()=>s(!0),onClose:()=>s(!1),onError:e=>console.error("WebSocket error:",e),onMessage:e=>{console.log("WebSocket message:",e)}};Nd.connectWebSocket(e)}return()=>{Nd.disconnectWebSocket()}},[e]);const u=(0,t.useCallback)(async function(e){try{l(!0),o(null);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return await e(...n)}catch(s){throw o(s.message),s}finally{l(!1)}},[]);return{isConnected:e,wsConnected:i,error:r,loading:a,getDataByFilters:(0,t.useCallback)((e,t,n)=>u(Nd.getDataByFilters.bind(Nd),e,t,n),[u]),insertData:(0,t.useCallback)((e,t)=>u(Nd.insertData.bind(Nd),e,t),[u]),updateData:(0,t.useCallback)((e,t,n,i)=>u(Nd.updateData.bind(Nd),e,t,n,i),[u]),deleteData:(0,t.useCallback)((e,t,n)=>u(Nd.deleteData.bind(Nd),e,t,n),[u]),getSensorData:(0,t.useCallback)(e=>u(Nd.getSensorData.bind(Nd),e),[u]),insertSensorData:(0,t.useCallback)(e=>u(Nd.insertSensorData.bind(Nd),e),[u]),getSerialStatus:(0,t.useCallback)(()=>u(Nd.getSerialStatus.bind(Nd)),[u]),forceReconnect:(0,t.useCallback)(()=>u(Nd.forceReconnect.bind(Nd)),[u]),sendSerialData:(0,t.useCallback)(e=>u(Nd.sendSerialData.bind(Nd),e),[u]),getWebSocketStatus:(0,t.useCallback)(()=>u(Nd.getWebSocketStatus.bind(Nd)),[u]),on:Nd.on.bind(Nd),off:Nd.off.bind(Nd),subscribe:Nd.subscribe.bind(Nd),unsubscribe:Nd.unsubscribe.bind(Nd),requestData:Nd.requestData.bind(Nd),api:Nd}},Dd=()=>{const{getSerialStatus:e,forceReconnect:n,sendSerialData:i,isConnected:s}=Td(),[r,o]=(0,t.useState)(null),a=(0,t.useCallback)(async()=>{if(s)try{const t=await e();return o(t),t}catch(n){var t;null!==(t=n.message)&&void 0!==t&&t.includes("Serial service not available")||console.error("Error fetching serial status:",n),o({connected:!1,available:!1,disabled:!0})}},[e,s]);return(0,t.useEffect)(()=>{a();const e=setInterval(a,5e3);return()=>clearInterval(e)},[a]),{status:r,refetch:a,reconnect:n,sendData:i}},jd=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const t=e[s],r=s+1<e.length,o=r?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,r||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],r=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==r||null==o||null==a)throw new Od;const l=t<<2|r>>4;if(i.push(l),64!==o){const e=r<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Od extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Id=function(e){return function(e){const t=jd(e);return Pd.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ad=function(e){try{return Pd.decodeString(e,!0)}catch(bE){console.error("base64Decode failed: ",bE)}return null};function Rd(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Fd=()=>{try{return Rd().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bE){return}const t=e&&Ad(e[1]);return t&&JSON.parse(t)})()}catch(bE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(bE))}},zd=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Fd())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Vd=()=>{var e;return null===(e=Fd())||void 0===e?void 0:e.config};class Bd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ud(e){return e.endsWith(".cloudworkstations.dev")}const Hd={};let Wd=!1;function qd(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ud(window.location.host)||Hd[e]===t||Hd[e]||Wd)return;function n(e){return"__firebase__banner__".concat(e)}Hd[e]=t;const i="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hd))Hd[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function r(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Wd=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=r();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}s?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Kd(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gd(){var e;const t=null===(e=Fd())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(bE){return!1}}function Yd(){return!Gd()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qd(){try{return"object"===typeof indexedDB}catch(bE){return!1}}class $d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],s=i?function(e,t){return e.replace(Zd,(e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,t):"Error",r="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new $d(n,r,t)}}const Zd=/\{\$([^}]+)}/g;function Jd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s],r=t[s];if(ep(n)&&ep(r)){if(!Jd(n,r))return!1}else if(n!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ep(e){return null!==e&&"object"===typeof e}function tp(e){return e&&e._delegate?e._delegate:e}class np{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ip="[DEFAULT]";class sp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Bd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(bE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bE){if(i)return null;throw bE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ip})}catch(bE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(bE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,r]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&r.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===ip?void 0:s),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}var s;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip;return this.component?this.component.multipleInstances?e:ip:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const op=[];var ap;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ap||(ap={}));const lp={debug:ap.DEBUG,verbose:ap.VERBOSE,info:ap.INFO,warn:ap.WARN,error:ap.ERROR,silent:ap.SILENT},cp=ap.INFO,up={[ap.DEBUG]:"log",[ap.VERBOSE]:"log",[ap.INFO]:"info",[ap.WARN]:"warn",[ap.ERROR]:"error"},hp=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=up[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...r)};class dp{constructor(e){this.name=e,this._logLevel=cp,this._logHandler=hp,this._userLogHandler=null,op.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ap))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?lp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ap.DEBUG,...t),this._logHandler(this,ap.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ap.VERBOSE,...t),this._logHandler(this,ap.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ap.INFO,...t),this._logHandler(this,ap.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ap.WARN,...t),this._logHandler(this,ap.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ap.ERROR,...t),this._logHandler(this,ap.ERROR,...t)}}let pp,fp;const gp=new WeakMap,mp=new WeakMap,vp=new WeakMap,yp=new WeakMap,bp=new WeakMap;let xp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Sp(this),n),kp(gp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return kp(e.apply(Sp(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];const r=e.call(Sp(this),t,...i);return vp.set(r,t.sort?t.sort():[t]),kp(r)}}function _p(e){return"function"===typeof e?wp(e):(e instanceof IDBTransaction&&function(e){if(mp.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),i()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)});mp.set(e,t)}(e),t=e,(pp||(pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,xp):e);var t}function kp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(kp(e.result)),i()},r=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",r)});return t.then(t=>{t instanceof IDBCursor&&gp.set(t,e)}).catch(()=>{}),bp.set(t,e),t}(e);if(yp.has(e))return yp.get(e);const t=_p(e);return t!==e&&(yp.set(e,t),bp.set(t,e)),t}const Sp=e=>bp.get(e);const Cp=["get","getKey","getAll","getAllKeys","count"],Ep=["put","add","delete","clear"],Mp=new Map;function Lp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mp.get(t))return Mp.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Ep.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Cp.includes(n))return;const r=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let r=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(r=r.index(a.shift())),(await Promise.all([r[n](...a),s&&t.done]))[0]};return Mp.set(t,r),r}!function(e){xp=e(xp)}(e=>Oe(Oe({},e),{},{get:(t,n,i)=>Lp(t,n)||e.get(t,n,i),has:(t,n)=>!!Lp(t,n)||e.has(t,n)}));class Np{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Tp="@firebase/app",Dp="0.13.1",jp=new dp("@firebase/app"),Pp="@firebase/app-compat",Op="@firebase/analytics-compat",Ip="@firebase/analytics",Ap="@firebase/app-check-compat",Rp="@firebase/app-check",Fp="@firebase/auth",zp="@firebase/auth-compat",Vp="@firebase/database",Bp="@firebase/data-connect",Up="@firebase/database-compat",Hp="@firebase/functions",Wp="@firebase/functions-compat",qp="@firebase/installations",Kp="@firebase/installations-compat",Gp="@firebase/messaging",Yp="@firebase/messaging-compat",Qp="@firebase/performance",$p="@firebase/performance-compat",Xp="@firebase/remote-config",Zp="@firebase/remote-config-compat",Jp="@firebase/storage",ef="@firebase/storage-compat",tf="@firebase/firestore",nf="@firebase/ai",sf="@firebase/firestore-compat",rf="firebase",of="[DEFAULT]",af={[Tp]:"fire-core",[Pp]:"fire-core-compat",[Ip]:"fire-analytics",[Op]:"fire-analytics-compat",[Rp]:"fire-app-check",[Ap]:"fire-app-check-compat",[Fp]:"fire-auth",[zp]:"fire-auth-compat",[Vp]:"fire-rtdb",[Bp]:"fire-data-connect",[Up]:"fire-rtdb-compat",[Hp]:"fire-fn",[Wp]:"fire-fn-compat",[qp]:"fire-iid",[Kp]:"fire-iid-compat",[Gp]:"fire-fcm",[Yp]:"fire-fcm-compat",[Qp]:"fire-perf",[$p]:"fire-perf-compat",[Xp]:"fire-rc",[Zp]:"fire-rc-compat",[Jp]:"fire-gcs",[ef]:"fire-gcs-compat",[tf]:"fire-fst",[sf]:"fire-fst-compat",[nf]:"fire-vertex","fire-js":"fire-js",[rf]:"fire-js-all"},lf=new Map,cf=new Map,uf=new Map;function hf(e,t){try{e.container.addComponent(t)}catch(bE){jp.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),bE)}}function df(e){const t=e.name;if(uf.has(t))return jp.debug("There were multiple attempts to register component ".concat(t,".")),!1;uf.set(t,e);for(const n of lf.values())hf(n,e);for(const n of cf.values())hf(n,e);return!0}function pf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ff=new Xd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gf{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new np("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ff.create("app-deleted",{appName:this._name})}}function mf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:of,automaticDataCollectionEnabled:!0},t),s=i.name;if("string"!==typeof s||!s)throw ff.create("bad-app-name",{appName:String(s)});if(n||(n=Vd()),!n)throw ff.create("no-options");const r=lf.get(s);if(r){if(Jd(n,r.options)&&Jd(i,r.config))return r;throw ff.create("duplicate-app",{appName:s})}const o=new rp(s);for(const l of uf.values())o.addComponent(l);const a=new gf(n,i,o);return lf.set(s,a),a}function vf(e,t,n){var i;let s=null!==(i=af[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return r&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),r&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jp.warn(e.join(" "))}df(new np("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const yf="firebase-heartbeat-store";let bf=null;function xf(){return bf||(bf=function(e,t){let{blocked:n,upgrade:i,blocking:s,terminated:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=kp(o);return i&&o.addEventListener("upgradeneeded",e=>{i(kp(o.result),e.oldVersion,e.newVersion,kp(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{r&&e.addEventListener("close",()=>r()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(yf)}catch(bE){console.warn(bE)}}}).catch(e=>{throw ff.create("idb-open",{originalErrorMessage:e.message})})),bf}async function wf(e,t){try{const n=(await xf()).transaction(yf,"readwrite"),i=n.objectStore(yf);await i.put(t,_f(e)),await n.done}catch(bE){if(bE instanceof $d)jp.warn(bE.message);else{const t=ff.create("idb-set",{originalErrorMessage:null===bE||void 0===bE?void 0:bE.message});jp.warn(t.message)}}}function _f(e){return"".concat(e.name,"!").concat(e.options.appId)}class kf{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cf(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sf();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(bE){jp.warn(bE)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Sf(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Ef(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ef(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=Id(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(bE){return jp.warn(bE),""}}}function Sf(){return(new Date).toISOString().substring(0,10)}class Cf{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Qd()&&new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xf()).transaction(yf),n=await t.objectStore(yf).get(_f(e));return await t.done,n}catch(bE){if(bE instanceof $d)jp.warn(bE.message);else{const t=ff.create("idb-get",{originalErrorMessage:null===bE||void 0===bE?void 0:bE.message});jp.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wf(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ef(e){return Id(JSON.stringify({version:2,heartbeats:e})).length}var Mf;Mf="",df(new np("platform-logger",e=>new Np(e),"PRIVATE")),df(new np("heartbeat",e=>new kf(e),"PRIVATE")),vf(Tp,Dp,Mf),vf(Tp,Dp,"esm2017"),vf("fire-js","");vf("firebase","11.9.0","app");var Lf,Nf,Tf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Df={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;o=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=n+(o<<7&4294967295|o>>>25))+((o=r+(s^t&(n^s))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^r&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(r^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^n&(s^r))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^t&(n^s))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^r&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(r^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^n&(s^r))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^t&(n^s))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^r&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(r^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^n&(s^r))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^t&(n^s))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^r&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(r^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^r&(n^s))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=r+(n^s&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(r^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(r^t&(s^r))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^r&(n^s))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=r+(n^s&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(r^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(r^t&(s^r))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^r&(n^s))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=r+(n^s&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(r^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(r^t&(s^r))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^r&(n^s))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=r+(n^s&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(r^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(r^t&(s^r))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^s^r)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=r+(t^n^s)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^r^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^r)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=r+(t^n^s)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^r^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^r)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=r+(t^n^s)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^r^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^r)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=r+(t^n^s)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^r^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(s^(n|~r))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=r+(n^(t|~s))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(r|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(r^(s|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~r))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=r+(n^(t|~s))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(r|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(r^(s|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~r))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=r+(n^(t|~s))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(r|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(r^(s|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((r=(t=n+((o=t+(s^(n|~r))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=r+(n^(t|~s))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=r+((o=s+(t^(r|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}function i(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=0|e[s];i&&r==t||(n[s]=r,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,s=this.B,r=this.h,o=0;o<t;){if(0==r)for(;o<=i;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(s[r++]=e.charCodeAt(o++),r==this.blockSize){n(this,s),r=0;break}}else for(;o<t;)if(s[r++]=e[o++],r==this.blockSize){n(this,s),r=0;break}}this.h=r,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var s={};function r(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new i([0|e],0>e?-1:0)}):new i([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new i(t,0)}var a=r(0),l=r(1),c=r(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new i(n,~e.h).add(l)}function p(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=t;0>=i.l(e);)n=v(n),i=v(i);var s=y(n,1),r=y(i,1);for(i=y(i,2),n=y(n,2);!u(i);){var c=r.add(i);0>=c.l(e)&&(s=s.add(n),r=c),i=y(i,1),n=y(n,1)}return t=p(e,s.j(t)),new g(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(r=o(n)).j(t);h(c)||0<c.l(e);)c=(r=o(n-=i)).j(t);u(r)&&(r=l),s=s.add(r),e=p(e,c)}return new g(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new i(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,r=[],o=0;o<s;o++)r[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(r,e.h)}(e=i.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.i(n);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,i="";;){var s=m(n,t).g,r=((0<(n=p(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return r+i;for(;6>r.length;)r="0"+r;i=r+i}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,r=0;r<=t;r++){var o=s+(65535&this.i(r))+(65535&e.i(r)),a=(o>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<e.g.length;r++){var l=this.i(s)>>>16,p=65535&this.i(s),g=e.i(r)>>>16,m=65535&e.i(r);n[2*s+2*r]+=p*m,f(n,2*s+2*r),n[2*s+2*r+1]+=l*m,f(n,2*s+2*r+1),n[2*s+2*r+1]+=p*g,f(n,2*s+2*r+1),n[2*s+2*r+2]+=l*g,f(n,2*s+2*r+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new i(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Nf=Df.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),s=a,r=0;r<t.length;r+=8){var l=Math.min(8,t.length-r),c=parseInt(t.substring(r,r+l),n);8>l?(l=o(Math.pow(n,l)),s=s.j(l).add(o(c))):s=(s=s.j(i)).add(o(c))}return s},Lf=Df.Integer=i}).apply("undefined"!==typeof Tf?Tf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var jf,Pf,Of,If,Af,Rf,Ff,zf,Vf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bf={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vf&&Vf];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,i){if(i)e:{var s=n;e=e.split(".");for(var r=0;r<e.length-1;r++){var o=e[r];if(!(o in s))break e;s=s[o]}(i=i(r=s[e=e[e.length-1]]))!=r&&null!=i&&t(s,e,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,s={next:function(){if(!i&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return i=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var i=i||{},s=this||self;function r(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return t.prototype[n].apply(e,s)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(r(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let s=0;s<i;s++)e[n+s]=t[s]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,i;for(let s=1;s<arguments.length;s++){for(n in i=arguments[s],i)e[n]=i[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){s.setTimeout(()=>{throw e},0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=s.Promise.resolve(void 0);M=()=>{e.then(D)}};var D=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}L=!1};function j(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function I(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var s=!0;break e}catch(r){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:A[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&I.aa.h.call(this)}}h(I,P);var A={2:"touch",3:"pen",4:"mouse"};I.prototype.h=function(){I.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var i,s=e.g[n],r=Array.prototype.indexOf.call(s,t,void 0);(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.da&&r.listener==t&&r.capture==!!n&&r.ha==i)return s}return-1}B.prototype.add=function(e,t,n,i,s){var r=e.toString();(e=this.g[r])||(e=this.g[r]=[],this.h++);var o=H(e,t,i,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,r,!!i,s)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,i,s){if(i&&i.once)return Y(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)K(e,t[r],n,i,s);return null}return n=te(n),e&&e[R]?e.K(t,n,o(i)?!!i.capture:!!i,s):G(e,t,n,!1,i,s)}function G(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,l=J(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,i,a,r)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)O||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Y(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)Y(e,t[r],n,i,s);return null}return n=te(n),e&&e[R]?e.L(t,n,o(i)?!!i.capture:!!i,s):G(e,t,n,!0,i,s)}function Q(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)Q(e,t[r],n,i,s);else i=o(i)?!!i.capture:!!i,n=te(n),e&&e[R]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(r=e.g[t],n,i,s))&&(V(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,i,s)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[R])U(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(X(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=J(t))?(U(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new I(t,this);var n=e.listener,i=e.ha||e.src;e.fa&&$(e),e=n.call(i,t)}return e}function J(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new B(this),this.M=this,this.F=null}function ie(e,t){var n,i=e.F;if(i)for(n=[];i;i=i.F)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var s=t;w(t=new P(i,e),s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=se(o,i,!0,t)&&s}if(s=se(o=t.g=e,i,!0,t)&&s,s=se(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)s=se(o=t.g=n[r],i,!1,t)&&s}function se(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&U(e.i,o),s=!1!==a.call(l,i)&&s}}return s&&!i.defaultPrevented}function re(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function oe(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,j),ne.prototype[R]=!0,ne.prototype.removeEventListener=function(e,t,n,i){Q(this,e,t,n,i)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)V(n[i]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ne.prototype.L=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class ae extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}h(le,j);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=s.JSON.stringify,de=s.JSON.parse,pe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}h(ye,P),h(be,P);var xe={},we=null;function _e(){return we=we||new ne}function ke(e){P.call(this,xe.La,e)}function Se(e){const t=_e();ie(t,new ke(t))}function Ce(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=_e();ie(t,new Ce(t,e))}function Me(e,t){P.call(this,xe.Ma,e),this.size=t}function Le(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Te(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(i?" "+i:"")})}xe.La="serverreachability",h(ke,P),xe.STAT_EVENT="statevent",h(Ce,P),xe.Ma="timingevent",h(Me,P),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var De,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Ie(e,t,n,i){this.j=e,this.i=t,this.l=n,this.R=i||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}h(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},De=new Oe;var Re={},Fe={};function ze(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),Ct(n.i,"t",i),e.C=0,n=e.j.J,e.h=new Ae,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,i=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var r=0;r<s.length;r++){var o=K(n,s[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Fe:(n=Number(t.substring(n,i)),isNaN(n)?Re:(i+=1)+n>t.length?Fe:(t=t.slice(i,i+n),e.C=i+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Le(c(e.ba,e),t)}function qe(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var i=n.Da.g.parse(t)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),$t(n)}sn(n),Ee(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Le(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var r=i.h;r.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(et(r,r.h),r.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,ut(i.I,i.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){tt(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(qe(a),He(a)),i.g=o}else nn(i);0<n.i.length&&Zt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Ie.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var i=Kt(this.g);e="";var r=i.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:!(o&&t==r-1)});i.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+r+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),Ke(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Fe){4==d&&(this.s=4,Ee(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Re){this.s=4,Ee(15),Te(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Ye(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(h),h.M=!0,Ee(11))}}else Te(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Te(this.i,this.l,a,null),Ye(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(f(e[i]))continue;var n=_(e[i]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),Ke(this)}}}catch(d){}},Ie.prototype.cancel=function(){this.J=!0,Ge(this)},Ie.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Ee(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function it(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(r(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(r(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(r(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),s=i.length,o=0;o<s;o++)t.call(void 0,i[o],n&&n[o],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new rt(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Ct(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){_t(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return _t(e),t=Et(e,t),e.g.has(t)}function Ct(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,i,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),i(n)}catch(r){}}function Lt(){this.g=new pe}function Nt(e,t,n){const i=n||"";try{it(e,function(e,n){let s=e;o(e)&&(s=he(e)),t.push(i+n+"="+encodeURIComponent(s))})}catch(bE){throw t.push(i+"type="+encodeURIComponent("_badmap")),bE}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=It(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach(function(n,i){n.forEach(function(n){e.call(t,n,i,this)},this)},this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let e=0;e<s.length;e++)n.push(t[i])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,St(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var s=r;""!==o[i]&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")},h(Tt,fe),Tt.prototype.g=function(){return new Dt(this.l,this.j)},Tt.prototype.i=(gt={},function(){return gt}),h(Dt,ne),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Rt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,ie(e,"complete"),ie(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))re(e.Ea,0,e);else if(ie(e,"readystatechange"),4==qt(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){var o=String(e.D).match(st)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),r=!Ft.test(o?o.toLowerCase():"")}n=r}if(n)ie(e,"complete"),ie(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ie(e,"ready");try{n.onreadystatechange=i}catch(bE){}}}function Wt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Ie(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function $t(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||T(),L||(M(),L=!0),N.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const i=ot(e.I);ut(i,"SID",e.K),ut(i,"RID",n),ut(i,"AID",e.T),en(e,i),e.m&&e.o&&At(i,e.m,e.o),n=new Ie(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,i,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&it({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var i=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=s[a].g;const l=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(r){i&&i(l)}}if(o){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||T(),L||(M(),L=!0),N.add(t,e),e.v=0}}function sn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Le(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&At(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var i=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),i=1}if(0!=e.G)if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;ie(i=_e(),new Me(i,n)),Zt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==i&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Le(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==i&&sn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),i=e.Xa;const t=!i;i=new rt(i||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||at(i,"https"),ht(i),t?function(e,t){const n=new Ne;if(s.Image){const i=new Image;i.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,i),i.onerror=u(Mt,n,"TestLoadImage: error",!1,t,i),i.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,i),s.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new Ne;const n=new AbortController,i=setTimeout(()=>{n.abort(),Mt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(i),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)}).catch(()=>{clearTimeout(i),Mt(0,0,!1,t)})}(i.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var i=n instanceof rt?ot(n):new rt(n);if(""!=i.g)t&&(i.g=t+"."+i.g),lt(i,i.s);else{var r=s.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new rt(null);i&&at(o,i),t&&(o.g=t),r&&lt(o,r),n&&(o.l=n),i=o}return n=e.D,t=e.ya,n&&t&&ut(i,n,t),ut(i,"VER",e.la),en(e,i),i}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Tt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?ge(this.o):ge(De),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),r=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ie(this,"complete"),ie(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,i){Ee(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Ie(this,this.j,e);let r=this.o;if(this.S&&(r?(r=b(r),w(r,this.S)):r=this.S),null!==this.m||this.O||(s.H=r,r=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(It(r)))+"&"+t:this.m&&At(n,this.m,r)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,ze(s,n,null)):ze(s,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Le(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),$t(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),sn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Zt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,fn),bn.prototype.ua=function(){ie(this.g,"a")},bn.prototype.ta=function(e){ie(this.g,new vn(e))},bn.prototype.sa=function(e){ie(this.g,new yn)},bn.prototype.ra=function(){ie(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,zf=Bf.createWebChannelTransport=function(){return new gn},Ff=Bf.getStatEventTarget=function(){return _e()},Rf=Bf.Event=xe,Af=Bf.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,If=Bf.ErrorCode=je,Pe.COMPLETE="complete",Of=Bf.EventType=Pe,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Pf=Bf.WebChannel=me,Bf.FetchXmlHttpFactory=Tt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,jf=Bf.XhrIo=Rt}).apply("undefined"!==typeof Vf?Vf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Uf="@firebase/firestore",Hf="4.7.17";class Wf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wf.UNAUTHENTICATED=new Wf(null),Wf.GOOGLE_CREDENTIALS=new Wf("google-credentials-uid"),Wf.FIRST_PARTY=new Wf("first-party-uid"),Wf.MOCK_USER=new Wf("mock-user");let qf="11.9.0";const Kf=new dp("@firebase/firestore");function Gf(){return Kf.logLevel}function Yf(e){if(Kf.logLevel<=ap.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const s=n.map(Xf);Kf.debug("Firestore (".concat(qf,"): ").concat(e),...s)}}function Qf(e){if(Kf.logLevel<=ap.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const s=n.map(Xf);Kf.error("Firestore (".concat(qf,"): ").concat(e),...s)}}function $f(e){if(Kf.logLevel<=ap.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const s=n.map(Xf);Kf.warn("Firestore (".concat(qf,"): ").concat(e),...s)}}function Xf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zf(e,t,n){let i="Unexpected state";"string"==typeof t?i=t:n=t,Jf(e,i,n)}function Jf(e,t,n){let i="FIRESTORE (".concat(qf,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(e){i+=" CONTEXT: "+n}throw Qf(i),new Error(i)}function eg(e,t,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,e||Jf(t,s,i)}function tg(e,t){return e}const ng={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ig extends $d{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class sg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class og{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wf.UNAUTHENTICATED))}shutdown(){}}class ag{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lg{constructor(e){this.t=e,this.currentUser=Wf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){eg(void 0===this.o,42304);let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new sg;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sg,e.enqueueRetryable(()=>i(this.currentUser))};const r=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},o=e=>{Yf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Yf("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sg)}},0),r()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Yf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eg("string"==typeof t.accessToken,31837,{l:t}),new rg(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return eg(null===e||"string"==typeof e,2055,{h:e}),new Wf(e)}}class cg{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Wf.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ug{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new cg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wf.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dg{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){eg(void 0===this.o,3512);const n=e=>{null!=e.error&&Yf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Yf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const i=e=>{Yf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?i(e):Yf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(eg("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new hg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function fg(){return new TextEncoder}class gg{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=pg(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function mg(e,t){return e<t?-1:e>t?1:0}function vg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return mg(i,s);{const r=fg(),o=bg(r.encode(yg(e,n)),r.encode(yg(t,n)));return 0!==o?o:mg(i,s)}}n+=i>65535?2:1}return mg(e.length,t.length)}function yg(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function bg(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return mg(e[n],t[n]);return mg(e.length,t.length)}function xg(e,t,n){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}const wg=-62135596800,_g=1e6;class kg{static now(){return kg.fromMillis(Date.now())}static fromDate(e){return kg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_g);return new kg(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ig(ng.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ig(ng.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wg)throw new ig(ng.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ig(ng.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_g}_compareTo(e){return this.seconds===e.seconds?mg(this.nanoseconds,e.nanoseconds):mg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sg{static fromTimestamp(e){return new Sg(e)}static min(){return new Sg(new kg(0,0))}static max(){return new Sg(new kg(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cg="__name__";class Eg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zf(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Zf(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Eg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eg?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=Eg.compareSegments(e.get(i),t.get(i));if(0!==n)return n}return mg(e.length,t.length)}static compareSegments(e,t){const n=Eg.isNumericId(e),i=Eg.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Eg.extractNumericId(e).compare(Eg.extractNumericId(t)):vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lf.fromString(e.substring(4,e.length-2))}}class Mg extends Eg{construct(e,t,n){return new Mg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const s of n){if(s.indexOf("//")>=0)throw new ig(ng.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new Mg(e)}static emptyPath(){return new Mg([])}}const Lg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ng extends Eg{construct(e,t,n){return new Ng(e,t,n)}static isValidIdentifier(e){return Lg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ng.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Cg}static keyField(){return new Ng([Cg])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(0===n.length)throw new ig(ng.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let r=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new ig(ng.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ig(ng.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(r=!r,i++):"."!==t||r?(n+=t,i++):(s(),i++)}if(s(),r)throw new ig(ng.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ng(t)}static emptyPath(){return new Ng([])}}class Tg{constructor(e){this.path=e}static fromPath(e){return new Tg(Mg.fromString(e))}static fromName(e){return new Tg(Mg.fromString(e).popFirst(5))}static empty(){return new Tg(Mg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tg(new Mg(e.slice()))}}const Dg=-1;class jg{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}jg.UNKNOWN_ID=-1;function Pg(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Sg.fromTimestamp(1e9===i?new kg(n+1,0):new kg(n,i));return new Ig(s,Tg.empty(),t)}function Og(e){return new Ig(e.readTime,e.key,Dg)}class Ig{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ig(Sg.min(),Tg.empty(),Dg)}static max(){return new Ig(Sg.max(),Tg.empty(),Dg)}}function Ag(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Tg.comparator(e.documentKey,t.documentKey),0!==n?n:mg(e.largestBatchId,t.largestBatchId))}const Rg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function zg(e){if(e.code!==ng.FAILED_PRECONDITION||e.message!==Rg)throw e;Yf("LocalStore","Unexpectedly lost primary lease")}class Vg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zf(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vg((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Vg?t:Vg.resolve(t)}catch(e){return Vg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Vg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Vg.reject(t)}static resolve(e){return new Vg((t,n)=>{t(e)})}static reject(e){return new Vg((t,n)=>{n(e)})}static waitFor(e){return new Vg((t,n)=>{let i=0,s=0,r=!1;e.forEach(e=>{++i,e.next(()=>{++s,r&&s===i&&t()},e=>n(e))}),r=!0,s===i&&t()})}static or(e){let t=Vg.resolve(!1);for(const n of e)t=t.next(e=>e?Vg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}static mapArray(e,t){return new Vg((n,i)=>{const s=e.length,r=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next(e=>{r[l]=e,++o,o===s&&n(r)},e=>i(e))}})}static doWhile(e,t){return new Vg((n,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):n()};s()})}}function Bg(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ug(e){return"IndexedDbTransactionError"===e.name}class Hg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hg.le=-1;const Wg=-1;function qg(e){return null==e}function Kg(e){return 0===e&&1/e==-1/0}function Gg(e){return"number"==typeof e&&Number.isInteger(e)&&!Kg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Yg="\x01";function Qg(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Xg(t)),t=$g(e.get(n),t);return Xg(t)}function $g(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Yg:n+="\x01\x11";break;default:n+=t}}return n}function Xg(e){return e+Yg+"\x01"}const Zg="remoteDocuments",Jg="owner",em="mutationQueues",tm="mutations";const nm="documentMutations",im="remoteDocumentsV14",sm="remoteDocumentGlobal",rm="targets",om="targetDocuments",am="targetGlobal",lm="collectionParents",cm="clientMetadata",um="bundles",hm="namedQueries",dm="indexConfiguration",pm="indexState",fm="indexEntries",gm="documentOverlays",mm="globals",vm=[em,tm,nm,Zg,rm,Jg,am,om,cm,sm,lm,um,hm],ym=[em,tm,nm,im,rm,Jg,am,om,cm,sm,lm,um,hm,gm],bm=ym,xm=[...bm,dm,pm,fm];function wm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _m(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function km(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sm{constructor(e,t){this.comparator=e,this.root=t||Em.EMPTY}insert(e,t){return new Sm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Em.BLACK,null,null))}remove(e){return new Sm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Em.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Em{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:Em.RED,this.left=null!=i?i:Em.EMPTY,this.right=null!=s?s:Em.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new Em(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Em.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Em.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Em.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Em.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zf(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Zf(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Zf(27949);return e+(this.isRed()?0:1)}}Em.EMPTY=null,Em.RED=!0,Em.BLACK=!1,Em.EMPTY=new class{constructor(){this.size=0}get key(){throw Zf(57766)}get value(){throw Zf(16141)}get color(){throw Zf(16727)}get left(){throw Zf(29726)}get right(){throw Zf(36894)}copy(e,t,n,i,s){return this}insert(e,t,n){return new Em(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mm{constructor(e){this.comparator=e,this.data=new Sm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lm(this.data.getIterator())}getIteratorFrom(e){return new Lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Mm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mm(this.comparator);return t.data=e,t}}class Lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nm{constructor(e){this.fields=e,e.sort(Ng.comparator)}static empty(){return new Nm([])}unionWith(e){let t=new Mm(Ng.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Nm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Tm("Invalid base64 string: "+e):e}}(e);return new Dm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Dm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dm.EMPTY_BYTE_STRING=new Dm("");const jm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pm(e){if(eg(!!e,39018),"string"==typeof e){let t=0;const n=jm.exec(e);if(eg(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Om(e.seconds),nanos:Om(e.nanos)}}function Om(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Im(e){return"string"==typeof e?Dm.fromBase64String(e):Dm.fromUint8Array(e)}const Am="server_timestamp",Rm="__type__",Fm="__previous_value__",zm="__local_write_time__";function Vm(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Rm])||void 0===n?void 0:n.stringValue)===Am}function Bm(e){const t=e.mapValue.fields[Fm];return Vm(t)?Bm(t):t}function Um(e){const t=Pm(e.mapValue.fields[zm].timestampValue);return new kg(t.seconds,t.nanos)}class Hm{constructor(e,t,n,i,s,r,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Wm="(default)";class qm{constructor(e,t){this.projectId=e,this.database=t||Wm}static empty(){return new qm("","")}get isDefaultDatabase(){return this.database===Wm}isEqual(e){return e instanceof qm&&e.projectId===this.projectId&&e.database===this.database}}const Km="__type__",Gm="__max__",Ym={mapValue:{fields:{__type__:{stringValue:Gm}}}},Qm="__vector__",$m="value";function Xm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vm(e)?4:fv(e)?9007199254740991:dv(e)?10:11:Zf(28295,{value:e})}function Zm(e,t){if(e===t)return!0;const n=Xm(e);if(n!==Xm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Um(e).isEqual(Um(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pm(e.timestampValue),i=Pm(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Im(e.bytesValue).isEqual(Im(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Om(e.geoPointValue.latitude)===Om(t.geoPointValue.latitude)&&Om(e.geoPointValue.longitude)===Om(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Om(e.integerValue)===Om(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Om(e.doubleValue),i=Om(t.doubleValue);return n===i?Kg(n)===Kg(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return xg(e.arrayValue.values||[],t.arrayValue.values||[],Zm);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(wm(n)!==wm(i))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===i[s]||!Zm(n[s],i[s])))return!1;return!0}(e,t);default:return Zf(52216,{left:e})}}function Jm(e,t){return void 0!==(e.values||[]).find(e=>Zm(e,t))}function ev(e,t){if(e===t)return 0;const n=Xm(e),i=Xm(t);if(n!==i)return mg(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return mg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Om(e.integerValue||e.doubleValue),i=Om(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return tv(e.timestampValue,t.timestampValue);case 4:return tv(Um(e),Um(t));case 5:return vg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Im(e),i=Im(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let s=0;s<n.length&&s<i.length;s++){const e=mg(n[s],i[s]);if(0!==e)return e}return mg(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mg(Om(e.latitude),Om(t.latitude));return 0!==n?n:mg(Om(e.longitude),Om(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nv(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,s,r;const o=e.fields||{},a=t.fields||{},l=null===(n=o[$m])||void 0===n?void 0:n.arrayValue,c=null===(i=a[$m])||void 0===i?void 0:i.arrayValue,u=mg((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(r=null==c?void 0:c.values)||void 0===r?void 0:r.length)||0);return 0!==u?u:nv(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ym.mapValue&&t===Ym.mapValue)return 0;if(e===Ym.mapValue)return 1;if(t===Ym.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),s=t.fields||{},r=Object.keys(s);i.sort(),r.sort();for(let o=0;o<i.length&&o<r.length;++o){const e=vg(i[o],r[o]);if(0!==e)return e;const t=ev(n[i[o]],s[r[o]]);if(0!==t)return t}return mg(i.length,r.length)}(e.mapValue,t.mapValue);default:throw Zf(23264,{Pe:n})}}function tv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mg(e,t);const n=Pm(e),i=Pm(t),s=mg(n.seconds,i.seconds);return 0!==s?s:mg(n.nanos,i.nanos)}function nv(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const e=ev(n[s],i[s]);if(e)return e}return mg(n.length,i.length)}function iv(e){return sv(e)}function sv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Im(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Tg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=sv(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const s of t)i?i=!1:n+=",",n+="".concat(s,":").concat(sv(e.fields[s]));return n+"}"}(e.mapValue):Zf(61005,{value:e})}function rv(e){switch(Xm(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bm(e);return t?16+rv(t):16;case 5:return 2*e.stringValue.length;case 6:return Im(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+rv(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return _m(e.fields,(e,n)=>{t+=e.length+rv(n)}),t}(e.mapValue);default:throw Zf(13486,{value:e})}}function ov(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function av(e){return!!e&&"integerValue"in e}function lv(e){return!!e&&"arrayValue"in e}function cv(e){return!!e&&"nullValue"in e}function uv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hv(e){return!!e&&"mapValue"in e}function dv(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Km])||void 0===n?void 0:n.stringValue)===Qm}function pv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _m(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=pv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fv(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Gm}class gv{constructor(e){this.value=e}static empty(){return new gv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pv(t)}setAll(e){let t=Ng.emptyPath(),n={},i=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=s.popLast()}e?n[s.lastSegment()]=pv(e):i.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());hv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];hv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){_m(t,(t,n)=>e[t]=n);for(const i of n)delete e[i]}clone(){return new gv(pv(this.value))}}function mv(e){const t=[];return _m(e.fields,(e,n)=>{const i=new Ng([e]);if(hv(n)){const e=mv(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new Nm(t)}class vv{constructor(e,t,n,i,s,r,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=r,this.documentState=o}static newInvalidDocument(e){return new vv(e,0,Sg.min(),Sg.min(),Sg.min(),gv.empty(),0)}static newFoundDocument(e,t,n,i){return new vv(e,1,t,Sg.min(),n,i,0)}static newNoDocument(e,t){return new vv(e,2,t,Sg.min(),Sg.min(),gv.empty(),0)}static newUnknownDocument(e,t){return new vv(e,3,t,Sg.min(),Sg.min(),gv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yv{constructor(e,t){this.position=e,this.inclusive=t}}function bv(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(i=r.field.isKeyField()?Tg.comparator(Tg.fromName(o.referenceValue),n.key):ev(o,n.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function xv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zm(e.position[n],t.position[n]))return!1;return!0}class wv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function _v(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class kv{}class Sv extends kv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jv(e,t,n):"array-contains"===t?new Av(e,n):"in"===t?new Rv(e,n):"not-in"===t?new Fv(e,n):"array-contains-any"===t?new zv(e,n):new Sv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pv(e,n):new Ov(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ev(t,this.value)):null!==t&&Xm(this.value)===Xm(t)&&this.matchesComparison(ev(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zf(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cv extends kv{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Cv(e,t)}matches(e){return Ev(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ev(e){return"and"===e.op}function Mv(e){return Lv(e)&&Ev(e)}function Lv(e){for(const t of e.filters)if(t instanceof Cv)return!1;return!0}function Nv(e){if(e instanceof Sv)return e.field.canonicalString()+e.op.toString()+iv(e.value);if(Mv(e))return e.filters.map(e=>Nv(e)).join(",");{const t=e.filters.map(e=>Nv(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tv(e,t){return e instanceof Sv?function(e,t){return t instanceof Sv&&e.op===t.op&&e.field.isEqual(t.field)&&Zm(e.value,t.value)}(e,t):e instanceof Cv?function(e,t){return t instanceof Cv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,i)=>e&&Tv(n,t.filters[i]),!0)}(e,t):void Zf(19439)}function Dv(e){return e instanceof Sv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(iv(e.value))}(e):e instanceof Cv?function(e){return e.op.toString()+" {"+e.getFilters().map(Dv).join(" ,")+"}"}(e):"Filter"}class jv extends Sv{constructor(e,t,n){super(e,t,n),this.key=Tg.fromName(n.referenceValue)}matches(e){const t=Tg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pv extends Sv{constructor(e,t){super(e,"in",t),this.keys=Iv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ov extends Sv{constructor(e,t){super(e,"not-in",t),this.keys=Iv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Tg.fromName(e.referenceValue))}class Av extends Sv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&Jm(t.arrayValue,this.value)}}class Rv extends Sv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jm(this.value.arrayValue,t)}}class Fv extends Sv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Jm(this.value.arrayValue,t)}}class zv extends Sv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Jm(this.value.arrayValue,e))}}class Vv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=r,this.endAt=o,this.Ie=null}}function Bv(e){return new Vv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uv(e){const t=tg(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Nv(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),qg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>iv(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>iv(e)).join(",")),t.Ie=e}return t.Ie}function Hv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_v(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xv(e.startAt,t.startAt)&&xv(e.endAt,t.endAt)}function Wv(e){return Tg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Kv(e,t,n,i,s,r,o,a){return new qv(e,t,n,i,s,r,o,a)}function Gv(e){return new qv(e)}function Yv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qv(e){return null!==e.collectionGroup}function $v(e){const t=tg(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new Mm(Ng.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);i.forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new wv(i,n))}),e.has(Ng.keyField().canonicalString())||t.Ee.push(new wv(Ng.keyField(),n))}return t.Ee}function Xv(e){const t=tg(e);return t.de||(t.de=Zv(t,$v(e))),t.de}function Zv(e,t){if("F"===e.limitType)return Bv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new wv(e.field,t)});const n=e.endAt?new yv(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yv(e.startAt.position,e.startAt.inclusive):null;return Bv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Jv(e,t){const n=e.filters.concat([t]);return new qv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ey(e,t,n){return new qv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ty(e,t){return Hv(Xv(e),Xv(t))&&e.limitType===t.limitType}function ny(e){return"".concat(Uv(Xv(e)),"|lt:").concat(e.limitType)}function iy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Dv(e)).join(", "),"]")),qg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>iv(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>iv(e)).join(",")),"Target(".concat(t,")")}(Xv(e)),"; limitType=").concat(e.limitType,")")}function sy(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $v(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=bv(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,$v(e),t))&&!(e.endAt&&!function(e,t,n){const i=bv(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,$v(e),t))}(e,t)}function ry(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oy(e){return(t,n)=>{let i=!1;for(const s of $v(e)){const e=ay(s,t,n);if(0!==e)return e;i=i||s.field.isKeyField()}return 0}}function ay(e,t,n){const i=e.field.isKeyField()?Tg.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),s=n.data.field(e);return null!==i&&null!==s?ev(i,s):Zf(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Zf(19790,{direction:e.dir})}}class ly{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,s]of n)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_m(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return km(this.inner)}size(){return this.innerSize}}const cy=new Sm(Tg.comparator);function uy(){return cy}const hy=new Sm(Tg.comparator);function dy(){let e=hy;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const s of n)e=e.insert(s.key,s);return e}function py(e){let t=hy;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function fy(){return my()}function gy(){return my()}function my(){return new ly(e=>e.toString(),(e,t)=>e.isEqual(t))}const vy=new Sm(Tg.comparator),yy=new Mm(Tg.comparator);function by(){let e=yy;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const s of n)e=e.add(s);return e}const xy=new Mm(mg);function wy(){return xy}function _y(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(t)?"-0":t}}function ky(e){return{integerValue:""+e}}function Sy(e,t){return Gg(t)?ky(t):_y(e,t)}class Cy{constructor(){this._=void 0}}function Ey(e,t,n){return e instanceof Ny?function(e,t){const n={fields:{[Rm]:{stringValue:Am},[zm]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vm(t)&&(t=Bm(t)),t&&(n.fields[Fm]=t),{mapValue:n}}(n,t):e instanceof Ty?Dy(e,t):e instanceof jy?Py(e,t):function(e,t){const n=Ly(e,t),i=Iy(n)+Iy(e.Re);return av(n)&&av(e.Re)?ky(i):_y(e.serializer,i)}(e,t)}function My(e,t,n){return e instanceof Ty?Dy(e,t):e instanceof jy?Py(e,t):n}function Ly(e,t){return e instanceof Oy?function(e){return av(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ny extends Cy{}class Ty extends Cy{constructor(e){super(),this.elements=e}}function Dy(e,t){const n=Ay(t);for(const i of e.elements)n.some(e=>Zm(e,i))||n.push(i);return{arrayValue:{values:n}}}class jy extends Cy{constructor(e){super(),this.elements=e}}function Py(e,t){let n=Ay(t);for(const i of e.elements)n=n.filter(e=>!Zm(e,i));return{arrayValue:{values:n}}}class Oy extends Cy{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Iy(e){return Om(e.integerValue||e.doubleValue)}function Ay(e){return lv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ry{constructor(e,t){this.field=e,this.transform=t}}class Fy{constructor(e,t){this.version=e,this.transformResults=t}}class zy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zy}static exists(e){return new zy(void 0,e)}static updateTime(e){return new zy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class By{}function Uy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Zy(e.key,zy.none()):new Gy(e.key,e.data,zy.none());{const n=e.data,i=gv.empty();let s=new Mm(Ng.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),s=s.add(e)}return new Yy(e.key,i,new Nm(s.toArray()),zy.none())}}function Hy(e,t,n){e instanceof Gy?function(e,t,n){const i=e.value.clone(),s=$y(e.fieldTransforms,t,n.transformResults);i.setAll(s),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Yy?function(e,t,n){if(!Vy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=$y(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Qy(e)),s.setAll(i),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wy(e,t,n,i){return e instanceof Gy?function(e,t,n,i){if(!Vy(e.precondition,t))return n;const s=e.value.clone(),r=Xy(e.fieldTransforms,i,t);return s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,i):e instanceof Yy?function(e,t,n,i){if(!Vy(e.precondition,t))return n;const s=Xy(e.fieldTransforms,i,t),r=t.data;return r.setAll(Qy(e)),r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,i):function(e,t,n){return Vy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qy(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),s=Ly(i.transform,e||null);null!=s&&(null===n&&(n=gv.empty()),n.set(i.field,s))}return n||null}function Ky(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xg(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ty&&t instanceof Ty||e instanceof jy&&t instanceof jy?xg(e.elements,t.elements,Zm):e instanceof Oy&&t instanceof Oy?Zm(e.Re,t.Re):e instanceof Ny&&t instanceof Ny}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gy extends By{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yy extends By{constructor(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qy(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function $y(e,t,n){const i=new Map;eg(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,My(o,a,n[s]))}return i}function Xy(e,t,n){const i=new Map;for(const s of e){const e=s.transform,r=n.data.field(s.field);i.set(s.field,Ey(e,r,t))}return i}class Zy extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jy extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eb{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Hy(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Wy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Wy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=gy();return this.mutations.forEach(i=>{const s=e.get(i.key),r=s.overlayedDocument;let o=this.applyToLocalView(r,s.mutatedFields);o=t.has(i.key)?null:o;const a=Uy(r,o);null!==a&&n.set(i.key,a),r.isValidDocument()||r.convertToNoDocument(Sg.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),by())}isEqual(e){return this.batchId===e.batchId&&xg(this.mutations,e.mutations,(e,t)=>Ky(e,t))&&xg(this.baseMutations,e.baseMutations,(e,t)=>Ky(e,t))}}class tb{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){eg(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=vy;const s=e.mutations;for(let r=0;r<s.length;r++)i=i.insert(s[r].key,n[r].version);return new tb(e,t,n,i)}}class nb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ib{constructor(e,t){this.count=e,this.unchangedNames=t}}var sb,rb;function ob(e){switch(e){case ng.OK:return Zf(64938);case ng.CANCELLED:case ng.UNKNOWN:case ng.DEADLINE_EXCEEDED:case ng.RESOURCE_EXHAUSTED:case ng.INTERNAL:case ng.UNAVAILABLE:case ng.UNAUTHENTICATED:return!1;case ng.INVALID_ARGUMENT:case ng.NOT_FOUND:case ng.ALREADY_EXISTS:case ng.PERMISSION_DENIED:case ng.FAILED_PRECONDITION:case ng.ABORTED:case ng.OUT_OF_RANGE:case ng.UNIMPLEMENTED:case ng.DATA_LOSS:return!0;default:return Zf(15467,{code:e})}}function ab(e){if(void 0===e)return Qf("GRPC error has no .code"),ng.UNKNOWN;switch(e){case sb.OK:return ng.OK;case sb.CANCELLED:return ng.CANCELLED;case sb.UNKNOWN:return ng.UNKNOWN;case sb.DEADLINE_EXCEEDED:return ng.DEADLINE_EXCEEDED;case sb.RESOURCE_EXHAUSTED:return ng.RESOURCE_EXHAUSTED;case sb.INTERNAL:return ng.INTERNAL;case sb.UNAVAILABLE:return ng.UNAVAILABLE;case sb.UNAUTHENTICATED:return ng.UNAUTHENTICATED;case sb.INVALID_ARGUMENT:return ng.INVALID_ARGUMENT;case sb.NOT_FOUND:return ng.NOT_FOUND;case sb.ALREADY_EXISTS:return ng.ALREADY_EXISTS;case sb.PERMISSION_DENIED:return ng.PERMISSION_DENIED;case sb.FAILED_PRECONDITION:return ng.FAILED_PRECONDITION;case sb.ABORTED:return ng.ABORTED;case sb.OUT_OF_RANGE:return ng.OUT_OF_RANGE;case sb.UNIMPLEMENTED:return ng.UNIMPLEMENTED;case sb.DATA_LOSS:return ng.DATA_LOSS;default:return Zf(39323,{code:e})}}(rb=sb||(sb={}))[rb.OK=0]="OK",rb[rb.CANCELLED=1]="CANCELLED",rb[rb.UNKNOWN=2]="UNKNOWN",rb[rb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rb[rb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rb[rb.NOT_FOUND=5]="NOT_FOUND",rb[rb.ALREADY_EXISTS=6]="ALREADY_EXISTS",rb[rb.PERMISSION_DENIED=7]="PERMISSION_DENIED",rb[rb.UNAUTHENTICATED=16]="UNAUTHENTICATED",rb[rb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rb[rb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rb[rb.ABORTED=10]="ABORTED",rb[rb.OUT_OF_RANGE=11]="OUT_OF_RANGE",rb[rb.UNIMPLEMENTED=12]="UNIMPLEMENTED",rb[rb.INTERNAL=13]="INTERNAL",rb[rb.UNAVAILABLE=14]="UNAVAILABLE",rb[rb.DATA_LOSS=15]="DATA_LOSS";let lb=null;const cb=new Lf([4294967295,4294967295],0);function ub(e){const t=fg().encode(e),n=new Nf;return n.update(t),new Uint8Array(n.digest())}function hb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Lf([n,i],0),new Lf([s,r],0)]}class db{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new pb("Invalid padding: ".concat(t));if(n<0)throw new pb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new pb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new pb("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Lf.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(Lf.fromNumber(n)));return 1===i.compare(cb)&&(i=new Lf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=ub(e),[n,i]=hb(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,i,s);if(!this.be(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),r=new db(s,i,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.pe)return;const t=ub(e),[n,i]=hb(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,i,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fb{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,gb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fb(Sg.min(),i,new Sm(mg),uy(),by())}}class gb{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gb(n,t,by(),by(),by())}}class mb{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class vb{constructor(e,t){this.targetId=e,this.Ce=t}}class yb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class bb{constructor(){this.Fe=0,this.Me=_b(),this.xe=Dm.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=by(),t=by(),n=by();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Zf(38017,{changeType:s})}}),new gb(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=_b()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,eg(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xb{constructor(e){this.ze=e,this.je=new Map,this.He=uy(),this.Je=wb(),this.Ye=wb(),this.Ze=new Sm(mg)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Zf(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(Wv(s))if(0===n){const e=new Tg(s.path);this.tt(t,e,vv.newNoDocument(e,Sg.min()))}else eg(1===n,20013,{expectedCount:n});else{const i=this.ut(t);if(i!==n){const n=this.ct(e),s=n?this.lt(n,e,i):1;if(0!==s){this.st(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==lb||lb.ht(function(e,t,n,i,s){var r,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===s,hashCount:null!==(r=null==d?void 0:d.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),h}(i,e.Ce,this.ze.Pt(),n,s))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let r,o;try{r=Im(n).toUint8Array()}catch(e){if(e instanceof Tm)return $f("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new db(r,i,s)}catch(e){return $f(e instanceof pb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(n=>{const s=this.ze.Pt(),r="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(r)||(this.tt(t,n,null),i++)}),i}It(e){const t=new Map;this.je.forEach((n,i)=>{const s=this._t(i);if(s){if(n.current&&Wv(s.target)){const t=new Tg(s.target.path);this.Et(t).has(i)||this.dt(i,t)||this.tt(i,t,vv.newNoDocument(t,e))}n.Le&&(t.set(i,n.qe()),n.Qe())}});let n=by();this.Ye.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const i=new fb(e,t,this.Ze,this.He,n);return this.He=uy(),this.Je=wb(),this.Ye=wb(),this.Ze=new Sm(mg),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new bb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mm(mg),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mm(mg),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Yf("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wb(){return new Sm(Tg.comparator)}function _b(){return new Sm(Tg.comparator)}const kb={asc:"ASCENDING",desc:"DESCENDING"},Sb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"};class Eb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mb(e,t){return e.useProto3Json||qg(t)?t:{value:t}}function Lb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Tb(e,t){return Lb(e,t.toTimestamp())}function Db(e){return eg(!!e,49232),Sg.fromTimestamp(function(e){const t=Pm(e);return new kg(t.seconds,t.nanos)}(e))}function jb(e,t){return Pb(e,t).canonicalString()}function Pb(e,t){const n=function(e){return new Mg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ob(e){const t=Mg.fromString(e);return eg(ex(t),10190,{key:t.toString()}),t}function Ib(e,t){return jb(e.databaseId,t.path)}function Ab(e,t){const n=Ob(t);if(n.get(1)!==e.databaseId.projectId)throw new ig(ng.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ig(ng.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tg(Vb(n))}function Rb(e,t){return jb(e.databaseId,t)}function Fb(e){const t=Ob(e);return 4===t.length?Mg.emptyPath():Vb(t)}function zb(e){return new Mg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vb(e){return eg(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Bb(e,t,n){return{name:Ib(e,t),fields:n.value.mapValue.fields}}function Ub(e,t){let n;if(t instanceof Gy)n={update:Bb(e,t.key,t.value)};else if(t instanceof Zy)n={delete:Ib(e,t.key)};else if(t instanceof Yy)n={update:Bb(e,t.key,t.data),updateMask:Jb(t.fieldMask)};else{if(!(t instanceof Jy))return Zf(16599,{ft:t.type});n={verify:Ib(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ty)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oy)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Zf(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Tb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zf(27497)}(e,t.precondition)),n}function Hb(e,t){return{documents:[Rb(e,t.path)]}}function Wb(e,t){const n={structuredQuery:{}},i=t.path;let s;null!==t.collectionGroup?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Rb(e,s);const r=function(e){if(0!==e.length)return Zb(Cv.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:$b(e.field),direction:Gb(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mb(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:s}}function qb(e){let t=Fb(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){eg(1===i,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let r=[];n.where&&(r=function(e){const t=Kb(e);return t instanceof Cv&&Mv(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new wv(Xb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,qg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new yv(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new yv(n,t)}(n.endAt)),Kv(t,s,o,r,a,"F",l,c)}function Kb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xb(e.unaryFilter.field);return Sv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xb(e.unaryFilter.field);return Sv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xb(e.unaryFilter.field);return Sv.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xb(e.unaryFilter.field);return Sv.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Zf(61313);default:return Zf(60726)}}(e):void 0!==e.fieldFilter?function(e){return Sv.create(Xb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Zf(58110);default:return Zf(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cv.create(e.compositeFilter.filters.map(e=>Kb(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zf(1026)}}(e.compositeFilter.op))}(e):Zf(30097,{filter:e})}function Gb(e){return kb[e]}function Yb(e){return Sb[e]}function Qb(e){return Cb[e]}function $b(e){return{fieldPath:e.canonicalString()}}function Xb(e){return Ng.fromServerFormat(e.fieldPath)}function Zb(e){return e instanceof Sv?function(e){if("=="===e.op){if(uv(e.value))return{unaryFilter:{field:$b(e.field),op:"IS_NAN"}};if(cv(e.value))return{unaryFilter:{field:$b(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uv(e.value))return{unaryFilter:{field:$b(e.field),op:"IS_NOT_NAN"}};if(cv(e.value))return{unaryFilter:{field:$b(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$b(e.field),op:Yb(e.op),value:e.value}}}(e):e instanceof Cv?function(e){const t=e.getFilters().map(e=>Zb(e));return 1===t.length?t[0]:{compositeFilter:{op:Qb(e.op),filters:t}}}(e):Zf(54877,{filter:e})}function Jb(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ex(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class tx{constructor(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sg.min(),r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sg.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new tx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nx{constructor(e){this.wt=e}}function ix(e){const t=qb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ey(t,t.limit,"L"):t}class sx{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Om(e.integerValue));else if("doubleValue"in e){const n=Om(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Kg(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Pm(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Im(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?fv(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):dv(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Zf(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const i of Object.keys(n))this.Nt(i,t),this.Ct(n[i],t)}qt(e,t){var n,i;const s=e.fields||{};this.Mt(t,53);const r=$m,o=(null===(i=null===(n=s[r].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.Mt(t,15),t.xt(Om(o)),this.Nt(r,t),this.Ct(s[r],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const i of n)this.Ct(i,t)}kt(e,t){this.Mt(t,37),Tg.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}sx.Wt=new sx;class rx{constructor(){this.Cn=new ox}addToCollectionParentIndex(e,t){return this.Cn.add(t),Vg.resolve()}getCollectionParents(e,t){return Vg.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Vg.resolve()}deleteFieldIndex(e,t){return Vg.resolve()}deleteAllFieldIndexes(e){return Vg.resolve()}createTargetIndexes(e,t){return Vg.resolve()}getDocumentsMatchingTarget(e,t){return Vg.resolve(null)}getIndexType(e,t){return Vg.resolve(0)}getFieldIndexes(e,t){return Vg.resolve([])}getNextCollectionGroupToUpdate(e){return Vg.resolve(null)}getMinOffset(e,t){return Vg.resolve(Ig.min())}getMinOffsetFromCollectionGroup(e,t){return Vg.resolve(Ig.min())}updateCollectionGroup(e,t,n){return Vg.resolve()}updateIndexEntries(e,t){return Vg.resolve()}}class ox{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Mm(Mg.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Mm(Mg.comparator)).toArray()}}new Uint8Array(0);const ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lx=41943040;class cx{static withCacheSize(e){return new cx(e,cx.DEFAULT_COLLECTION_PERCENTILE,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}cx.DEFAULT_COLLECTION_PERCENTILE=10,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cx.DEFAULT=new cx(lx,cx.DEFAULT_COLLECTION_PERCENTILE,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cx.DISABLED=new cx(-1,0,0);class ux{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ux(0)}static lr(){return new ux(-1)}}const hx="LruGarbageCollector",dx=1048576;function px(e,t){let[n,i]=e,[s,r]=t;const o=mg(n,s);return 0===o?mg(i,r):o}class fx{constructor(e){this.Er=e,this.buffer=new Mm(px),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();px(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Yf(hx,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ug(e)?Yf(hx,"Ignoring IndexedDB error during garbage collection: ",e):await zg(e)}await this.mr(3e5)})}}class mx{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Vg.resolve(Hg.le);const n=new fx(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yf("LruGarbageCollector","Garbage collection skipped; disabled"),Vg.resolve(ax)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Yf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ax):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,i,s,r,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Yf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,r=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Gf()<=ap.DEBUG&&Yf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(r-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-r)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Vg.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:e})))}}function vx(e,t){return new mx(e,t)}class yx{constructor(){this.changes=new ly(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xx{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Wy(n.mutation,e,Nm.empty(),kg.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,by()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:by();const i=fy();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(e=>{let t=dy();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=fy();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,by()))}populateOverlays(e,t,n){const i=[];return n.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,i){let s=uy();const r=my(),o=my();return t.forEach((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof Yy)?s=s.insert(t.key,t):void 0!==o?(r.set(t.key,o.mutation.getFieldMask()),Wy(o.mutation,t,o.mutation.getFieldMask(),kg.now())):r.set(t.key,Nm.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>r.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new bx(t,null!==(n=r.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=my();let i=new Sm((e,t)=>e-t),s=by();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const r=t.get(e);if(null===r)return;let o=n.get(e)||Nm.empty();o=s.applyToLocalView(r,o),n.set(e,o);const a=(i.get(s.batchId)||by()).add(e);i=i.insert(s.batchId,a)})}).next(()=>{const r=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=gy();l.forEach(e=>{if(!s.has(e)){const i=Uy(t.get(e),n.get(e));null!==i&&c.set(e,i),s=s.add(e)}}),r.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Vg.waitFor(r)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return Tg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const r=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):Vg.resolve(fy());let o=Dg,a=s;return r.next(t=>Vg.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(t)?Vg.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,a,t,by())).next(e=>({batchId:o,changes:py(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tg(t)).next(e=>{let t=dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let r=dy();return this.indexManager.getCollectionParents(e,s).next(o=>Vg.forEach(o,o=>{const a=function(e,t){return new qv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,i).next(e=>{e.forEach((e,t)=>{r=r.insert(e,t)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(e=>{s.forEach((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,vv.newInvalidDocument(i)))});let n=dy();return e.forEach((e,i)=>{const r=s.get(e);void 0!==r&&Wy(r.mutation,i,Nm.empty(),kg.now()),sy(t,i)&&(n=n.insert(e,i))}),n})}}class wx{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Vg.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Db(e.createTime)}}(t)),Vg.resolve()}getNamedQuery(e,t){return Vg.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:ix(e.bundledQuery),readTime:Db(e.readTime)}}(t)),Vg.resolve()}}class _x{constructor(){this.overlays=new Sm(Tg.comparator),this.Qr=new Map}getOverlay(e,t){return Vg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fy();return Vg.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.St(e,t,i)}),Vg.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Qr.get(n);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),Vg.resolve()}getOverlaysForCollection(e,t,n){const i=fy(),s=t.length+1,r=new Tg(t.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const e=o.getNext().value,r=e.getKey();if(!t.isPrefixOf(r.path))break;r.path.length===s&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Vg.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Sm((e,t)=>e-t);const r=this.overlays.getIterator();for(;r.hasNext();){const e=r.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=fy(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=fy(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=i)););return Vg.resolve(o)}St(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new nb(t,n));let s=this.Qr.get(t);void 0===s&&(s=by(),this.Qr.set(t,s)),this.Qr.set(t,s.add(n.key))}}class kx{constructor(){this.sessionToken=Dm.EMPTY_BYTE_STRING}getSessionToken(e){return Vg.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Vg.resolve()}}class Sx{constructor(){this.$r=new Mm(Cx.Ur),this.Kr=new Mm(Cx.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Cx(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new Cx(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new Tg(new Mg([])),n=new Cx(t,e),i=new Cx(t,e+1),s=[];return this.Kr.forEachInRange([n,i],e=>{this.zr(e),s.push(e.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Tg(new Mg([])),n=new Cx(t,e),i=new Cx(t,e+1);let s=by();return this.Kr.forEachInRange([n,i],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Cx(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Cx{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Tg.comparator(e.key,t.key)||mg(e.Zr,t.Zr)}static Wr(e,t){return mg(e.Zr,t.Zr)||Tg.comparator(e.key,t.key)}}class Ex{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mm(Cx.Ur)}checkEmpty(e){return Vg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new eb(s,t,n,i);this.mutationQueue.push(r);for(const o of i)this.Xr=this.Xr.add(new Cx(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Vg.resolve(r)}lookupMutationBatch(e,t){return Vg.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ti(n),s=i<0?0:i;return Vg.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Vg.resolve(0===this.mutationQueue.length?Wg:this.nr-1)}getAllMutationBatches(e){return Vg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Cx(t,0),i=new Cx(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,i],e=>{const t=this.ei(e.Zr);s.push(t)}),Vg.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mm(mg);return t.forEach(e=>{const t=new Cx(e,0),i=new Cx(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,i],e=>{n=n.add(e.Zr)})}),Vg.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Tg.isDocumentKey(s)||(s=s.child(""));const r=new Cx(new Tg(s),0);let o=new Mm(mg);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.Zr)),!0)},r),Vg.resolve(this.ni(o))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){eg(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Vg.forEach(t.mutations,i=>{const s=new Cx(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Cx(t,0),i=this.Xr.firstAfterOrEqual(n);return Vg.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vg.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mx{constructor(e){this.ii=e,this.docs=new Sm(Tg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,r=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vg.resolve(n?n.document.mutableCopy():vv.newInvalidDocument(t))}getEntries(e,t){let n=uy();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():vv.newInvalidDocument(e))}),Vg.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=uy();const r=t.path,o=new Tg(r.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!r.isPrefixOf(e.path))break;e.path.length>r.length+1||Ag(Og(o),n)<=0||(i.has(o.key)||sy(t,o))&&(s=s.insert(o.key,o.mutableCopy()))}return Vg.resolve(s)}getAllFromCollectionGroup(e,t,n,i){Zf(9500)}si(e,t){return Vg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Lx(this)}getSize(e){return Vg.resolve(this.size)}}class Lx extends yx{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),Vg.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Nx{constructor(e){this.persistence=e,this.oi=new ly(e=>Uv(e),Hv),this.lastRemoteSnapshotVersion=Sg.min(),this.highestTargetId=0,this._i=0,this.ai=new Sx,this.targetCount=0,this.ui=ux.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),Vg.resolve()}getLastRemoteSnapshotVersion(e){return Vg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vg.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Vg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Vg.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ux(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Vg.resolve()}updateTargetData(e,t){return this.Tr(t),Vg.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Vg.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.oi.forEach((r,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(r),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Vg.waitFor(s).next(()=>i)}getTargetCount(e){return Vg.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Vg.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Vg.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(t=>{s.push(i.markPotentiallyOrphaned(e,t))}),Vg.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Vg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Vg.resolve(n)}containsKey(e,t){return Vg.resolve(this.ai.containsKey(t))}}class Tx{constructor(e,t){this.ci={},this.overlays={},this.li=new Hg(0),this.hi=!1,this.hi=!0,this.Pi=new kx,this.referenceDelegate=e(this),this.Ti=new Nx(this),this.indexManager=new rx,this.remoteDocumentCache=function(e){return new Mx(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new nx(t),this.Ei=new wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _x,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Ex(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Yf("MemoryPersistence","Starting transaction:",e);const i=new Dx(this.li.next());return this.referenceDelegate.di(),n(i).next(e=>this.referenceDelegate.Ai(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}Ri(e,t){return Vg.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class Dx extends Fg{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.Vi=new Sx,this.mi=null}static fi(e){return new jx(e)}get gi(){if(this.mi)return this.mi;throw Zf(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Vg.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Vg.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Vg.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vg.forEach(this.gi,n=>{const i=Tg.fromPath(n);return this.pi(e,i).next(e=>{e||t.removeEntry(i,Sg.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Vg.or([()=>Vg.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Px{constructor(e,t){this.persistence=e,this.yi=new ly(e=>Qg(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=vx(this,t)}static fi(e,t){return new Px(e,t)}di(){}Ai(e){return Vg.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return Vg.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(e=>e?Vg.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,i=>this.Dr(e,i,t).next(e=>{e||(n++,s.removeEntry(i,Sg.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Vg.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Vg.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Vg.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Vg.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rv(e.data.value)),t}Dr(e,t,n){return Vg.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Vg.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ox{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ds=n,this.As=i}static Rs(e,t){let n=by(),i=by();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ox(e,t.fromCache,n,i)}}class Ix{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ax{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Yd()?8:Bg(Kd())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.ws(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.bs(e,t,i,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new Ix;return this.Ss(e,t,n).next(i=>{if(s.result=i,this.fs)return this.Ds(e,t,n,i.size)})}).next(()=>s.result)}Ds(e,t,n,i){return n.documentReadCount<this.gs?(Gf()<=ap.DEBUG&&Yf("QueryEngine","SDK will not create cache indexes for query:",iy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Vg.resolve()):(Gf()<=ap.DEBUG&&Yf("QueryEngine","Query:",iy(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Gf()<=ap.DEBUG&&Yf("QueryEngine","The SDK decides to create cache indexes for query:",iy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xv(t))):Vg.resolve())}ws(e,t){if(Yv(t))return Vg.resolve(null);let n=Xv(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ey(t,null,"F"),n=Xv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=by(...i);return this.ys.getDocuments(e,s).next(i=>this.indexManager.getMinOffset(e,n).next(n=>{const r=this.vs(t,i);return this.Cs(t,r,s,n.readTime)?this.ws(e,ey(t,null,"F")):this.Fs(e,r,t,n)}))})))}bs(e,t,n,i){return Yv(t)||i.isEqual(Sg.min())?Vg.resolve(null):this.ys.getDocuments(e,n).next(s=>{const r=this.vs(t,s);return this.Cs(t,r,n,i)?Vg.resolve(null):(Gf()<=ap.DEBUG&&Yf("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iy(t)),this.Fs(e,r,t,Pg(i,Dg)).next(e=>e))})}vs(e,t){let n=new Mm(oy(e));return t.forEach((t,i)=>{sy(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,n){return Gf()<=ap.DEBUG&&Yf("QueryEngine","Using full collection scan to execute query:",iy(t)),this.ys.getDocumentsMatchingQuery(e,t,Ig.min(),n)}Fs(e,t,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Rx="LocalStore";class Fx{constructor(e,t,n,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Sm(mg),this.Os=new ly(e=>Uv(e),Hv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function zx(e,t,n,i){return new Fx(e,t,n,i)}async function Vx(e,t){const n=tg(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next(s=>(i=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],r=[];let o=by();for(const e of i){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({ks:e,removedBatchIds:s,addedBatchIds:r}))})})}function Bx(e){const t=tg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function Ux(e,t,n){let i=by(),s=by();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=uy();return n.forEach((n,r)=>{const o=e.get(n);r.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),r.isNoDocument()&&r.version.isEqual(Sg.min())?(t.removeEntry(n,r.readTime),i=i.insert(n,r)):!o.isValidDocument()||r.version.compareTo(o.version)>0||0===r.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(r),i=i.insert(n,r)):Yf(Rx,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",r.version)}),{qs:i,Qs:s}})}function Hx(e,t){const n=tg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Wg),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wx(e,t){const n=tg(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.Ti.getTargetData(e,t).next(s=>s?(i=s,Vg.resolve(i)):n.Ti.allocateTargetId(e).next(s=>(i=new tx(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,i).next(()=>i))))}).then(e=>{const i=n.xs.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function qx(e,t,n){const i=tg(e),s=i.xs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,e=>i.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Ug(e))throw e;Yf(Rx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function Kx(e,t,n){const i=tg(e);let s=Sg.min(),r=by();return i.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const i=tg(e),s=i.Os.get(n);return void 0!==s?Vg.resolve(i.xs.get(s)):i.Ti.getTargetData(t,n)}(i,e,Xv(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{r=e})}).next(()=>i.Ms.getDocumentsMatchingQuery(e,t,n?s:Sg.min(),n?r:by())).next(e=>(Gx(i,ry(t),e),{documents:e,$s:r})))}function Gx(e,t,n){let i=e.Ns.get(t)||Sg.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.Ns.set(t,i)}class Yx{constructor(){this.activeTargetIds=wy()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qx{constructor(){this.xo=new Yx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Yx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $x{No(e){}shutdown(){}}const Xx="ConnectivityMonitor";class Zx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Yf(Xx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Yf(Xx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jx=null;function ew(){return null===Jx?Jx=268435456+Math.round(2147483648*Math.random()):Jx++,"0x"+Jx.toString(16)}const tw="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iw{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(i),this.Go=this.databaseId.database===Wm?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}zo(e,t,n,i,s){const r=ew(),o=this.jo(e,t.toUriEncodedString());Yf(tw,"Sending RPC '".concat(e,"' ").concat(r,":"),o,n);const a={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(a,i,s);const{host:l}=new URL(o),c=Ud(l);return this.Jo(e,o,a,n,c).then(t=>(Yf(tw,"Received RPC '".concat(e,"' ").concat(r,": "),t),t),t=>{throw $f(tw,"RPC '".concat(e,"' ").concat(r," failed with error: "),t,"url: ",o,"request:",n),t})}Yo(e,t,n,i,s,r){return this.zo(e,t,n,i,s)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=nw[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class sw{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const rw="WebChannelConnection";class ow extends iw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,s){const r=ew();return new Promise((s,o)=>{const a=new jf;a.setWithCredentials(!0),a.listenOnce(Of.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case If.NO_ERROR:const t=a.getResponseJson();Yf(rw,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case If.TIMEOUT:Yf(rw,"RPC '".concat(e,"' ").concat(r," timed out")),o(new ig(ng.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const n=a.getStatus();if(Yf(rw,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ng).indexOf(t)>=0?t:ng.UNKNOWN}(t.status);o(new ig(e,t.message))}else o(new ig(ng.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ig(ng.UNAVAILABLE,"Connection failed."));break;default:Zf(9055,{h_:e,streamId:r,P_:a.getLastErrorCode(),T_:a.getLastError()})}}finally{Yf(rw,"RPC '".concat(e,"' ").concat(r," completed."))}});const l=JSON.stringify(i);Yf(rw,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)})}I_(e,t,n){const i=ew(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=zf(),o=Ff(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Ho(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");Yf(rw,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const u=r.createWebChannel(c,a);this.E_(u);let h=!1,d=!1;const p=new sw({Zo:t=>{d?Yf(rw,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(Yf(rw,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),Yf(rw,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},Xo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,Pf.EventType.OPEN,()=>{d||(Yf(rw,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),p.__())}),f(u,Pf.EventType.CLOSE,()=>{d||(d=!0,Yf(rw,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.u_(),this.d_(u))}),f(u,Pf.EventType.ERROR,t=>{d||(d=!0,$f(rw,"RPC '".concat(e,"' stream ").concat(i," transport errored. Name:"),t.name,"Message:",t.message),p.u_(new ig(ng.UNAVAILABLE,"The operation could not be completed")))}),f(u,Pf.EventType.MESSAGE,t=>{var n;if(!d){const s=t.data[0];eg(!!s,16349);const r=s,o=(null==r?void 0:r.error)||(null===(n=r[0])||void 0===n?void 0:n.error);if(o){Yf(rw,"RPC '".concat(e,"' stream ").concat(i," received error:"),o);const t=o.status;let n=function(e){const t=sb[e];if(void 0!==t)return ab(t)}(t),s=o.message;void 0===n&&(n=ng.INTERNAL,s="Unknown error status: "+t+" with message "+o.message),d=!0,p.u_(new ig(n,s)),u.close()}else Yf(rw,"RPC '".concat(e,"' stream ").concat(i," received:"),s),p.c_(s)}}),f(o,Rf.STAT_EVENT,t=>{t.stat===Af.PROXY?Yf(rw,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===Af.NOPROXY&&Yf(rw,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))}),setTimeout(()=>{p.a_()},0),p}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function aw(){return"undefined"!=typeof document?document:null}function lw(e){return new Eb(e,!0)}class cw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-n);i>0&&Yf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const uw="PersistentStream";class hw{constructor(e,t,n,i,s,r,o,a){this.xi=e,this.S_=n,this.D_=i,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cw(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===ng.RESOURCE_EXHAUSTED?(Qf(t.toString()),Qf("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ng.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,i]=e;this.v_===t&&this.z_(n,i)},t=>{e(()=>{const e=new ig(ng.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Yf(uw,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Yf(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dw extends hw{constructor(e,t,n,i,s,r){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,r),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zf(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(e,t){return e.useProto3Json?(eg(void 0===t||"string"==typeof t,58123),Dm.fromBase64String(t||"")):(eg(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Dm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ng.UNKNOWN:ab(e.code);return new ig(t,e.message||"")}(o);n=new yb(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Ab(e,i.document.name),r=Db(i.document.updateTime),o=i.document.createTime?Db(i.document.createTime):Sg.min(),a=new gv({mapValue:{fields:i.document.fields}}),l=vv.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new mb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Ab(e,i.document),r=i.readTime?Db(i.readTime):Sg.min(),o=vv.newNoDocument(s,r),a=i.removedTargetIds||[];n=new mb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Ab(e,i.document),r=i.removedTargetIds||[];n=new mb([],r,s,null)}else{if(!("filter"in t))return Zf(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:s}=e,r=new ib(i,s),o=e.targetId;n=new vb(o,r)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sg.min():t.readTime?Db(t.readTime):Sg.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=zb(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Wv(i)?{documents:Hb(e,i)}:{query:Wb(e,i).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nb(e,t.resumeToken);const i=Mb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Sg.min())>0){n.readTime=Lb(e,t.snapshotVersion.toTimestamp());const i=Mb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zf(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=zb(this.serializer),t.removeTarget=e,this.Q_(t)}}class pw extends hw{constructor(e,t,n,i,s,r){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,r),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return eg(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,eg(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){eg(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(eg(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Db(e.updateTime):Db(t);return n.isEqual(Sg.min())&&(n=Db(t)),new Fy(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Db(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=zb(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ub(this.serializer,e))};this.Q_(t)}}class fw{}class gw extends fw{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ig(ng.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[r,o]=s;return this.connection.zo(e,Pb(t,n),i,r,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ng.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ig(ng.UNKNOWN,e.toString())})}Yo(e,t,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[o,a]=r;return this.connection.Yo(e,Pb(t,n),i,o,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ng.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ig(ng.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class mw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Qf(t),this.ua=!1):Yf("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const vw="RemoteStore";class yw{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(e=>{n.enqueueAndForget(async()=>{Mw(this)&&(Yf(vw,"Restarting streams for network reachability change."),await async function(e){const t=tg(e);t.da.add(4),await xw(t),t.Va.set("Unknown"),t.da.delete(4),await bw(t)}(this))})}),this.Va=new mw(n,i)}}async function bw(e){if(Mw(e))for(const t of e.Aa)await t(!0)}async function xw(e){for(const t of e.Aa)await t(!1)}function ww(e,t){const n=tg(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ew(n)?Cw(n):Kw(n).N_()&&kw(n,t))}function _w(e,t){const n=tg(e),i=Kw(n);n.Ea.delete(t),i.N_()&&Sw(n,t),0===n.Ea.size&&(i.N_()?i.k_():Mw(n)&&n.Va.set("Unknown"))}function kw(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Kw(e).Z_(t)}function Sw(e,t){e.ma.Ke(t),Kw(e).X_(t)}function Cw(e){e.ma=new xb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Kw(e).start(),e.Va.ca()}function Ew(e){return Mw(e)&&!Kw(e).O_()&&e.Ea.size>0}function Mw(e){return 0===tg(e).da.size}function Lw(e){e.ma=void 0}async function Nw(e){e.Va.set("Online")}async function Tw(e){e.Ea.forEach((t,n)=>{kw(e,t)})}async function Dw(e,t){Lw(e),Ew(e)?(e.Va.Pa(t),Cw(e)):e.Va.set("Unknown")}async function jw(e,t,n){if(e.Va.set("Online"),t instanceof yb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Ea.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Ea.delete(i),e.ma.removeTarget(i))}(e,t)}catch(n){Yf(vw,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pw(e,n)}else if(t instanceof mb?e.ma.Xe(t):t instanceof vb?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Sg.min()))try{const t=await Bx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ea.get(i);s&&e.Ea.set(i,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const i=e.Ea.get(t);if(!i)return;e.Ea.set(t,i.withResumeToken(Dm.EMPTY_BYTE_STRING,i.snapshotVersion)),Sw(e,t);const s=new tx(i.target,t,n,i.sequenceNumber);kw(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Yf(vw,"Failed to raise snapshot:",t),await Pw(e,t)}}async function Pw(e,t,n){if(!Ug(t))throw t;e.da.add(1),await xw(e),e.Va.set("Offline"),n||(n=()=>Bx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Yf(vw,"Retrying IndexedDB access"),await n(),e.da.delete(1),await bw(e)})}function Ow(e,t){return t().catch(n=>Pw(e,n,t))}async function Iw(e){const t=tg(e),n=Gw(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Wg;for(;Aw(t);)try{const e=await Hx(t.localStore,i);if(null===e){0===t.Ia.length&&n.k_();break}i=e.batchId,Rw(t,e)}catch(e){await Pw(t,e)}Fw(t)&&zw(t)}function Aw(e){return Mw(e)&&e.Ia.length<10}function Rw(e,t){e.Ia.push(t);const n=Gw(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Fw(e){return Mw(e)&&!Gw(e).O_()&&e.Ia.length>0}function zw(e){Gw(e).start()}async function Vw(e){Gw(e).ia()}async function Bw(e){const t=Gw(e);for(const n of e.Ia)t.ta(n.mutations)}async function Uw(e,t,n){const i=e.Ia.shift(),s=tb.from(i,t,n);await Ow(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Iw(e)}async function Hw(e,t){t&&Gw(e).ea&&await async function(e,t){if(function(e){return ob(e)&&e!==ng.ABORTED}(t.code)){const n=e.Ia.shift();Gw(e).L_(),await Ow(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Iw(e)}}(e,t),Fw(e)&&zw(e)}async function Ww(e,t){const n=tg(e);n.asyncQueue.verifyOperationInProgress(),Yf(vw,"RemoteStore received new credentials");const i=Mw(n);n.da.add(3),await xw(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await bw(n)}async function qw(e,t){const n=tg(e);t?(n.da.delete(2),await bw(n)):t||(n.da.add(2),await xw(n),n.Va.set("Unknown"))}function Kw(e){return e.fa||(e.fa=function(e,t,n){const i=tg(e);return i.oa(),new dw(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{e_:Nw.bind(null,e),n_:Tw.bind(null,e),i_:Dw.bind(null,e),Y_:jw.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Ew(e)?Cw(e):e.Va.set("Unknown")):(await e.fa.stop(),Lw(e))})),e.fa}function Gw(e){return e.ga||(e.ga=function(e,t,n){const i=tg(e);return i.oa(),new pw(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Vw.bind(null,e),i_:Hw.bind(null,e),na:Bw.bind(null,e),ra:Uw.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Iw(e)):(await e.ga.stop(),e.Ia.length>0&&(Yf(vw,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class Yw{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new sg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const r=Date.now()+n,o=new Yw(e,t,r,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ig(ng.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qw(e,t){if(Qf("AsyncQueue","".concat(t,": ").concat(e)),Ug(e))return new ig(ng.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class $w{static emptySet(e){return new $w(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Tg.comparator(t.key,n.key):(e,t)=>Tg.comparator(e.key,t.key),this.keyedMap=dy(),this.sortedSet=new Sm(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $w))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $w;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xw{constructor(){this.pa=new Sm(Tg.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Zf(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Zw{constructor(e,t,n,i,s,r,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,s){const r=[];return t.forEach(e=>{r.push({type:0,doc:e})}),new Zw(e,t,$w.emptySet(t),r,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class Jw{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class e_{constructor(){this.queries=t_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=tg(e),i=n.queries;n.queries=t_(),i.forEach((e,n)=>{for(const i of n.Sa)i.onError(t)})}(this,new ig(ng.ABORTED,"Firestore shutting down"))}}function t_(){return new ly(e=>ny(e),ty)}async function n_(e,t){const n=tg(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Da()&&t.va()&&(i=2):(r=new Jw,i=t.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Qw(e,"Initialization of query '".concat(iy(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,r),r.Sa.push(t),t.Fa(n.onlineState),r.ba&&t.Ma(r.ba)&&o_(n)}async function i_(e,t){const n=tg(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const e=r.Sa.indexOf(t);e>=0&&(r.Sa.splice(e,1),0===r.Sa.length?s=t.va()?0:1:!r.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function s_(e,t){const n=tg(e);let i=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(s)&&(i=!0);t.ba=s}}i&&o_(n)}function r_(e,t,n){const i=tg(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function o_(e){e.Ca.forEach(e=>{e.next()})}var a_,l_;(l_=a_||(a_={})).xa="default",l_.Cache="cache";class c_{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Zw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==a_.Cache}}class u_{constructor(e){this.key=e}}class h_{constructor(e){this.key=e}}class d_{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=by(),this.mutatedKeys=by(),this.Za=oy(e),this.Xa=new $w(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Xw,i=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,r=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const c=i.get(e),u=sy(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.ru(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Za(u,a)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(r=r.add(u),s=d?s.add(e):s.delete(e)):(r=r.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;r.size>this.query.limit;){const e="F"===this.query.limitType?r.last():r.first();r=r.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Xa:r,nu:n,Cs:o,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const r=e.nu.wa();r.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zf(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),i=null!=i&&i;const o=t&&!i?this.su():[],a=0===this.Ya.size&&this.current&&!i?1:0,l=a!==this.Ja;return this.Ja=a,0!==r.length||l?{snapshot:new Zw(this.query,e.Xa,s,r,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Xw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=by(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new h_(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new u_(n))}),t}au(e){this.Ha=e.$s,this.Ya=by();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Zw.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const p_="SyncEngine";class f_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class g_{constructor(e){this.key=e,this.cu=!1}}class m_{constructor(e,t,n,i,s,r){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.lu={},this.hu=new ly(e=>ny(e),ty),this.Pu=new Map,this.Tu=new Set,this.Iu=new Sm(Tg.comparator),this.Eu=new Map,this.du=new Sx,this.Au={},this.Ru=new Map,this.Vu=ux.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function v_(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=F_(e);let s;const r=i.hu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await b_(i,t,n,!0),s}async function y_(e,t){const n=F_(e);await b_(n,t,!0,!1)}async function b_(e,t,n,i){const s=await Wx(e.localStore,Xv(t)),r=s.targetId,o=e.sharedClientState.addLocalQueryTarget(r,n);let a;return i&&(a=await x_(e,t,r,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&ww(e.remoteStore,s),a}async function x_(e,t,n,i,s){e.fu=(t,n,i)=>async function(e,t,n,i){let s=t.view.tu(n);s.Cs&&(s=await Kx(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,s)}));const r=i&&i.targetChanges.get(t.targetId),o=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,r,o);return j_(e,t.targetId,a.ou),a.snapshot}(e,t,n,i);const r=await Kx(e.localStore,t,!0),o=new d_(t,r.$s),a=o.tu(r.documents),l=gb.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,s),c=o.applyChanges(a,e.isPrimaryClient,l);j_(e,n,c.ou);const u=new f_(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function w_(e,t,n){const i=tg(e),s=i.hu.get(t),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(e=>!ty(e,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await qx(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&_w(i.remoteStore,s.targetId),T_(i,s.targetId)}).catch(zg)):(T_(i,s.targetId),await qx(i.localStore,s.targetId,!0))}async function __(e,t){const n=tg(e),i=n.hu.get(t),s=n.Pu.get(i.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_w(n.remoteStore,i.targetId))}async function k_(e,t){const n=tg(e);try{const e=await function(e,t){const n=tg(e),i=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const r=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const o=[];t.targetChanges.forEach((r,a)=>{const l=s.get(a);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,r.removedDocuments,a).next(()=>n.Ti.addMatchingKeys(e,r.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Dm.EMPTY_BYTE_STRING,Sg.min()).withLastLimboFreeSnapshotVersion(Sg.min()):r.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(r.resumeToken,i)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,r)&&o.push(n.Ti.updateTargetData(e,c))});let a=uy(),l=by();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),o.push(Ux(e,r,t.documentUpdates).next(e=>{a=e.qs,l=e.Qs})),!i.isEqual(Sg.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,i));o.push(t)}return Vg.waitFor(o).next(()=>r.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.xs=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.Eu.get(t);i&&(eg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?i.cu=!0:e.modifiedDocuments.size>0?eg(i.cu,14607):e.removedDocuments.size>0&&(eg(i.cu,42227),i.cu=!1))}),await I_(n,e,t)}catch(e){await zg(e)}}function S_(e,t,n){const i=tg(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.hu.forEach((n,i)=>{const s=i.view.Fa(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=tg(e);n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.Fa(t)&&(i=!0)}),i&&o_(n)}(i.eventManager,t),e.length&&i.lu.Y_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function C_(e,t,n){const i=tg(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),r=s&&s.key;if(r){let e=new Sm(Tg.comparator);e=e.insert(r,vv.newNoDocument(r,Sg.min()));const n=by().add(r),s=new fb(Sg.min(),new Map,new Sm(mg),e,n);await k_(i,s),i.Iu=i.Iu.remove(r),i.Eu.delete(t),O_(i)}else await qx(i.localStore,t,!1).then(()=>T_(i,t,n)).catch(zg)}async function E_(e,t){const n=tg(e),i=t.batch.batchId;try{const e=await function(e,t){const n=tg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const s=n.batch,r=s.keys();let o=Vg.resolve();return r.forEach(e=>{o=o.next(()=>i.getEntry(t,e)).next(t=>{const r=n.docVersions.get(e);eg(null!==r,48541),t.version.compareTo(r)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=by();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,i))})}(n.localStore,t);N_(n,i,null),L_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await I_(n,e)}catch(e){await zg(e)}}async function M_(e,t,n){const i=tg(e);try{const e=await function(e,t){const n=tg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(eg(null!==t,37113),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>n.localDocuments.getDocuments(e,i))})}(i.localStore,t);N_(i,t,n),L_(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await I_(i,e)}catch(n){await zg(n)}}function L_(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function N_(e,t,n){const i=tg(e);let s=i.Au[i.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),i.Au[i.currentUser.toKey()]=s}}function T_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||D_(e,t)})}function D_(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(_w(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),O_(e))}function j_(e,t,n){for(const i of n)i instanceof u_?(e.du.addReference(i.key,t),P_(e,i)):i instanceof h_?(Yf(p_,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||D_(e,i.key)):Zf(19791,{pu:i})}function P_(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(Yf(p_,"New document in limbo: "+n),e.Tu.add(i),O_(e))}function O_(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Tg(Mg.fromString(t)),i=e.Vu.next();e.Eu.set(i,new g_(n)),e.Iu=e.Iu.insert(n,i),ww(e.remoteStore,new tx(Xv(Gv(n.path)),i,"TargetPurposeLimboResolution",Hg.le))}}async function I_(e,t,n){const i=tg(e),s=[],r=[],o=[];i.hu.isEmpty()||(i.hu.forEach((e,a)=>{o.push(i.fu(a,t,n).then(e=>{var t;if((e||n)&&i.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Ox.Rs(a.targetId,e);r.push(t)}}))}),await Promise.all(o),i.lu.Y_(s),await async function(e,t){const n=tg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Vg.forEach(t,t=>Vg.forEach(t.ds,i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>Vg.forEach(t.As,i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(e){if(!Ug(e))throw e;Yf(Rx,"Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.xs.get(e),i=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(i);n.xs=n.xs.insert(e,s)}}}(i.localStore,r))}async function A_(e,t){const n=tg(e);if(!n.currentUser.isEqual(t)){Yf(p_,"User change. New user:",t.toKey());const e=await Vx(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new ig(ng.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await I_(n,e.ks)}}function R_(e,t){const n=tg(e),i=n.Eu.get(t);if(i&&i.cu)return by().add(i.key);{let e=by();const i=n.Pu.get(t);if(!i)return e;for(const t of i){const i=n.hu.get(t);e=e.unionWith(i.view.eu)}return e}}function F_(e){const t=tg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=k_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C_.bind(null,t),t.lu.Y_=s_.bind(null,t.eventManager),t.lu.gu=r_.bind(null,t.eventManager),t}function z_(e){const t=tg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=E_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=M_.bind(null,t),t}class V_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lw(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return zx(this.persistence,new Ax,e.initialUser,this.serializer)}Su(e){return new Tx(jx.fi,this.serializer)}bu(e){return new Qx}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}V_.provider={build:()=>new V_};class B_ extends V_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){eg(this.persistence.referenceDelegate instanceof Px,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new gx(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?cx.withCacheSize(this.cacheSizeBytes):cx.DEFAULT;return new Tx(e=>Px.fi(e,t),this.serializer)}}class U_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>S_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=A_.bind(null,this.syncEngine),await qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new e_}createDatastore(e){const t=lw(e.databaseInfo.databaseId),n=function(e){return new ow(e)}(e.databaseInfo);return function(e,t,n,i){return new gw(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,s){return new yw(e,t,n,i,s)}(this.localStore,this.datastore,e.asyncQueue,e=>S_(this.syncEngine,e,0),Zx.C()?new Zx:new $x)}createSyncEngine(e,t){return function(e,t,n,i,s,r,o){const a=new m_(e,t,n,i,s,r);return o&&(a.mu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=tg(e);Yf(vw,"RemoteStore shutting down."),t.da.add(5),await xw(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}U_.provider={build:()=>new U_};class H_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Qf("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const W_="FirestoreClient";class q_{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Wf.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Yf(W_,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Yf(W_,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Qw(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function K_(e,t){e.asyncQueue.verifyOperationInProgress(),Yf(W_,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await Vx(t.localStore,e),i=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function G_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Y_(e);Yf(W_,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ww(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ww(t.remoteStore,n)),e._onlineComponents=t}async function Y_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yf(W_,"Using user provided OfflineComponentProvider");try{await K_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ng.FAILED_PRECONDITION||e.code===ng.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;$f("Error using user provided cache. Falling back to memory cache: "+n),await K_(e,new V_)}}else Yf(W_,"Using default OfflineComponentProvider"),await K_(e,new B_(void 0));return e._offlineComponents}async function Q_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yf(W_,"Using user provided OnlineComponentProvider"),await G_(e,e._uninitializedComponentsProvider._online)):(Yf(W_,"Using default OnlineComponentProvider"),await G_(e,new U_))),e._onlineComponents}function $_(e){return Q_(e).then(e=>e.syncEngine)}async function X_(e){const t=await Q_(e),n=t.eventManager;return n.onListen=v_.bind(null,t.syncEngine),n.onUnlisten=w_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=y_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=__.bind(null,t.syncEngine),n}function Z_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const J_=new Map;function ek(e,t,n){if(!n)throw new ig(ng.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tk(e){if(!Tg.isDocumentKey(e))throw new ig(ng.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function nk(e){if(Tg.isDocumentKey(e))throw new ig(ng.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ik(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zf(12329,{type:typeof e})}function sk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ig(ng.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ik(e);throw new ig(ng.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function rk(e,t){if(t<=0)throw new ig(ng.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}const ok="firestore.googleapis.com",ak=!0;class lk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ig(ng.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ok,this.ssl=ak}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ak;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=lx;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<dx)throw new ig(ng.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new ig(ng.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ig(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ig(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ig(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ck{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ig(ng.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ig(ng.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new og;switch(e.type){case"firstParty":return new ug(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ig(ng.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J_.get(e);t&&(Yf("ComponentProvider","Removing Datastore"),J_.delete(e),t.terminate())}(this),Promise.resolve()}}function uk(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=sk(e,ck);const r=Ud(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);r&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(l)),qd("Firestore",!0)),o.host!==ok&&o.host!==l&&$f("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:r,emulatorOptions:i});if(!Jd(c,a)&&(e._setSettings(c),i.mockUserToken)){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Wf.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Id(JSON.stringify({alg:"none",type:"JWT"})),Id(JSON.stringify(r)),""].join(".")}(i.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new ig(ng.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wf(r)}e._authCredentials=new ag(new rg(t,n))}}class hk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hk(this.firestore,e,this._query)}}class dk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dk(this.firestore,e,this._key)}}class pk extends hk{constructor(e,t,n){super(e,t,Gv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dk(this.firestore,null,new Tg(e))}withConverter(e){return new pk(this.firestore,e,this._path)}}function fk(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(e=tp(e),ek("collection","path",t),e instanceof ck){const n=Mg.fromString(t,...i);return nk(n),new pk(e,null,n)}{if(!(e instanceof dk||e instanceof pk))throw new ig(ng.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mg.fromString(t,...i));return nk(n),new pk(e.firestore,null,n)}}function gk(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(e=tp(e),1===arguments.length&&(t=gg.newId()),ek("doc","path",t),e instanceof ck){const n=Mg.fromString(t,...i);return tk(n),new dk(e,null,new Tg(n))}{if(!(e instanceof dk||e instanceof pk))throw new ig(ng.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mg.fromString(t,...i));return tk(n),new dk(e.firestore,e instanceof pk?e.converter:null,new Tg(n))}}const mk="AsyncQueue";class vk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cw(this,"async_queue_retry"),this.rc=()=>{const e=aw();e&&Yf(mk,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=aw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=aw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new sg;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(bE){if(!Ug(bE))throw bE;Yf(mk,"Operation failed with retryable error: "+bE)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,Qf("INTERNAL UNHANDLED ERROR: ",yk(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Yw.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(i),i}oc(){this.Xu&&Zf(47125,{cc:yk(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function yk(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function bk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}(e,["next","error","complete"])}class xk extends ck{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new vk,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vk(e),this._firestoreClient=void 0,await e}}}function wk(e){if(e._terminated)throw new ig(ng.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||_k(e),e._firestoreClient}function _k(e){var t,n,i;const s=e._freezeSettings(),r=function(e,t,n,i){return new Hm(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Z_(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=s.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new q_(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class kk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kk(Dm.fromBase64String(e))}catch(e){throw new ig(ng.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kk(Dm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new ig(ng.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ng(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ck{constructor(e){this._methodName=e}}class Ek{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ig(ng.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ig(ng.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mg(this._lat,e._lat)||mg(this._long,e._long)}}class Mk{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Lk=/^__.*__$/;class Nk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Yy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gy(e,this.data,t,this.fieldTransforms)}}class Tk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Yy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zf(40011,{Ic:e})}}class jk{constructor(e,t,n,i,s,r){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===s&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new jk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Vc(e),i}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Yk(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Dk(this.Ic)&&Lk.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||lw(e)}bc(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jk({Ic:e,methodName:t,wc:n,path:Ng.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ok(e){const t=e._freezeSettings(),n=lw(e._databaseId);return new Pk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ik(e,t,n,i,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.bc(r.merge||r.mergeFields?2:0,t,n,s);Wk("Data must be an object, but it was:",o,i);const a=Uk(i,o);let l,c;if(r.merge)l=new Nm(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const e=[];for(const i of r.mergeFields){const s=qk(t,i,n);if(!o.contains(s))throw new ig(ng.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Qk(e,s)||e.push(s)}l=new Nm(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Nk(new gv(a),l,c)}class Ak extends Ck{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ak}}class Rk extends Ck{_toFieldTransform(e){return new Ry(e.path,new Ny)}isEqual(e){return e instanceof Rk}}function Fk(e,t,n,i){const s=e.bc(1,t,n);Wk("Data must be an object, but it was:",s,i);const r=[],o=gv.empty();_m(i,(e,i)=>{const a=Gk(t,e,n);i=tp(i);const l=s.mc(a);if(i instanceof Ak)r.push(a);else{const e=Bk(i,l);null!=e&&(r.push(a),o.set(a,e))}});const a=new Nm(r);return new Tk(o,a,s.fieldTransforms)}function zk(e,t,n,i,s,r){const o=e.bc(1,t,n),a=[qk(t,i,n)],l=[s];if(r.length%2!=0)throw new ig(ng.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<r.length;d+=2)a.push(qk(t,r[d])),l.push(r[d+1]);const c=[],u=gv.empty();for(let d=a.length-1;d>=0;--d)if(!Qk(c,a[d])){const e=a[d];let t=l[d];t=tp(t);const n=o.mc(e);if(t instanceof Ak)c.push(e);else{const i=Bk(t,n);null!=i&&(c.push(e),u.set(e,i))}}const h=new Nm(c);return new Tk(u,h,o.fieldTransforms)}function Vk(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bk(n,e.bc(i?4:3,t))}function Bk(e,t){if(Hk(e=tp(e)))return Wk("Unsupported field value:",t,e),Uk(e,t);if(e instanceof Ck)return function(e,t){if(!Dk(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const s of e){let e=Bk(s,t.fc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tp(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kg.fromDate(e);return{timestampValue:Lb(t.serializer,n)}}if(e instanceof kg){const n=new kg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lb(t.serializer,n)}}if(e instanceof Ek)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kk)return{bytesValue:Nb(t.serializer,e._byteString)};if(e instanceof dk){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.gc("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:jb(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Mk)return function(e,t){return{mapValue:{fields:{[Km]:{stringValue:Qm},[$m]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return _y(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(ik(e)))}(e,t)}function Uk(e,t){const n={};return km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_m(e,(e,i)=>{const s=Bk(i,t.Ac(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Hk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kg||e instanceof Ek||e instanceof kk||e instanceof dk||e instanceof Ck||e instanceof Mk)}function Wk(e,t,n){if(!Hk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=ik(n);throw"an object"===i?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function qk(e,t,n){if((t=tp(t))instanceof Sk)return t._internalPath;if("string"==typeof t)return Gk(e,t);throw Yk("Field path arguments must be of type string or ",e,!1,void 0,n)}const Kk=new RegExp("[~\\*/\\[\\]]");function Gk(e,t,n){if(t.search(Kk)>=0)throw Yk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Sk(...t.split("."))._internalPath}catch(i){throw Yk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Yk(e,t,n,i,s){const r=i&&!i.isEmpty(),o=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(s)),l+=")"),new ig(ng.INVALID_ARGUMENT,a+e+l)}function Qk(e,t){return e.some(e=>e.isEqual(t))}class $k{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xk extends $k{data(){return super.data()}}function Zk(e,t){return"string"==typeof t?Gk(e,t):t instanceof Sk?t._internalPath:t._delegate._internalPath}function Jk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ig(ng.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eS{}class tS extends eS{}class nS extends tS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nS(e,t,n)}_apply(e){const t=this._parse(e);return cS(e._query,t),new hk(e.firestore,e.converter,Jv(e._query,t))}_parse(e){const t=Ok(e.firestore),n=function(e,t,n,i,s,r,o){let a;if(s.isKeyField()){if("array-contains"===r||"array-contains-any"===r)throw new ig(ng.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(r,"' queries on documentId()."));if("in"===r||"not-in"===r){lS(o,r);const t=[];for(const n of o)t.push(aS(i,e,n));a={arrayValue:{values:t}}}else a=aS(i,e,o)}else"in"!==r&&"not-in"!==r&&"array-contains-any"!==r||lS(o,r),a=Vk(n,t,o,"in"===r||"not-in"===r);return Sv.create(s,r,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function iS(e,t,n){const i=t,s=Zk("where",e);return nS._create(s,i,n)}class sS extends eS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sS(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Cv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const s of i)cS(n,s),n=Jv(n,s)}(e._query,t),new hk(e.firestore,e.converter,Jv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rS extends tS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rS(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ig(ng.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ig(ng.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wv(t,n)}(e._query,this._field,this._direction);return new hk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new qv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class oS extends tS{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new oS(e,t,n)}_apply(e){return new hk(e.firestore,e.converter,ey(e._query,this._limit,this._limitType))}}function aS(e,t,n){if("string"==typeof(n=tp(n))){if(""===n)throw new ig(ng.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qv(t)&&-1!==n.indexOf("/"))throw new ig(ng.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(Mg.fromString(n));if(!Tg.isDocumentKey(i))throw new ig(ng.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return ov(e,new Tg(i))}if(n instanceof dk)return ov(e,n._key);throw new ig(ng.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ik(n),"."))}function lS(e,t){if(!Array.isArray(e)||0===e.length)throw new ig(ng.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function cS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ig(ng.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ig(ng.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class uS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Om(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Im(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zf(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _m(e,(e,i)=>{n[e]=this.convertValue(i,t)}),n}convertVectorValue(e){var t,n,i;const s=null===(i=null===(n=null===(t=e.fields)||void 0===t?void 0:t[$m].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(e=>Om(e.doubleValue));return new Mk(s)}convertGeoPoint(e){return new Ek(Om(e.latitude),Om(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Um(e));default:return null}}convertTimestamp(e){const t=Pm(e);return new kg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mg.fromString(e);eg(ex(n),9688,{name:e});const i=new qm(n.get(1),n.get(3)),s=new Tg(n.popFirst(5));return i.isEqual(t)||Qf("Document ".concat(s," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function hS(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class dS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pS extends $k{constructor(e,t,n,i,s,r){super(e,t,n,i,r),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fS extends pS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gS{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new dS(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new fS(this._firestore,this._userDataWriter,n.key,n,new dS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ig(ng.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const i=new fS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const i=new fS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,r=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),r=n.indexOf(t.doc.key)),{type:mS(t.type),doc:i,oldIndex:s,newIndex:r}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zf(61501,{type:e})}}class vS extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new kk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dk(this.firestore,null,t)}}function yS(e,t){return function(e,t){const n=new sg;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const i=z_(e);try{const e=await function(e,t){const n=tg(e),i=kg.now(),s=t.reduce((e,t)=>e.add(t.key),by());let r,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=uy(),l=by();return n.Bs.getEntries(e,s).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(s=>{r=s;const o=[];for(const e of t){const t=qy(e,r.get(e.key).overlayedDocument);null!=t&&o.push(new Yy(e.key,t,mv(t.value.mapValue),zy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)}).next(t=>{o=t;const i=t.applyToLocalDocumentSet(r,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(()=>({batchId:o.batchId,changes:py(r)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Au[e.currentUser.toKey()];i||(i=new Sm(mg)),i=i.insert(t,n),e.Au[e.currentUser.toKey()]=i}(i,e.batchId,n),await I_(i,e.changes),await Iw(i.remoteStore)}catch(e){const t=Qw(e,"Failed to persist write");n.reject(t)}}(await $_(e),t,n)),n.promise}(wk(e),t)}function bS(e,t,n){const i=n.docs.get(t._key),s=new vS(e);return new pS(e,s,t._key,i,new dS(n.hasPendingWrites,n.fromCache),t.converter)}function xS(){return new Rk("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qf=e}("11.9.0"),df(new np("firestore",(e,n)=>{let{instanceIdentifier:i,options:s}=n;const r=e.getProvider("app").getImmediate(),o=new xk(new lg(e.getProvider("auth-internal")),new dg(r,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ig(ng.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qm(e.options.projectId,t)}(r,i),r);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),vf(Uf,Hf,e),vf(Uf,Hf,"esm2017")}();const wS=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of;const t=lf.get(e);if(!t&&e===of&&Vd())return mf();if(!t)throw ff.create("no-app",{appName:e});return t}(),i="string"==typeof e?e:t||Wm,s=pf(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=zd("firestore");e&&uk(s,...e)}return s}(mf({apiKey:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY||"AIzaSyD8xIhB_DYAl9e1FeS7ILql2YfxSdnbqHU",authDomain:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN||"pcc-5fa54.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID||"ipcc-5fa54",storageBucket:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET||"ipcc-5fa54.appspot.com",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"481875426357",appId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID||"1:481875426357:web:0ac421ed7e70b95614057c"})),_S=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,s]=(0,t.useState)([]),[r,o]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),c=(0,t.useRef)(null);return(0,t.useEffect)(()=>{if(e){o(!0),l(null);try{const i=fk(wS,e);let r=i;const a=[];n.where&&(Array.isArray(n.where)?n.where.forEach(e=>{a.push(iS(e.field,e.operator,e.value))}):n.where.field&&a.push(iS(n.where.field,n.where.operator,n.where.value))),n.orderBy&&a.push(function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zk("orderBy",e);return rS._create(n,t)}(n.orderBy.field,n.orderBy.direction||"asc")),n.limit&&a.push((rk("limit",t=n.limit),oS._create("limit",t,"F"))),a.length>0&&(r=function(e,t){let n=[];for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];t instanceof eS&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof sS).length,n=e.filter(e=>e instanceof nS).length;if(t>1||t>0&&n>0)throw new ig(ng.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(i,...a));const u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s,r,o;e=tp(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||bk(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bk(n[l])){const e=n[l];n[l]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[l+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof dk)h=sk(e.firestore,xk),d=Gv(e._key.path),u={next:t=>{n[l]&&n[l](bS(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=sk(e,hk);h=sk(t.firestore,xk),d=t._query;const i=new vS(h);u={next:e=>{n[l]&&n[l](new gS(h,i,t,e))},error:n[l+1],complete:n[l+2]},Jk(e._query)}return function(e,t,n,i){const s=new H_(i),r=new c_(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>n_(await X_(e),r)),()=>{s.xu(),e.asyncQueue.enqueueAndForget(async()=>i_(await X_(e),r))}}(wk(h),d,c,u)}(r,t=>{const n=[];t.forEach(e=>{n.push(Oe({id:e.id},e.data()))}),s(n),o(!1),l(null),console.log("\ud83d\udd25 Firestore real-time update: ".concat(e," (").concat(n.length," docs)"))},t=>{console.error("\u274c Firestore error for ".concat(e,":"),t),l(t),o(!1)});c.current=u}catch(i){console.error("\u274c Firestore setup error for ".concat(e,":"),i),l(i),o(!1)}var t;return()=>{c.current&&(c.current(),c.current=null)}}},[e,JSON.stringify(n)]),{data:i,loading:r,error:a,refetch:()=>{}}},kS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t={orderBy:{field:"timestamp",direction:"desc"},limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50};return e&&(t.where={field:"site_id",operator:"==",value:e}),_S("sensors_data",t)},SS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t={orderBy:{field:"timestamp",direction:"desc"},limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:30};return e&&(t.where={field:"site_id",operator:"==",value:e}),_S("financial_data",t)},CS=e=>{const[n,i]=(0,t.useState)(!1),[s,r]=(0,t.useState)(null),o=(0,t.useCallback)(async t=>{i(!0),r(null);try{const n=await function(e,t){const n=sk(e.firestore,xk),i=gk(e),s=hS(e.converter,t);return yS(n,[Ik(Ok(e.firestore),"addDoc",i._key,s,null!==e.converter,{}).toMutation(i._key,zy.exists(!1))]).then(()=>i)}(fk(wS,e),Oe(Oe({},t),{},{created_at:xS()}));return console.log("\u2705 Document added to ".concat(e,": ").concat(n.id)),{id:n.id,success:!0}}catch(n){throw console.error("\u274c Error adding document to ".concat(e,":"),n),r(n),n}finally{i(!1)}},[e]),a=(0,t.useCallback)(async(t,n)=>{i(!0),r(null);try{const i=gk(wS,e,t);return await function(e,t,n){e=sk(e,dk);const i=sk(e.firestore,xk),s=Ok(i);let r;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return r="string"==typeof(t=tp(t))||t instanceof Sk?zk(s,"updateDoc",e._key,t,n,a):Fk(s,"updateDoc",e._key,t),yS(i,[r.toMutation(e._key,zy.exists(!0))])}(i,Oe(Oe({},n),{},{updated_at:xS()})),console.log("\u2705 Document updated in ".concat(e,": ").concat(t)),{success:!0}}catch(s){throw console.error("\u274c Error updating document in ".concat(e,":"),s),r(s),s}finally{i(!1)}},[e]);return{addDocument:o,updateDocument:a,deleteDocument:(0,t.useCallback)(async t=>{i(!0),r(null);try{const i=gk(wS,e,t);return await(n=i,yS(sk(n.firestore,xk),[new Zy(n._key,zy.none())])),console.log("\u2705 Document deleted from ".concat(e,": ").concat(t)),{success:!0}}catch(s){throw console.error("\u274c Error deleting document from ".concat(e,":"),s),r(s),s}finally{i(!1)}var n},[e]),loading:n,error:s}},ES=e=>{switch(!0){case e<=1:return{icon:He,description:"Clear"};case e<=3:return{icon:We,description:"Cloudy"};case e>=51&&e<=67:return{icon:qe,description:"Rain"};case e>=80&&e<=82:return{icon:qe,description:"Heavy Rain"};case e>=95&&e<=99:return{icon:Ke,description:"Thunderstorm"};default:return{icon:We,description:"Cloudy"}}},MS=e=>{let{show:t,onClose:n,data:i}=e;return(0,ct.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),children:(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl transform transition-all duration-300 ".concat(t?"scale-100 opacity-100":"scale-95 opacity-0"),children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"5-Day Weather Forecast"}),(0,ct.jsx)("button",{onClick:n,className:"p-1 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-800",children:(0,ct.jsx)(Ge,{className:"w-6 h-6"})})]}),i&&i.daily?(0,ct.jsx)("div",{className:"space-y-3",children:i.daily.time.slice(0,5).map((e,t)=>{const{icon:n,description:s}=ES(i.daily.weather_code[t]);return(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-center bg-gray-50 p-3 rounded-lg border",children:[(0,ct.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,ct.jsx)("p",{className:"font-semibold text-gray-800",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(n,{className:"w-8 h-8 text-gray-600"}),(0,ct.jsx)("span",{className:"text-sm text-gray-600 hidden md:block",children:s})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-blue-500"}),(0,ct.jsxs)("span",{className:"font-medium text-gray-700",children:[i.daily.precipitation_sum[t]," mm"]})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-red-500"}),(0,ct.jsxs)("span",{className:"font-medium text-gray-700",children:[Math.round(i.daily.temperature_2m_max[t]),"\xb0 / ",Math.round(i.daily.temperature_2m_min[t]),"\xb0C"]})]}),(0,ct.jsxs)("div",{className:"col-span-2 md:col-span-2 text-sm md:text-right space-y-1",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-end space-x-2",children:[(0,ct.jsx)(Qe,{className:"w-5 h-5 text-orange-400"}),(0,ct.jsx)("span",{children:new Date(i.daily.sunrise[t]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-end space-x-2",children:[(0,ct.jsx)($e,{className:"w-5 h-5 text-indigo-500"}),(0,ct.jsx)("span",{children:new Date(i.daily.sunset[t]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]},t)})}):(0,ct.jsxs)("div",{className:"text-center py-10",children:[" ",(0,ct.jsx)("p",{children:"Loading forecast data..."})," "]})]})})},LS=e=>{let{data:t,loading:n,onMoreDetailsClick:i}=e;if(n||!t||!t.hourly||!t.daily||!t.hourly.weathercode)return(0,ct.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200 text-center h-full flex items-center justify-center",children:(0,ct.jsx)("p",{className:"text-gray-500",children:"Loading Weather Data..."})});const s=(new Date).getHours(),r=t.hourly.temperature_2m[s],o=t.hourly.relative_humidity_2m[s],a=t.hourly.weathercode[s],{icon:l,description:c}=ES(a);return(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl p-6 shadow-md border border-gray-200 flex flex-col justify-between h-full",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Selangor"}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:c})]}),(0,ct.jsx)(l,{className:"w-16 h-16 text-slate-700"})]}),(0,ct.jsxs)("p",{className:"text-6xl font-bold text-slate-800 mb-6",children:[Math.round(r),"\xb0C"]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-slate-600 mb-3 text-center",children:"Next Few Hours"}),(0,ct.jsx)("div",{className:"flex justify-between items-center space-x-2 md:space-x-4 px-2 py-3 bg-slate-100 rounded-lg",children:t.hourly.time.slice(s+1,s+6).map((e,n)=>{const i=s+1+n,{icon:r}=ES(t.hourly.weathercode[i]);return(0,ct.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,ct.jsx)("span",{className:"text-xs font-medium text-slate-500",children:new Date(e).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0})}),(0,ct.jsx)(r,{className:"w-7 h-7 text-slate-600"}),(0,ct.jsxs)("span",{className:"text-md font-bold text-slate-700",children:[Math.round(t.hourly.temperature_2m[i]),"\xb0"]})]},e)})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600 mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Xe,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,ct.jsxs)("span",{children:["Humidity: ",o,"%"]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,ct.jsxs)("span",{children:["Rain: ",t.hourly.rain[s]," mm"]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qe,{className:"w-5 h-5 text-orange-500 mr-2"}),(0,ct.jsx)("span",{children:new Date(t.daily.sunrise[0]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)($e,{className:"w-5 h-5 text-indigo-500 mr-2"}),(0,ct.jsx)("span",{children:new Date(t.daily.sunset[0]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,ct.jsx)("button",{onClick:i,disabled:n,className:"w-full text-center bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold px-4 py-2 rounded-lg text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"View 5-Day Details"})]})},NS=()=>{var e,n;const{isConnected:i,wsConnected:s,error:r,loading:o,getDataByFilters:a}=Td(),{status:l,reconnect:c}=Dd(),u="nipis_orchard",h=(_S("dataset_param",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:20}),_S("sensors",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:30})),d=_S("alerts",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:10}),p=(null===(e=h.data)||void 0===e?void 0:e.length)>0?h.data:[],f=h.loading,g=h.error,m=()=>{console.log("\ud83d\udd04 Firestore data updates automatically via real-time listeners")},v=(null===(n=p[0])||void 0===n?void 0:n.timestamp)||(new Date).toISOString(),[y,b]=(0,t.useState)([]),[x,w]=(0,t.useState)([]),[_,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,M]=(0,t.useState)(null),L=(0,t.useRef)(null),[N,T]=(0,t.useState)(!1),[D,j]=(0,t.useState)(!1),[P,O]=(0,t.useState)("Nipis Cytrus"),[I,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=async()=>{try{const e=await fetch("https://api.open-meteo.com/v1/forecast?latitude=3.50744&longitude=101.1077&hourly=temperature_2m,relative_humidity_2m,rain,is_day,weathercode&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,precipitation_sum&timezone=auto");if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();M(t)}catch(r){console.error("Error fetching weather data:",r)}};e();const t=setInterval(e,3e5);return()=>clearInterval(t)},[]);const R=async()=>{if(!i)return;L.current&&L.current.abort();const e=new AbortController;L.current=e;try{const[t,n,i,s]=await Promise.all([a("alerts",{status:"active"},{orderBy:{column:"created_at",direction:"DESC"},limit:5},{signal:e.signal}),a("devices",{},{orderBy:{column:"last_seen",direction:"DESC"}},{signal:e.signal}),a("plants",{garden_id:P},{limit:1},{signal:e.signal}),a("production",{month:(new Date).getMonth()+1,year:(new Date).getFullYear()},{limit:1},{signal:e.signal})]);b(t||[]),w(n||[]),k((null===i||void 0===i?void 0:i[0])||null),C((null===s||void 0===s?void 0:s[0])||null)}catch(r){"AbortError"!==r.name&&console.error("Error fetching additional data:",r)}};(0,t.useEffect)(()=>(R(),()=>{L.current&&L.current.abort()}),[i,P]);const F=(0,t.useMemo)(()=>(null===p||void 0===p?void 0:p[0])||null,[p]),z=(0,t.useMemo)(()=>{if(!F)return 0;const{nitrogen:e,organic_matter:t,soil_health:n,temperature:i,soil_moisture:s}=F;if(!e||!t||!n||!i||!s)return 0;const r=42434.72+-8647.17*e+1751.18*t+-8005.21*n+-29.76*i+-4.01*s;return Math.max(0,r.toFixed(2))},[F]),V=(0,t.useMemo)(()=>(3.65*z).toFixed(2),[z]),B=(0,t.useMemo)(()=>{if(!p||0===p.length)return{labels:[],datasets:{}};const e=p.reduce((e,t)=>{const n=new Date(t.timestamp||t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e[n]||(e[n]=[]),e[n].push(t),e},{}),t=Object.keys(e).sort((e,t)=>new Date(e)-new Date(t)),n=(n,i,s)=>({label:i,data:t.map(t=>(e[t].reduce((e,t)=>e+(t[n]||0),0)/e[t].length).toFixed(2)),borderColor:s,backgroundColor:"".concat(s,"1A"),borderWidth:2,fill:!0,tension:.4});return{labels:t,datasets:{soilMoisture:n("soil_moisture","Soil Moisture (%)","#3b82f6"),temperature:n("temperature","Temperature (\xb0C)","#f97316"),phLevel:n("ph_level","pH Level","#10b981"),soilNitrogen:n("nitrogen","Soil Nitrogen (ppm)","#8b5cf6")}}},[p]),U=(0,t.useMemo)(()=>{const e=F;return[{icon:Ze,title:"Total Carbon",value:null!==e&&void 0!==e&&e.soil_health?"".concat(e.soil_health,"%"):"8",description:"Excellent growth.",gradient:!0,gradientFrom:"from-green-500",gradientTo:"to-green-600"},{icon:Je,title:"Soil Organic Carbon",value:null!==e&&void 0!==e&&e.temperature?"".concat(e.temperature,"\xb0C"):"8",description:"Optimal temperature.",iconColor:"text-orange-500"},{icon:Xe,title:"Cation Exchange",value:null!==e&&void 0!==e&&e.soil_moisture?"".concat(e.soil_moisture,"%"):"8",description:"Good ventilation needed.",iconColor:"text-blue-400"},{icon:Xe,title:"Organic Matter",value:(null===e||void 0===e?void 0:e.ph_level)||"8",description:"Ideal for nutrients.",iconColor:"text-teal-500"},{icon:Ye,title:"Temperature",value:null!==e&&void 0!==e&&e.phosphorus?"".concat(e.phosphorus,"ppm"):"8",description:"Sufficient for roots.",iconColor:"text-purple-500"},{icon:et,title:"Soil Moisture",value:null!==e&&void 0!==e&&e.potassium?"".concat(e.potassium,"ppm"):"8",description:"Promotes vigor.",iconColor:"text-sky-500"},{icon:He,title:"Soil pH",value:null!==e&&void 0!==e&&e.nitrogen?"".concat(e.nitrogen,"ppm"):"8",description:"Key for growth.",iconColor:"text-yellow-500"},{icon:tt,title:"NPK",value:null!==e&&void 0!==e&&e.organic_matter?"".concat(e.organic_matter,"%"):"8",description:"Within ideal range.",iconColor:"text-indigo-500"}]},[F]),H=(0,t.useMemo)(()=>r||g?{Icon:nt,text:"Connection Issues",color:"bg-red-100 text-red-800",pulse:!1}:i?i?{Icon:st,text:"Connected",color:"bg-green-100 text-green-800",pulse:s}:{Icon:rt,text:"Unknown Status",color:"bg-yellow-100 text-yellow-800",pulse:!1}:{Icon:it,text:"Disconnected",color:"bg-gray-200 text-gray-700",pulse:!1},[i,s,r,g]);return(0,ct.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,ct.jsx)(xt,{isOpen:N,onClose:()=>T(!1),isCollapsed:D,onToggleCollapse:()=>j(!D)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(D?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>T(!0),selectedGarden:P,onGardenChange:e=>O(e)}),(0,ct.jsxs)("div",{className:"bg-white border-b px-4 py-2 flex justify-between items-center text-sm sticky top-0 z-10",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ".concat(H.color),children:[(0,ct.jsx)(H.Icon,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:H.text}),H.pulse&&(0,ct.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse",title:"Receiving live data"})]}),v&&(0,ct.jsxs)("span",{className:"text-gray-500 hidden md:block",children:["Last updated: ",v.toLocaleTimeString("en-US")]})]}),(0,ct.jsxs)("main",{className:"flex-1 px-4 py-6 overflow-auto",children:[(o||f&&!p)&&(0,ct.jsx)("div",{className:"text-center py-12 font-medium text-gray-600",children:"Loading dashboard data..."}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[(0,ct.jsx)(wt,{plantName:(null===_||void 0===_?void 0:_.name)||"Lime",description:(null===_||void 0===_?void 0:_.description)||"Loading plant information...",backgroundImage:(null===_||void 0===_?void 0:_.image_url)||sc,detailsLink:"/plant-details/".concat((null===_||void 0===_?void 0:_.id)||"lime")}),(0,ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:U.map((e,t)=>(0,ct.jsx)(kt,Oe(Oe({},e),{},{loading:f&&!F}),t))}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ct.jsx)(Zl,{totalProduction:z,productionUnit:"kg",totalLandArea:(null===S||void 0===S?void 0:S.land_area)||"3 acres",landUsagePercentage:(null===S||void 0===S?void 0:S.land_usage)||0,revenue:"RM ".concat(V),loading:o||f}),(0,ct.jsx)(ic,{sensorData:F,loading:f})]}),(0,ct.jsx)(Gl,{data:B,availableMetrics:[{key:"soilMoisture",label:"Soil Moisture"},{key:"temperature",label:"Temperature"},{key:"phLevel",label:"pH Level"},{key:"soilNitrogen",label:"Soil Nitrogen"}],defaultSelectedMetrics:["soilMoisture","temperature"],loading:f,error:g,onRefresh:m}),(0,ct.jsx)(Ld,{})]}),(0,ct.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,ct.jsx)(LS,{data:E,loading:!E,onMoreDetailsClick:()=>A(!0)}),(0,ct.jsx)(Yl,{alerts:d.data||[],onViewAll:()=>{},loading:d.loading}),(0,ct.jsx)(Xl,{devices:x,serialStatus:l,onSerialReconnect:c,loading:o}),(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4",children:[(0,ct.jsx)("h3",{className:"font-semibold text-slate-800 mb-4",children:"Quick Actions"}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("button",{onClick:m,disabled:f,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[(0,ct.jsx)(ot,{className:"w-4 h-4 ".concat(f?"animate-spin":"")}),f?"Refreshing...":"Refresh Sensor Data"]}),(0,ct.jsx)("button",{onClick:c,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md",children:"Reconnect Serial"}),(0,ct.jsx)("button",{onClick:R,disabled:o,className:"w-full bg-slate-500 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:o?"Loading...":"Refresh All Data"})]})]})]})]})]})]}),(0,ct.jsx)(MS,{show:I,onClose:()=>A(!1),data:E})]})},TS=e=>{switch(!0){case e<=1:return{icon:He,description:"Clear"};case e<=3:return{icon:We,description:"Cloudy"};case e>=51&&e<=67:return{icon:qe,description:"Rain"};case e>=80&&e<=82:return{icon:qe,description:"Heavy Rain"};case e>=95&&e<=99:return{icon:Ke,description:"Thunderstorm"};default:return{icon:We,description:"Cloudy"}}},DS=e=>{let{show:t,onClose:n,data:i}=e;return(0,ct.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),children:(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl transform transition-all duration-300 ".concat(t?"scale-100 opacity-100":"scale-95 opacity-0"),children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"5-Day Weather Forecast"}),(0,ct.jsx)("button",{onClick:n,className:"p-1 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-800",children:(0,ct.jsx)(Ge,{className:"w-6 h-6"})})]}),i&&i.daily?(0,ct.jsx)("div",{className:"space-y-3",children:i.daily.time.slice(0,5).map((e,t)=>{const{icon:n,description:s}=TS(i.daily.weather_code[t]);return(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-center bg-gray-50 p-3 rounded-lg border",children:[(0,ct.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,ct.jsx)("p",{className:"font-semibold text-gray-800",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(n,{className:"w-8 h-8 text-gray-600"}),(0,ct.jsx)("span",{className:"text-sm text-gray-600 hidden md:block",children:s})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-blue-500"}),(0,ct.jsxs)("span",{className:"font-medium text-gray-700",children:[i.daily.precipitation_sum[t]," mm"]})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-red-500"}),(0,ct.jsxs)("span",{className:"font-medium text-gray-700",children:[Math.round(i.daily.temperature_2m_max[t]),"\xb0 / ",Math.round(i.daily.temperature_2m_min[t]),"\xb0C"]})]}),(0,ct.jsxs)("div",{className:"col-span-2 md:col-span-2 text-sm md:text-right space-y-1",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-end space-x-2",children:[(0,ct.jsx)(Qe,{className:"w-5 h-5 text-orange-400"}),(0,ct.jsx)("span",{children:new Date(i.daily.sunrise[t]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-start md:justify-end space-x-2",children:[(0,ct.jsx)($e,{className:"w-5 h-5 text-indigo-500"}),(0,ct.jsx)("span",{children:new Date(i.daily.sunset[t]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]},t)})}):(0,ct.jsxs)("div",{className:"text-center py-10",children:[" ",(0,ct.jsx)("p",{children:"Loading forecast data..."})," "]})]})})},jS=e=>{let{data:t,loading:n,onMoreDetailsClick:i}=e;if(n||!t||!t.hourly||!t.daily||!t.hourly.weathercode)return(0,ct.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200 text-center h-full flex items-center justify-center",children:(0,ct.jsx)("p",{className:"text-gray-500",children:"Loading Weather Data..."})});const s=(new Date).getHours(),r=t.hourly.temperature_2m[s],o=t.hourly.relative_humidity_2m[s],a=t.hourly.weathercode[s],{icon:l,description:c}=TS(a);return(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl p-6 shadow-md border border-gray-200 flex flex-col justify-between h-full",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Selangor"}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:c})]}),(0,ct.jsx)(l,{className:"w-16 h-16 text-slate-700"})]}),(0,ct.jsxs)("p",{className:"text-6xl font-bold text-slate-800 mb-6",children:[Math.round(r),"\xb0C"]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-slate-600 mb-3 text-center",children:"Next Few Hours"}),(0,ct.jsx)("div",{className:"flex justify-between items-center space-x-2 md:space-x-4 px-2 py-3 bg-slate-100 rounded-lg",children:t.hourly.time.slice(s+1,s+6).map((e,n)=>{const i=s+1+n,{icon:r}=TS(t.hourly.weathercode[i]);return(0,ct.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,ct.jsx)("span",{className:"text-xs font-medium text-slate-500",children:new Date(e).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0})}),(0,ct.jsx)(r,{className:"w-7 h-7 text-slate-600"}),(0,ct.jsxs)("span",{className:"text-md font-bold text-slate-700",children:[Math.round(t.hourly.temperature_2m[i]),"\xb0"]})]},e)})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600 mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Xe,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,ct.jsxs)("span",{children:["Humidity: ",o,"%"]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,ct.jsxs)("span",{children:["Rain: ",t.hourly.rain[s]," mm"]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qe,{className:"w-5 h-5 text-orange-500 mr-2"}),(0,ct.jsx)("span",{children:new Date(t.daily.sunrise[0]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)($e,{className:"w-5 h-5 text-indigo-500 mr-2"}),(0,ct.jsx)("span",{children:new Date(t.daily.sunset[0]).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,ct.jsx)("button",{onClick:i,disabled:n,className:"w-full text-center bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold px-4 py-2 rounded-lg text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"View 5-Day Details"})]})},PS=()=>{var e,n;const{isConnected:i,wsConnected:s,error:r,loading:o,getDataByFilters:a}=Td(),{status:l,reconnect:c}=Dd(),u="kasturi_orchard",h=_S("dataset_param",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:20}),d=_S("sensors",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:30}),p=(_S("actions",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:15}),_S("history",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:25}),_S("alerts",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:10})),f=(_S("forecast",{where:{field:"sample_id",operator:"==",value:u},orderBy:{field:"timestamp",direction:"desc"},limit:7}),(null===(e=d.data)||void 0===e?void 0:e.length)>0?d.data:[]),g=d.loading,m=d.error,v=()=>{console.log("Firestore data updates automatically via real-time listeners")},y=(null===(n=f[0])||void 0===n?void 0:n.timestamp)||(new Date).toISOString(),[b,x]=(0,t.useState)([]),[w,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),M=(0,t.useRef)(null),[L,N]=(0,t.useState)(!1),[T,D]=(0,t.useState)(!1),[j,P]=(0,t.useState)("Kasturi Orchard"),[O,I]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=async()=>{try{const e=await fetch("https://api.open-meteo.com/v1/forecast?latitude=3.50744&longitude=101.1077&hourly=temperature_2m,relative_humidity_2m,rain,is_day,weathercode&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,precipitation_sum&timezone=auto");if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();E(t)}catch(r){console.error("Error fetching weather data:",r)}};e();const t=setInterval(e,3e5);return()=>clearInterval(t)},[]);const A=async()=>{if(!i)return;M.current&&M.current.abort();const e=new AbortController;M.current=e;try{const[t,n,i]=await Promise.all([a("devices",{},{orderBy:{column:"last_seen",direction:"DESC"}},{signal:e.signal}),a("plants",{garden_id:j},{limit:1},{signal:e.signal}),a("production",{month:(new Date).getMonth()+1,year:(new Date).getFullYear()},{limit:1},{signal:e.signal})]);x(t||[]),_((null===n||void 0===n?void 0:n[0])||null),S((null===i||void 0===i?void 0:i[0])||null)}catch(r){"AbortError"!==r.name&&console.error("Error fetching additional data:",r)}};(0,t.useEffect)(()=>(A(),()=>{M.current&&M.current.abort()}),[i,j]);const R=(0,t.useMemo)(()=>(null===f||void 0===f?void 0:f[0])||null,[f]),F=(0,t.useMemo)(()=>{var e;return(null===(e=h.data)||void 0===e?void 0:e[0])||null},[h.data]),z=(0,t.useMemo)(()=>{if(!F)return 0;const{total_nitrogen:e,organic_matter:t,total_carbon:n,temperature:i,humidity:s}=F;if(!e||!t||!n||!i||!s)return 0;const r=652168.99*e-113481.12+1228.76*t+-20577.85*n+-1107.59*i+1349.29*s;return Math.max(0,r.toFixed(2))},[F]),V=(0,t.useMemo)(()=>(3.03*z).toFixed(2),[z]),B=(0,t.useMemo)(()=>{if(!f||0===f.length)return{labels:[],datasets:{}};const e=f.reduce((e,t)=>{const n=new Date(t.timestamp||t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e[n]||(e[n]=[]),e[n].push(t),e},{}),t=Object.keys(e).sort((e,t)=>new Date(e)-new Date(t)),n=(n,i,s)=>({label:i,data:t.map(t=>(e[t].reduce((e,t)=>e+(t[n]||0),0)/e[t].length).toFixed(2)),borderColor:s,backgroundColor:"".concat(s,"1A"),borderWidth:2,fill:!0,tension:.4});return{labels:t,datasets:{temperature:n("temperature","Temperature (\xb0C)","#f97316"),humidity:n("humidity","Humidity (%)","#3b82f6"),ph:n("ph","pH Level","#10b981"),nitrogenNPK:n("npk.nitrogen","NPK Nitrogen (ppm)","#8b5cf6")}}},[f]),U=(0,t.useMemo)(()=>{var e,t;const n=F,i=R;return[{icon:Ze,title:"Total Nitrogen",value:null!==n&&void 0!==n&&n.total_nitrogen?"".concat(n.total_nitrogen,"%"):"N/A",description:"Soil nitrogen content",gradient:!0,gradientFrom:"from-green-500",gradientTo:"to-green-600"},{icon:Je,title:"Organic Matter",value:null!==n&&void 0!==n&&n.organic_matter?"".concat(n.organic_matter,"%"):"N/A",description:"Soil organic content",iconColor:"text-orange-500"},{icon:Xe,title:"Total Carbon",value:null!==n&&void 0!==n&&n.total_carbon?"".concat(n.total_carbon,"%"):"N/A",description:"Carbon levels",iconColor:"text-blue-400"},{icon:Ye,title:"Temperature",value:null!==n&&void 0!==n&&n.temperature?"".concat(n.temperature,"\xb0C"):"N/A",description:"Environmental temp",iconColor:"text-red-500"},{icon:et,title:"Humidity",value:null!==i&&void 0!==i&&i.humidity?"".concat(i.humidity,"%"):"N/A",description:"Air moisture",iconColor:"text-sky-500"},{icon:He,title:"pH Level",value:(null===i||void 0===i?void 0:i.ph)||"N/A",description:"Soil acidity",iconColor:"text-yellow-500"},{icon:tt,title:"NPK-N",value:null!==i&&void 0!==i&&null!==(e=i.npk)&&void 0!==e&&e.nitrogen?"".concat(i.npk.nitrogen,"ppm"):"N/A",description:"Available nitrogen",iconColor:"text-indigo-500"},{icon:Ze,title:"NPK-P",value:null!==i&&void 0!==i&&null!==(t=i.npk)&&void 0!==t&&t.phosphorus?"".concat(i.npk.phosphorus,"ppm"):"N/A",description:"Available phosphorus",iconColor:"text-purple-500"}]},[F,R]),H=(0,t.useMemo)(()=>r||m?{Icon:nt,text:"Connection Issues",color:"bg-red-100 text-red-800",pulse:!1}:i?i?{Icon:st,text:"Connected",color:"bg-green-100 text-green-800",pulse:s}:{Icon:rt,text:"Unknown Status",color:"bg-yellow-100 text-yellow-800",pulse:!1}:{Icon:it,text:"Disconnected",color:"bg-gray-200 text-gray-700",pulse:!1},[i,s,r,m]);return(0,ct.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,ct.jsx)(xt,{isOpen:L,onClose:()=>N(!1),isCollapsed:T,onToggleCollapse:()=>D(!T)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(T?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>N(!0),selectedGarden:j,onGardenChange:e=>P(e)}),(0,ct.jsxs)("div",{className:"bg-white border-b px-4 py-2 flex justify-between items-center text-sm sticky top-0 z-10",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ".concat(H.color),children:[(0,ct.jsx)(H.Icon,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:H.text}),H.pulse&&(0,ct.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse",title:"Receiving live data"})]}),y&&(0,ct.jsxs)("span",{className:"text-gray-500 hidden md:block",children:["Last updated: ",new Date(y).toLocaleTimeString("en-US")]})]}),(0,ct.jsxs)("main",{className:"flex-1 px-4 py-6 overflow-auto",children:[(o||g&&!f)&&(0,ct.jsx)("div",{className:"text-center py-12 font-medium text-gray-600",children:"Loading dashboard data..."}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[(0,ct.jsx)(wt,{plantName:(null===w||void 0===w?void 0:w.name)||"Limau Kasturi",description:(null===w||void 0===w?void 0:w.description)||"Kasturi lime cultivation with sustainable farming methods",backgroundImage:(null===w||void 0===w?void 0:w.image_url)||sc,detailsLink:"/plant-details/".concat((null===w||void 0===w?void 0:w.id)||"kasturi")}),(0,ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:U.map((e,t)=>(0,ct.jsx)(kt,Oe(Oe({},e),{},{loading:g&&!R}),t))}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ct.jsx)(Zl,{totalProduction:z,productionUnit:"kg",totalLandArea:(null===k||void 0===k?void 0:k.land_area)||"2.5 hectares",landUsagePercentage:(null===k||void 0===k?void 0:k.land_usage)||0,revenue:"RM ".concat(V),loading:o||g}),(0,ct.jsx)(ic,{sensorData:R,loading:g})]}),(0,ct.jsx)(Gl,{data:B,availableMetrics:[{key:"temperature",label:"Temperature"},{key:"humidity",label:"Humidity"},{key:"ph",label:"pH Level"},{key:"nitrogenNPK",label:"NPK Nitrogen"}],defaultSelectedMetrics:["temperature","humidity"],loading:g,error:m,onRefresh:v}),(0,ct.jsx)(Ld,{})]}),(0,ct.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,ct.jsx)(jS,{data:C,loading:!C,onMoreDetailsClick:()=>I(!0)}),(0,ct.jsx)(Yl,{alerts:p.data||[],onViewAll:()=>{},loading:p.loading}),(0,ct.jsx)(Xl,{devices:b,serialStatus:l,onSerialReconnect:c,loading:o}),(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4",children:[(0,ct.jsx)("h3",{className:"font-semibold text-slate-800 mb-4",children:"Quick Actions"}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("button",{onClick:v,disabled:g,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[(0,ct.jsx)(ot,{className:"w-4 h-4 ".concat(g?"animate-spin":"")}),g?"Refreshing...":"Refresh Sensor Data"]}),(0,ct.jsx)("button",{onClick:c,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md",children:"Reconnect Serial"}),(0,ct.jsx)("button",{onClick:A,disabled:o,className:"w-full bg-slate-500 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:o?"Loading...":"Refresh All Data"})]})]})]})]})]})]}),(0,ct.jsx)(DS,{show:O,onClose:()=>I(!1),data:C})]})};var OS=n(766),IS=n.n(OS);const AS=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],RS="label";function FS(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function zS(e,t){e.labels=t}function VS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RS;const i=[];e.datasets=t.map(t=>{const s=e.datasets.find(e=>e[n]===t[n]);return s&&t.data&&!i.includes(s)?(i.push(s),Object.assign(s,t),s):Oe({},t)})}function BS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RS;const n={labels:[],datasets:[]};return zS(n,e.labels),VS(n,e.datasets,t),n}function US(e,n){const{height:i=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d}=e,p=Ie(e,AS),f=(0,t.useRef)(null),g=(0,t.useRef)(null),m=()=>{f.current&&(g.current=new ia(f.current,{type:a,data:BS(l,o),options:c&&Oe({},c),plugins:u}),FS(n,g.current))},v=()=>{FS(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,t.useEffect)(()=>{!r&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)},[r,c]),(0,t.useEffect)(()=>{!r&&g.current&&zS(g.current.config.data,l.labels)},[r,l.labels]),(0,t.useEffect)(()=>{!r&&g.current&&l.datasets&&VS(g.current.config.data,l.datasets,o)},[r,l.datasets]),(0,t.useEffect)(()=>{g.current&&(r?(v(),setTimeout(m)):g.current.update(d))},[r,c,l.labels,l.datasets,d]),(0,t.useEffect)(()=>{g.current&&(v(),setTimeout(m))},[a]),(0,t.useEffect)(()=>(m(),()=>v()),[]),t.createElement("canvas",Oe({ref:f,role:"img",height:i,width:s},p),h)}const HS=(0,t.forwardRef)(US);function WS(e,n){return ia.register(n),(0,t.forwardRef)((n,i)=>t.createElement(HS,Oe(Oe({},n),{},{ref:i,type:e})))}const qS=WS("line",Sr),KS=WS("bar",wr),GS=WS("radar",Mr),YS=Ue("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),QS=Ue("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),$S=Ue("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),XS=Ue("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]),ZS=Ue("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),JS=Ue("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),eC=Ue("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),tC=Ue("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),nC=Ue("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),iC=n.p+"static/media/image.8570e52cafab36af64d0.png";ia.register(gl,bl,xa,ya,Ma,Il,Xa,dl,Qa,qa);const sC=e=>{let{icon:t,title:n,value:i,unit:s}=e;return(0,ct.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[(0,ct.jsx)("div",{className:"p-3 rounded-full bg-green-50",children:(0,ct.jsx)(t,{className:"w-6 h-6 text-green-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:n}),(0,ct.jsxs)("p",{className:"text-xl font-bold text-slate-800",children:[i," ",(0,ct.jsx)("span",{className:"text-base font-medium text-slate-500",children:s})]})]})]})},rC=e=>{let{title:t,value:n,icon:i,color:s,bgColor:r}=e;const o={green:"text-green-700",red:"text-red-700",slate:"text-slate-700"};return(0,ct.jsx)("div",{className:"".concat({green:"bg-green-100",red:"bg-red-100",slate:"bg-slate-100"}[r]," p-4 rounded-lg border border-slate-200"),children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(i,{className:"w-7 h-7 ".concat(o[s])}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-slate-500",children:t}),(0,ct.jsxs)("p",{className:"text-xl font-bold ".concat(o[s]),children:["Rp ",n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})},oC=e=>{let{icon:t,title:n,value:i,unit:s,description:r}=e;return(0,ct.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6 flex items-start gap-5 h-full",children:[(0,ct.jsx)("div",{className:"p-3 bg-green-100 rounded-lg flex-shrink-0",children:(0,ct.jsx)(t,{className:"w-7 h-7 text-green-700"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-slate-500",children:n}),(0,ct.jsx)("p",{className:"text-4xl font-bold text-slate-800 my-1",children:i.toLocaleString()}),(0,ct.jsx)("p",{className:"text-base font-medium text-slate-600",children:s}),r&&(0,ct.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:r})]})]})},aC=e=>{let{onFileUpload:n,isLoading:i}=e;const[s,r]=(0,t.useState)(null),[o,a]=(0,t.useState)("idle"),[l,c]=(0,t.useState)(""),u=e=>{if(!e||!e.type.startsWith("text/csv"))return a("error"),void c("Please upload a valid CSV file.");r(e),a("processing"),c(""),IS().parse(e,{header:!0,skipEmptyLines:!0,complete:async e=>{await n(e.data)?(a("success"),setTimeout(()=>p(),5e3)):(a("error"),c("Failed to upload data. Check console for details."))},error:e=>{a("error"),c("CSV Parsing Error: ".concat(e.message))}})},h=(e,t)=>{i||(e.preventDefault(),e.stopPropagation(),"over"===t?a("dragging"):"leave"===t&&a("idle"))},d=e=>{i||(h(e,"leave"),u(e.dataTransfer.files[0]))},p=()=>{r(null),a("idle"),c("")};return(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upload New Dataset"}),"idle"===o||"dragging"===o?(0,ct.jsxs)("label",{onDragOver:e=>h(e,"over"),onDragLeave:e=>h(e,"leave"),onDrop:d,className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer transition-colors ".concat("dragging"===o?"border-green-500 bg-green-50":"border-slate-300 bg-slate-50 hover:bg-slate-100"," ").concat(i?"opacity-50 cursor-not-allowed":""),children:[(0,ct.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,ct.jsx)(YS,{className:"w-10 h-10 mb-3 ".concat("dragging"===o?"text-green-600":"text-slate-400")}),(0,ct.jsxs)("p",{className:"mb-2 text-sm text-slate-500",children:[(0,ct.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,ct.jsx)("p",{className:"text-xs text-slate-400",children:"CSV file up to 10MB"})]}),(0,ct.jsx)("input",{type:"file",className:"hidden",accept:".csv",disabled:i,onChange:e=>u(e.target.files[0])})]}):(0,ct.jsxs)("div",{className:"p-4 rounded-lg border ".concat("success"===o?"bg-green-50 border-green-200":"error"===o?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"),children:[(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:["success"===o&&(0,ct.jsx)(Ql,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),"error"===o&&(0,ct.jsx)(nt,{className:"w-8 h-8 text-red-600 flex-shrink-0"}),("processing"===o||i)&&(0,ct.jsx)(QS,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"flex-grow",children:[(0,ct.jsx)("p",{className:"font-semibold text-slate-800 truncate",children:null===s||void 0===s?void 0:s.name}),(0,ct.jsxs)("p",{className:"text-sm text-slate-500",children:[(((null===s||void 0===s?void 0:s.size)||0)/1024).toFixed(1)," KB"]})]}),(0,ct.jsx)("button",{onClick:p,className:"p-2 rounded-full hover:bg-slate-200",children:(0,ct.jsx)(Ge,{className:"w-5 h-5 text-slate-500"})})]}),("processing"===o||i)&&(0,ct.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-sm text-slate-600",children:[(0,ct.jsx)($S,{className:"w-4 h-4 animate-spin"})," ",(0,ct.jsx)("span",{children:"Parsing and uploading data..."})]}),"success"===o&&(0,ct.jsxs)("div",{className:"mt-3 flex items-center gap-3 text-sm font-semibold text-green-700",children:[(0,ct.jsx)(Ql,{className:"w-4 h-4"})," ",(0,ct.jsx)("span",{children:"Upload successful! Data sent to collection."})]}),"error"===o&&(0,ct.jsx)("div",{className:"mt-3 text-sm font-semibold text-red-700",children:l})]})]})},lC=()=>{var e;const{getSensorData:n}=Td(),i="site_a_3_acres",s=kS(i,30),r=SS(i,10),[o,a]=(s.loading,(0,t.useState)(!1)),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(()=>{try{const e=localStorage.getItem("ipcc_csv_data");if(e){const t=JSON.parse(e);return console.log("\ud83d\udd04 Loaded CSV data from localStorage:",t.length,"rows"),t}return[]}catch(e){return console.warn("Failed to load CSV data from localStorage:",e),[]}}),{addDocument:m}=CS("dataset_param");(0,t.useEffect)(()=>{!s.error||l||o||(console.log("\ud83d\udd04 Firestore failed, falling back to API..."),a(!0),n({limit:30}).then(e=>{c(e||v()),console.log("\u2705 Fallback data loaded")}).catch(()=>{console.log("\u26a0\ufe0f API fallback failed, using dummy data"),c(v())}).finally(()=>a(!1)))},[s.error,l,o,n]);const v=()=>{const e=[];for(let t=0;t<30;t++)e.push({timestamp:new Date(Date.now()-24*t*60*60*1e3).toISOString(),temperature:(25+10*Math.random()).toFixed(1),humidity:(60+20*Math.random()).toFixed(1),soil_health:(7+1.5*Math.random()).toFixed(1),nitrogen:(20+10*Math.random()).toFixed(1),phosphorus:(15+8*Math.random()).toFixed(1),potassium:(180+40*Math.random()).toFixed(1),organic_matter:(3.5+2*Math.random()).toFixed(1)});return e},[y,b]=(0,t.useState)(3),x=t.useMemo(()=>s.data&&s.data.length>0?(console.log("\ud83d\udd25 Using Firestore sensor data:",s.data.length,"records"),s.data):l?(console.log("\ud83d\udce1 Using API fallback sensor data:",l.length,"records"),l):(console.log("\ud83c\udfad Using dummy sensor data for demo"),v()),[s.data,l]),w=f.length>0?f.map((e,t)=>({timestamp:new Date(Date.now()-24*t*60*60*1e3).toISOString(),temperature:parseFloat(e.temperature||e.Temperature||e["Temperature (C)"]||0)||25.5,humidity:parseFloat(e.humidity||e.Humidity||0)||65.2,soil_health:parseFloat(e.soil_health||e["Total Carbon (%)"]||e.ph||0)||7.2,nitrogen:parseFloat(e.nitrogen||e["Total Nitrogen (%)"]||e.N||0)||22.1,phosphorus:parseFloat(e.phosphorus||e.P||0)||18.3,potassium:parseFloat(e.potassium||e.K||0)||195.7,organic_matter:parseFloat(e.organic_matter||e["Organic Matter (%)"]||e.om||0)||4.2})):x,[_]=(0,t.useState)({name:"Key Lime",description:"The Key Lime (*Citrus aurantiifolia*) is a small, highly aromatic citrus fruit prized for its distinctively tart and flavorful juice. Unlike other limes, it has a higher acidity, a stronger aroma, and a thinner rind. <br/><br/> Thriving in well-drained soil and sunny conditions, this crop is sensitive to fluctuations in soil pH, moisture, and nutrient balance. This dashboard provides the real-time data crucial for managing these parameters, preventing disease, and ensuring a healthy, high-yield orchard.",imageUrl:iC}),k={siteProfile:{name:_.name,description:_.description},metrics:[{key:"temperature",label:"Temperature",unit:"\xb0C",icon:Ye},{key:"humidity",label:"Humidity",unit:"%",icon:Xe},{key:"soil_health",label:"Soil Health",unit:"pH",icon:Je},{key:"organic_matter",label:"Organic Matter",unit:"%",icon:Ze}],palette:{primary:"#22c55e",primary_transparent:"rgba(34, 197, 94, 0.1)",secondary:"#3b82f6",secondary_transparent:"rgba(59, 130, 246, 0.1)",secondary_light:"#dbeafe",primary_light:"#dcfce7",text_secondary:"#64748b",border:"#e2e8f0"},baseValues:{conventional:{yield:12e3,costBenefit:2.2},regenerative:{yield:15500,costBenefit:3.8}}},S=k.palette,C=t.useMemo(()=>{if(r.data&&r.data.length>0){const e=r.data[0];return console.log("\ud83d\udcb0 Using Firestore financial data:",e),{convCost:e.conventional_cost||5330,regenCost:e.regenerative_cost||4260,revenue:e.revenue||15500}}return console.log("\ud83d\udcb0 Using default financial data"),{convCost:5330,regenCost:4260,revenue:15500}},[r.data]),[E,M]=(0,t.useState)(!1),[L,N]=(0,t.useState)(!1),[T]=(0,t.useState)("Primary Key Lime Orchard"),[D,j]=(0,t.useState)("soil_health"),[P,O]=(0,t.useState)(9),[I,A]=(0,t.useState)(6e3),[R,F]=(0,t.useState)(3),z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",align:"end",labels:{color:S.text_secondary,boxWidth:12}}},scales:{y:{grid:{color:S.border},ticks:{color:S.text_secondary}},x:{grid:{display:!1},ticks:{color:S.text_secondary}}}},V=(0,t.useMemo)(()=>{if(!k||0===w.length)return{latestReading:{},mainLineChartData:{labels:[],datasets:[]},radarData:{labels:[],datasets:[]},nutrientData:{labels:[],datasets:[]},soilHealthTrendData:{labels:[],datasets:[]}};const{palette:e}=k,t=f.length>0?{temperature:parseFloat(f[0].temperature||f[0].Temperature||f[0]["Temperature (C)"]||0)||25.5,humidity:parseFloat(f[0].humidity||f[0].Humidity||0)||65.2,soil_health:parseFloat(f[0].soil_health||f[0]["Total Carbon (%)"]||f[0].ph||0)||7.2,nitrogen:parseFloat(f[0].nitrogen||f[0]["Total Nitrogen (%)"]||f[0].N||0)||22.1,phosphorus:parseFloat(f[0].phosphorus||f[0].P||0)||18.3,potassium:parseFloat(f[0].potassium||f[0].K||0)||195.7,organic_matter:parseFloat(f[0].organic_matter||f[0]["Organic Matter (%)"]||f[0].om||0)||4.2}:w[w.length-1],n=w.map((e,t)=>f.length>0?"Row ".concat(t+1):new Date(e.timestamp).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}));return{latestReading:t,mainLineChartData:{labels:n,datasets:[{label:"Selected Metric",data:w.map(e=>parseFloat(e[D])||0),borderColor:e.primary,backgroundColor:e.primary_transparent,fill:!0,tension:.4,pointRadius:1},{label:"7-Day Moving Average",data:w.map((e,t,n)=>(n.slice(Math.max(0,t-6),t+1).reduce((e,t)=>e+(parseFloat(t[D])||0),0)/Math.min(t+1,7)).toFixed(1)),borderColor:e.secondary,borderDash:[5,5],fill:!1,tension:.4,pointRadius:0}]},radarData:{labels:["Health","Humidity","Nitrogen","Phosphorus","Potassium","Organic Matter"],datasets:[{label:"Current Performance (Avg)",data:["soil_health","humidity","nitrogen","phosphorus","potassium","organic_matter"].map(e=>(w.slice(-7).reduce((t,n)=>t+(parseFloat(n[e])||0),0)/Math.max(1,Math.min(7,w.length))).toFixed(1)),backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"#3b82f6",borderWidth:2}]},nutrientData:{labels:["Nitrogen","Phosphorus","Potassium"],datasets:[{label:"Average Level (ppm)",data:["nitrogen","phosphorus","potassium"].map(e=>(w.reduce((t,n)=>t+(parseFloat(n[e])||0),0)/w.length).toFixed(1)),backgroundColor:["#22c55e","#f59e0b","#8b5cf6"]}]},soilHealthTrendData:{labels:n,datasets:[{label:"Soil Health",data:w.map(e=>parseFloat(e.soil_health)||0),borderColor:e.secondary,backgroundColor:e.secondary_transparent,fill:!0,tension:.3,pointRadius:0}]}}},[w,D,k,f]),B=(0,t.useMemo)(()=>{if(!k)return{yieldChartData:{},costBenefitChartData:{}};const{conventional:e,regenerative:t}=k.baseValues,{palette:n}=k;return{yieldChartData:{labels:["Total Conventional"],datasets:[{label:"Yield Potential (kg/ha)",data:[e.yield,t.yield],backgroundColor:[n.secondary_light,n.primary_light],borderColor:[n.secondary,n.primary],borderWidth:1,borderRadius:4}]},costBenefitChartData:{labels:["Conventional Ref.","Regenerative"],datasets:[{label:"Cost-Benefit Ratio",data:[e.costBenefit,t.costBenefit],backgroundColor:[n.secondary_light,n.primary_light],borderColor:[n.secondary,n.primary],borderWidth:1,borderRadius:4}]}}},[k]),U=(0,t.useMemo)(()=>{if(!k||R<=0)return{totalRegenerativeAreaHa:0,requiredMicroalgae:0,projectedHarvest:0,operationalCost:0};const e=y*R,t=5e-4*(.4*(1e4*e)),n=Math.round(1e3*t);return{totalRegenerativeAreaHa:e,requiredMicroalgae:n,projectedHarvest:Math.round(e*k.baseValues.regenerative.yield),operationalCost:.1*n+2750*(n/1500)}},[R,y,k]);return o.config||o.sensorData?(0,ct.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:[(0,ct.jsx)($S,{className:"w-12 h-12 text-green-600 animate-spin"}),(0,ct.jsx)("p",{className:"ml-4 text-lg font-semibold text-slate-700",children:"Loading Dashboard Data..."})]}):(0,ct.jsxs)("div",{className:"min-h-screen bg-slate-50 flex",children:[(0,ct.jsx)(xt,{isOpen:E,onClose:()=>M(!1),isCollapsed:L,onToggleCollapse:()=>N(!L)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(L?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>M(!0),selectedGarden:k.siteProfile.name,onGardenChange:()=>{}}),(0,ct.jsxs)("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:[(0,ct.jsxs)("div",{className:"mb-4 p-3 border rounded-lg flex items-center gap-2 ".concat(s.loading||s.error?s.loading?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200":"bg-green-50 border-green-200"),children:[(0,ct.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s.loading||s.error?s.loading?"bg-yellow-500 animate-pulse":"bg-red-500":"bg-green-500 animate-pulse")}),(0,ct.jsx)("span",{className:"font-medium ".concat(s.loading||s.error?s.loading?"text-yellow-700":"text-red-700":"text-green-700"),children:s.loading||s.error?s.loading?"\u23f3 Connecting to Firestore...":"\u274c Using Fallback Data - ".concat((null===(e=s.error)||void 0===e?void 0:e.message)||"Connection failed"):"\ud83d\udd25 Firestore Connected - Real-time updates active"})]}),o&&(0,ct.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-2",children:[(0,ct.jsx)($S,{className:"w-4 h-4 text-blue-600 animate-spin"}),(0,ct.jsx)("span",{className:"text-blue-700 font-medium",children:"Loading sensor data..."})]}),(0,ct.jsxs)("div",{className:"relative p-8 rounded-xl shadow-lg overflow-hidden mb-6 bg-cover bg-center",style:{backgroundImage:"url(".concat(_.imageUrl,")")},children:[(0,ct.jsx)("div",{className:"absolute inset-0 bg-black/60"}),(0,ct.jsxs)("div",{className:"relative grid grid-cols-1 md:grid-cols-3 gap-8 text-white",children:[(0,ct.jsxs)("div",{className:"md:col-span-2",children:[(0,ct.jsxs)("h2",{className:"text-3xl font-extrabold mb-3",children:["Crop Profile: ",k.siteProfile.name]}),(0,ct.jsx)("p",{className:"text-slate-200 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:k.siteProfile.description}})]}),(0,ct.jsxs)("div",{className:"p-6 bg-black/30 rounded-lg",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Ideal Soil Set Points"}),(0,ct.jsxs)("ul",{className:"space-y-3 text-base",children:[(0,ct.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Xe,{className:"w-5 h-5 text-green-400"}),(0,ct.jsxs)("span",{children:[(0,ct.jsx)("strong",{children:"CEC:"})," 21,94 "]})]}),(0,ct.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Xe,{className:"w-5 h-5 text-green-400"}),(0,ct.jsxs)("span",{children:[(0,ct.jsx)("strong",{children:"Nitrogen:"})," 0,53 %"]})]}),(0,ct.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ct.jsx)(He,{className:"w-5 h-5 text-green-400"}),(0,ct.jsxs)("span",{children:[(0,ct.jsx)("strong",{children:"Nitrogen (N):"})," 18 - 25 ppm"]})]}),(0,ct.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Je,{className:"w-5 h-5 text-green-400"}),(0,ct.jsxs)("span",{children:[(0,ct.jsx)("strong",{children:"Phosphorus (P):"})," 8 - 25 ppm"]})]}),(0,ct.jsxs)("li",{className:"flex items-center gap-3",children:[(0,ct.jsx)(et,{className:"w-5 h-5 text-green-400"}),(0,ct.jsxs)("span",{children:[(0,ct.jsx)("strong",{children:"Potassium (K):"})," 173,9 ppm"]})]})]})]})]})]}),"                    ",(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[" ",k.metrics.map(e=>{var t;return(0,ct.jsx)(sC,{icon:e.icon,title:e.label,value:(null===(t=V.latestReading)||void 0===t?void 0:t[e.key])||"N/A",unit:e.unit},e.key)})," "]}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsx)(aC,{onFileUpload:async e=>{if(!e||0===e.length)return console.error("No CSV data provided"),!1;h(!0),console.log("\ud83d\ude80 Starting CSV upload process...",e.length,"rows");try{const n=e.map(async(e,t)=>{const n=e=>{if(null===e||void 0===e||""===e)return 0;const t=parseFloat(String(e).replace(/[^\d.-]/g,""));return isNaN(t)?0:t},i={sample_id:"data_analytics_site",source:"csv_upload",temperature:n(e.temperature||e.Temperature||e["Temperature (C)"]||e.temp||0),humidity:n(e.humidity||e.Humidity||e.hum||0),organic_matter:n(e.organic_matter||e["Organic Matter (%)"]||e["Organic Matter"]||e.om||0),nitrogen:n(e.nitrogen||e.Nitrogen||e["Total Nitrogen (%)"]||e.N||0),phosphorus:n(e.phosphorus||e.Phosphorus||e.P||0),potassium:n(e.potassium||e.Potassium||e.K||0),soil_health:n(e.soil_health||e["Soil Health"]||e["Total Carbon (%)"]||e.ph||0),timestamp:(new Date).toISOString(),row_index:t};return console.log("\ud83d\udcca Processing row ".concat(t+1,":"),i),await m(i)}),i=(await Promise.all(n)).filter(e=>e.success).length;console.log("\u2705 CSV upload completed: ".concat(i,"/").concat(e.length," rows saved")),g(e);try{localStorage.setItem("ipcc_csv_data",JSON.stringify(e)),console.log("\u2705 CSV data saved to localStorage")}catch(t){console.warn("Failed to save CSV data to localStorage:",t)}return i>0}catch(t){return console.error("\u274c CSV upload failed:",t),!1}finally{h(!1)}},isLoading:u||d})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2 sm:mb-0",children:"Metric Statistics Over Time"}),(0,ct.jsx)("select",{value:D,onChange:e=>j(e.target.value),className:"text-sm border-slate-300 rounded-md px-3 py-1.5 focus:ring-2 focus:ring-green-300 focus:border-green-300",children:k.metrics.map(e=>(0,ct.jsx)("option",{value:e.key,children:e.label},e.key))})]}),(0,ct.jsx)("div",{className:"h-80",children:(0,ct.jsx)(qS,{data:V.mainLineChartData,options:z})})]}),(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Overall Performance"}),(0,ct.jsx)("div",{className:"h-80",children:(0,ct.jsx)(GS,{data:V.radarData,options:Oe(Oe({},z),{},{scales:{r:{pointLabels:{font:{size:10}},grid:{color:k.palette.border}}}})})})]}),(0,ct.jsxs)("div",{className:"lg:col-span-1 bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Average Nutrient Levels (NPK)"}),(0,ct.jsx)("div",{className:"h-64",children:(0,ct.jsx)(KS,{data:V.nutrientData,options:Oe(Oe({},z),{},{plugins:{legend:{display:!1}}})})})]}),(0,ct.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Soil Health (30-Day Trend)"}),(0,ct.jsx)("p",{className:"text-xs text-slate-500 -mt-3 mb-4",children:"A stable or upward trend indicates positive soil activity."}),(0,ct.jsx)("div",{className:"h-52",children:(0,ct.jsx)(qS,{data:V.soilHealthTrendData,options:Oe(Oe({},z),{},{plugins:{legend:{display:!1}}})})})]})]}),(0,ct.jsxs)("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Regenerative Farming Simulation"}),(0,ct.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6 mb-8",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:"Step 1: Define Regenerative Fields"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-slate-600",children:"Size per Field"}),(0,ct.jsx)("label",{htmlFor:"landarea",className:"block text-sm font-medium text-slate-700 my-1",children:"Enter area per field in Hectares (Ha)"}),(0,ct.jsx)("input",{type:"number",id:"landarea",value:R,onChange:e=>F(Number(e.target.value)),className:"w-full border-slate-300 rounded-md focus:ring-green-500 focus:border-green-500"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ct.jsx)("h4",{className:"font-semibold text-slate-600",children:"Number of Fields"}),(0,ct.jsx)(XS,{className:"w-5 h-5 text-slate-400"})]}),(0,ct.jsx)("p",{className:"text-xs text-slate-500 mb-4",children:"Use the slider to set the number of regenerative fields for this simulation."}),(0,ct.jsx)("input",{type:"range",min:"1",max:"10",value:y,onChange:e=>b(parseInt(e.target.value,10)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-green-600"}),(0,ct.jsxs)("div",{className:"flex justify-between text-sm font-medium text-slate-600 mt-2",children:[(0,ct.jsxs)("span",{children:["Fields: ",(0,ct.jsx)("strong",{children:y})]}),(0,ct.jsxs)("span",{children:["Total Area: ",(0,ct.jsxs)("strong",{children:[U.totalRegenerativeAreaHa.toFixed(2)," Ha"]})]})]})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:"Step 2: Review Simulation Results"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,ct.jsx)(rC,{title:"Conventional Cost Ref. (6-mo)",value:C.convCost,icon:ZS,color:"red",bgColor:"red"}),(0,ct.jsx)(rC,{title:"Regenerative Revenue per Month",value:C.regenCost,icon:JS,color:"green",bgColor:"green"}),(0,ct.jsx)(rC,{title:"Operational Cost per Month",value:U.operationalCost,icon:eC,color:"slate",bgColor:"slate"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[(0,ct.jsx)(oC,{icon:tC,title:"Total Projected Harvest",value:U.projectedHarvest,unit:"Kilograms (kg)",description:"Harvest (Kg) = 23902.86 + (-198.40 * Nitrogen) + (-1831.07 * Organic Matter) + (-241.60 * Carbon)"}),(0,ct.jsx)(oC,{icon:nC,title:"Required Microalgae",value:U.requiredMicroalgae,unit:"Liters (L)",description:"Based on the soil formula for a total of ".concat(U.totalRegenerativeAreaHa.toFixed(2)," Ha and The Ratio Pesticide with MIcroalgae is 1 : 1500")})]}),(0,ct.jsxs)("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[(0,ct.jsx)("h3",{className:"font-bold text-center text-slate-800 mb-4",children:"Yield Potential (kg/ha)"}),(0,ct.jsx)("div",{className:"h-64",children:(0,ct.jsx)(KS,{data:B.yieldChartData,options:Oe(Oe({},z),{},{plugins:{legend:{display:!1}}})})})]}),(0,ct.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[(0,ct.jsx)("h3",{className:"font-bold text-center text-slate-800 mb-4",children:"Cost-Benefit Ratio"}),(0,ct.jsx)("div",{className:"h-64",children:(0,ct.jsx)(KS,{data:B.costBenefitChartData,options:Oe(Oe({},z),{},{plugins:{legend:{display:!1}}})})})]})]})]})]})]})]})]})]})},cC=Ue("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),uC=Ue("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),hC=Ue("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),dC=Ue("fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]),pC=Ue("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),fC=Ue("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),gC=Ue("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),mC=n.p+"static/media/sawah.3158ac4eaeacdf7cbca2.jpg",vC={primary:"#16a34a",primary_light:"rgba(22, 163, 74, 0.15)",secondary:"#475569",secondary_light:"rgba(71, 85, 105, 0.15)",border:"#e2e8f0",text_header:"#1e293b",text_body:"#475569",background:"#f8fafc"},yC="0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",bC=[{value:"10K",label:"FARMERS",description:"Support and collaborate with 10,000 farmers globally, equipping them with sustainable practices to transform agriculture into a regenerative, climate-positive industry."},{value:"100K",label:"HECTARES",description:"Regenerate 100,000 hectares of farmland using zero-carbon techniques, creating fertile, carbon-rich soils that enhance productivity and sustainability."},{value:"1M",label:"TONS OF FOOD",description:"Produce 1,000,000 tons of zero-carbon food, showcasing how sustainable agriculture can meet global food demands while minimizing environmental impact."},{value:"10M",label:"TONS OF CO2",description:"Sequester 10,000,000 tons of CO2, contributing significantly to global climate action through advanced carbon farming and innovative methods."}],xC={title:"Environmental",summary:"Restoring the planet by rebuilding soil health, sequestering carbon, and embracing renewable energy.",icon:cC,borderColor:"#10b981",points:[{title:"Reduce CO2",description:"Actively sequestering carbon from the atmosphere into the soil."},{title:"Optimize Soil Health",description:"Enhancing fertility and water retention to create resilient ecosystems."},{title:"Provide Renewable Energy",description:"Integrating clean energy sources into farming operations to minimize our carbon footprint."}]},wC=[{goal:1,title:"No Poverty",description:"Regenerative farming creates sustainable livelihoods for smallholder farmers through increased soil productivity and reduced input costs.",impact:"20-40% increase in farmer profitability (estimated range)",icon:uC,color:"#E5243B",metrics:[{label:"Input cost reduction",value:"15-25%"},{label:"Yield stability",value:"+improved"}],sources:"Estimated based on reduced input costs and improved yield stability from regenerative practices",disclaimer:"Data ranges based on general regenerative farming studies - specific percentages vary by region and crop"},{goal:2,title:"Zero Hunger",description:"Enhanced soil health and biodiversity lead to more nutritious food production and improved food security for farming communities.",impact:"10-29% yield increase potential in degraded soils",icon:Ze,color:"#DDA63A",metrics:[{label:"Yield resilience",value:"+20-30%"},{label:"Nutrient density",value:"Variable"}],sources:"Gattinger et al. (2012) - meta-analysis of organic vs conventional yields",disclaimer:"Yield improvements typically seen after 3-5 year transition period"},{goal:3,title:"Good Health",description:"Reduced chemical pesticide use and improved soil microbiome contribute to healthier food systems and communities.",impact:"Significant reduction in synthetic chemical exposure",icon:hC,color:"#4C9F38",metrics:[{label:"Pesticide reduction",value:"50-90%"},{label:"Health co-benefits",value:"Positive"}],sources:"Typical reductions in regenerative/organic systems (variable by practice)",disclaimer:"Health benefits are qualitative and vary by implementation"},{goal:6,title:"Clean Water",description:"Regenerative practices improve water retention, reduce erosion, and minimize agricultural runoff that pollutes water sources.",impact:"30-50% improvement in water infiltration rates",icon:Xe,color:"#26BDE2",metrics:[{label:"Water retention",value:"+30-50%"},{label:"Erosion reduction",value:"Up to 90%"}],sources:"Soil Health Institute studies on cover crops and no-till practices",disclaimer:"Results vary significantly by soil type and climate conditions"},{goal:7,title:"Affordable Energy",description:"Integration of renewable energy systems and biogas from organic waste reduces energy costs for farming operations.",impact:"20-40% reduction in external energy inputs",icon:Ke,color:"#FCC30B",metrics:[{label:"Fuel savings",value:"20-30%"},{label:"Energy efficiency",value:"Improved"}],sources:"Estimated from reduced tillage and synthetic fertilizer production energy",disclaimer:"Energy savings primarily from reduced tillage and synthetic inputs"},{goal:13,title:"Climate Action",description:"Carbon sequestration in soils and reduced emissions from synthetic fertilizers contribute significantly to climate mitigation.",impact:"0.3-2.0 tC/ha/yr soil carbon sequestration potential",icon:cC,color:"#3F7E44",metrics:[{label:"Carbon sequestration",value:"0.3-2.0 tC/ha/yr"},{label:"GHG reduction",value:"10-40%"}],sources:"Minasny et al. (2017), Paustian et al. (2016) - soil carbon sequestration studies",disclaimer:"Carbon sequestration rates highly variable by climate, soil type, and management"},{goal:14,title:"Life Below Water",description:"Reduced agricultural runoff and elimination of harmful chemicals protect marine ecosystems and water quality.",impact:"Significant reduction in nutrient and chemical runoff",icon:dC,color:"#0A97D9",metrics:[{label:"Nitrate leaching",value:"-40-70%"},{label:"Chemical runoff",value:"Minimized"}],sources:"Studies on cover crops and reduced fertilizer applications",disclaimer:"Pollution reduction depends on specific practices and watershed characteristics"},{goal:15,title:"Life on Land",description:"Regenerative farming practices restore biodiversity, improve soil health, and create habitats for wildlife.",impact:"2-5x increase in beneficial insect populations",icon:pC,color:"#56C02B",metrics:[{label:"Soil biodiversity",value:"+50-200%"},{label:"Wildlife habitat",value:"Enhanced"}],sources:"Bengtsson et al. (2005) - biodiversity in organic farming systems",disclaimer:"Biodiversity benefits vary greatly by local ecosystem and farming transition period"}],_C={title:"Social",summary:"Fostering trust and collaboration across the entire value chain for shared prosperity.",icon:mt,borderColor:"#f97316",points:[{title:"Enhance Public Trust",description:"Building confidence through transparent and ethical practices."},{title:"Engage The Triple Helix",description:"Fostering innovation through collaboration between university, industry, and government."},{title:"Accelerate Supply Chain",description:"Ensuring efficient and convenient trade transactions from farm to consumer."}]},kC={title:"Governance",summary:"Ensuring a transparent, accountable, and financially robust framework for sustainable growth.",icon:fC,borderColor:"#3b82f6",points:[{title:"Financial Transparency",description:"Providing clear insights into company management and financial health."},{title:"Enhance Accountability",description:"Attracting investors through a responsible and accountable operational model."},{title:"Optimize Tax Revenues",description:"Promoting fiscal responsibility by reducing the potential for tax evasion."}]},SC=e=>{let{title:t,subtitle:n}=e;return(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold ".concat(vC.text_header),children:t}),n&&(0,ct.jsx)("p",{className:"mt-1 max-w-2xl text-base ".concat(vC.text_body),children:n})]})},CC=e=>{let{value:t,label:n,description:i}=e;return(0,ct.jsxs)("div",{className:"flex flex-col md:flex-row rounded-lg overflow-hidden backdrop-blur-md transition-all duration-300 hover:bg-white/20",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[(0,ct.jsx)("div",{className:"p-6 md:w-64 flex-shrink-0 flex items-center justify-center border-b-2 md:border-b-0 md:border-r-2 border-white/20",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("span",{className:"text-5xl lg:text-6xl font-extrabold text-white",children:t}),(0,ct.jsx)("span",{className:"mt-1 block text-lg font-semibold tracking-wider text-green-300",children:n})]})}),(0,ct.jsx)("div",{className:"p-6 flex items-center",children:(0,ct.jsx)("p",{className:"text-base font-medium text-white/90",children:i})})]})},EC=e=>{let{impactData:t}=e;const{title:n,summary:i,icon:s,points:r,borderColor:o}=t;return(0,ct.jsxs)("div",{className:"bg-white rounded-xl flex flex-col h-full transition-all duration-300 hover:shadow-xl hover:-translate-y-1",style:{boxShadow:yC,borderTop:"4px solid ".concat(o)},children:[(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,ct.jsx)("div",{className:"p-3 rounded-full",style:{backgroundColor:"".concat(o,"20")},children:(0,ct.jsx)(s,{className:"w-7 h-7",style:{color:o}})}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:n})]}),(0,ct.jsx)("p",{className:"text-sm text-slate-600",children:i})]}),(0,ct.jsx)("div",{className:"p-6 border-t border-slate-100 flex-grow",children:(0,ct.jsx)("ul",{className:"space-y-4",children:r.map(e=>(0,ct.jsxs)("li",{className:"flex items-start gap-4",children:[(0,ct.jsx)(Ql,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:o}}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h5",{className:"font-semibold text-slate-700",children:e.title}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:e.description})]})]},e.title))})})]})},MC=e=>{let{sdg:t}=e;const{goal:n,title:i,description:s,impact:r,icon:o,color:a,metrics:l,sources:c,disclaimer:u}=t;return(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg",style:{backgroundColor:a},children:n}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:i}),(0,ct.jsxs)("p",{className:"text-sm text-slate-500",children:["SDG Goal ",n]})]})]}),(0,ct.jsx)(o,{className:"w-8 h-8",style:{color:a}})]}),(0,ct.jsx)("p",{className:"text-sm text-slate-600 mb-4 leading-relaxed",children:s}),(0,ct.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[(0,ct.jsx)("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Key Impact:"}),(0,ct.jsx)("p",{className:"text-base font-bold",style:{color:a},children:r})]}),(0,ct.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-4"}),(0,ct.jsxs)("div",{className:"border-t border-slate-200 pt-4",children:[(0,ct.jsxs)("div",{className:"mb-2",children:[(0,ct.jsx)("p",{className:"text-xs font-medium text-slate-600 mb-1",children:"Source:"}),(0,ct.jsx)("p",{className:"text-xs text-slate-500 leading-relaxed",children:c})]}),u&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs font-medium text-amber-600 mb-1",children:"Note:"}),(0,ct.jsx)("p",{className:"text-xs text-amber-600 leading-relaxed",children:u})]})]})]})})},LC=()=>{const e=wC.length;return(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 mb-8",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"SDGs Impact Dashboard"}),(0,ct.jsx)("p",{className:"text-slate-600",children:"How regenerative farming contributes to UN Sustainable Development Goals"}),(0,ct.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"* All data ranges are estimates based on scientific literature and may vary by location, climate, and implementation"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto bg-blue-500 rounded-full flex items-center justify-center mb-2",children:(0,ct.jsx)(uC,{className:"w-8 h-8 text-white"})}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e}),(0,ct.jsx)("p",{className:"text-sm text-slate-600",children:"SDGs Addressed"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto bg-green-500 rounded-full flex items-center justify-center mb-2",children:(0,ct.jsx)(JS,{className:"w-8 h-8 text-white"})}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-green-600",children:"Variable"}),(0,ct.jsx)("p",{className:"text-sm text-slate-600",children:"Impact Range"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto bg-orange-500 rounded-full flex items-center justify-center mb-2",children:(0,ct.jsx)(gC,{className:"w-8 h-8 text-white"})}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:"Research"}),(0,ct.jsx)("p",{className:"text-sm text-slate-600",children:"Based Data"})]})]})]})},NC=()=>{const[e,n]=(0,t.useState)(()=>Array.from({length:30},(e,t)=>({timestamp:new Date((new Date).setDate((new Date).getDate()-(29-t))),regenerative_profit:parseFloat((6700+800*Math.random()-400).toFixed(0)),regenerative_cost:parseFloat((2750+300*Math.random()-150).toFixed(0))}))),[i,s]=(0,t.useState)({gdpGrowth:2.9,agriEmployment:"1.4M",foodSecurityIndex:"81.3"}),[r,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),{profitData:h,costData:d}=(0,t.useMemo)(()=>{if(!e)return{profitData:{labels:[],datasets:[]},costData:{labels:[],datasets:[]}};const t=e.map(e=>e.timestamp.toLocaleDateString("en-GB",{day:"2-digit",month:"short"}));return{profitData:{labels:t,datasets:[{label:"Profit",data:e.map(e=>e.regenerative_profit),borderColor:vC.primary,backgroundColor:vC.primary_light,pointBackgroundColor:"#fff",pointBorderColor:vC.primary,fill:!0,tension:.4}]},costData:{labels:t,datasets:[{label:"Cost",data:e.map(e=>e.regenerative_cost),borderColor:vC.secondary,backgroundColor:vC.secondary_light,pointBackgroundColor:"#fff",pointBorderColor:vC.secondary,fill:!0,tension:.4}]}}},[e]);return(0,ct.jsxs)("div",{className:"min-h-screen bg-slate-50 flex",children:[(0,ct.jsx)(xt,{isOpen:r,onClose:()=>o(!1),isCollapsed:a,onToggleCollapse:()=>l(!a)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(a?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>o(!0),selectedGarden:"Global Impact Program",onGardenChange:()=>{}}),(0,ct.jsxs)("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-auto",children:[(0,ct.jsxs)("div",{className:"relative mb-12 rounded-xl shadow-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(mC,")")}}),(0,ct.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,ct.jsxs)("div",{className:"relative p-6 md:p-8 space-y-4",children:[(0,ct.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight",style:{textShadow:"0 2px 5px rgba(0,0,0,0.5)"},children:"Program Goals"}),(0,ct.jsx)("div",{className:"space-y-6 mt-4",children:bC.map((e,t)=>(0,ct.jsx)(CC,Oe({},e),t))})]})]}),(0,ct.jsxs)("div",{className:"mb-12",children:[(0,ct.jsx)(SC,{title:"UN Sustainable Development Goals Impact",subtitle:"How regenerative farming practices contribute to global sustainability targets and create measurable positive impact."}),(0,ct.jsx)(LC,{}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:wC.map((e,t)=>(0,ct.jsx)(MC,{sdg:e},t))})]}),(0,ct.jsxs)("div",{className:"mb-12",children:[(0,ct.jsx)(SC,{title:"ESG Impact Dimensions",subtitle:"Analyzing the triple bottom line of regenerative agriculture: Environmental, Social, and Governance."}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ct.jsx)(EC,{impactData:xC}),(0,ct.jsx)(EC,{impactData:_C}),(0,ct.jsx)(EC,{impactData:kC})]})]})]})]})]})},TC=e=>{let{icon:t,label:n,value:i,unit:s,status:r}=e;const o={Optimal:{text:"text-green-700",bg:"bg-green-100",icon:(0,ct.jsx)(Ql,{className:"w-4 h-4"})},Waspada:{text:"text-amber-700",bg:"bg-amber-100",icon:(0,ct.jsx)(nt,{className:"w-4 h-4"})},Tindakan:{text:"text-red-700",bg:"bg-red-100",icon:(0,ct.jsx)(nt,{className:"w-4 h-4"})}},a=o[r]||o.Waspada;return(0,ct.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border border-slate-200 flex flex-col justify-between h-full",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 text-slate-500 mb-2",children:[(0,ct.jsx)(t,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"font-semibold text-sm",children:n})]}),(0,ct.jsxs)("div",{className:"text-4xl font-bold text-slate-800",children:[i," ",(0,ct.jsx)("span",{className:"text-2xl font-medium text-slate-500",children:s})]})]}),(0,ct.jsxs)("div",{className:"mt-4 text-xs font-semibold inline-flex items-center gap-2 px-2.5 py-1 rounded-full ".concat(a.bg," ").concat(a.text),children:[a.icon,(0,ct.jsx)("span",{children:r})]})]})},DC=e=>{let{title:t,data:n,metricKey:i,color:s,icon:r}=e;const o={labels:n.map(e=>e.day),datasets:[{label:t,data:n.map(e=>e[i]),borderColor:s,backgroundColor:e=>{const t=e.chart.ctx.createLinearGradient(0,0,0,200);return t.addColorStop(0,"".concat(s,"40")),t.addColorStop(1,"".concat(s,"00")),t},fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:s,borderWidth:2}]};return(0,ct.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border border-slate-200",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ct.jsx)(r,{className:"w-6 h-6",style:{color:s}}),(0,ct.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:t})]}),(0,ct.jsx)("div",{className:"h-64",children:(0,ct.jsx)(Kl,{data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{font:{weight:"600"}}},y:{grid:{color:"#f1f5f9"},border:{dash:[4,4]}}}}})})]})},jC=e=>{let{forecastData:n}=e;const i=(0,t.useMemo)(()=>{var e;const t=[];if(!n||0===n.length)return t;const i=n.map(e=>parseFloat(e.soil_moisture)),s=Math.min(...i),r=null===(e=n[i.indexOf(s)])||void 0===e?void 0:e.day;return s<45?t.push({icon:Xe,color:"text-blue-500",title:"Perlu Irigasi",text:"Kelembapan tanah diperkirakan akan turun signifikan sekitar ".concat(r,". Persiapkan jadwal irigasi untuk menjaga hidrasi tanaman.")}):t.push({icon:Ql,color:"text-green-500",title:"Kelembapan Tanah Stabil",text:"Kondisi kelembapan tanah diperkirakan akan tetap berada pada level yang optimal selama 7 hari ke depan."}),t},[n]);return(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-slate-200",children:[(0,ct.jsx)("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"Rekomendasi & Peringatan"}),(0,ct.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,ct.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-lg",children:[(0,ct.jsx)(e.icon,{className:"w-8 h-8 flex-shrink-0 ".concat(e.color)}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-slate-800",children:e.title}),(0,ct.jsx)("p",{className:"text-sm text-slate-600",children:e.text})]})]},e.title))})]})},PC=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)("Spinach Garden 08"),[r,o]=(0,t.useState)("Forecast"),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)(!0),[p,f]=(0,t.useState)(new Date),g=()=>{d(!0),setTimeout(()=>{const e={temperature:(25+5*Math.random()).toFixed(1),soil_moisture:(60+15*Math.random()).toFixed(1),ph_level:(6.5+.5*Math.random()).toFixed(1),nitrogen:(20+5*Math.random()).toFixed(1),potassium:(28+5*Math.random()).toFixed(1),light_intensity:(800+200*Math.random()).toFixed(0)};l(e),u((e=>{const t=[];let n=parseFloat(e.soil_moisture),i=parseFloat(e.temperature);for(let s=1;s<=7;s++)Math.random()<.2?n+=15+10*Math.random():n-=4+4*Math.random(),n=Math.max(30,Math.min(90,n)),i+=3*(Math.random()-.5),i=Math.max(20,Math.min(35,i)),t.push({day:"+".concat(s," Hari"),temperature:i.toFixed(1),soil_moisture:n.toFixed(1)});return t})(e)),f(new Date),d(!1)},1e3)};(0,t.useEffect)(()=>{g()},[i]);const m=(e,t)=>{const n=parseFloat(t);switch(e){case"temperature":return n>32?"Waspada":"Optimal";case"soil_moisture":return n<50?"Waspada":"Optimal";case"ph_level":return n<6||n>7.5?"Waspada":"Optimal";default:return"Optimal"}},v=[{key:"temperature",label:"Suhu Tanah",icon:Ye,unit:"\xb0C"},{key:"soil_moisture",label:"Kelembapan Tanah",icon:Xe,unit:"%"},{key:"ph_level",label:"Tingkat pH",icon:Je,unit:""},{key:"light_intensity",label:"Intensitas Cahaya",icon:He,unit:"lux"}];return(0,ct.jsxs)("div",{className:"min-h-screen bg-slate-50 flex text-slate-700",children:[(0,ct.jsx)(xt,{isOpen:e,onClose:()=>n(!1),activeItem:r,onItemClick:(e,t)=>o(t)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,ct.jsx)(ht,{onMenuClick:()=>n(!0),selectedGarden:i,onGardenChange:e=>s(e)}),(0,ct.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm border-b border-slate-200 px-6 py-2 flex justify-between items-center text-xs",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)(st,{className:"w-3 h-3 text-emerald-500"}),(0,ct.jsx)("span",{className:"text-emerald-600 font-semibold",children:"Terhubung"})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[(0,ct.jsx)(nc,{className:"w-3 h-3"}),(0,ct.jsxs)("span",{children:["Data diperbarui pada: ",p.toLocaleTimeString()]})]})]}),(0,ct.jsxs)("main",{className:"flex-1 p-6 lg:p-8 overflow-auto",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-8",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Peramalan Kondisi Lahan"}),(0,ct.jsx)("p",{className:"text-slate-500 mt-1",children:"Analisis data real-time dan prediksi untuk 7 hari ke depan."})]}),(0,ct.jsxs)("button",{onClick:g,disabled:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg font-semibold text-sm disabled:opacity-50 flex items-center justify-center gap-2 transition-all duration-200",children:[(0,ct.jsx)(ot,{className:"w-4 h-4 ".concat(h?"animate-spin":"")}),h?"Memuat Ulang...":"Perbarui Data"]})]}),(0,ct.jsxs)("div",{className:"mb-10",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Kondisi Saat Ini"}),h?(0,ct.jsx)("p",{children:"Memuat data..."}):(0,ct.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(e=>(0,ct.jsx)(TC,{icon:e.icon,label:e.label,value:null===a||void 0===a?void 0:a[e.key],unit:e.unit,status:m(e.key,null===a||void 0===a?void 0:a[e.key])},e.key))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Peramalan & Rekomendasi 7 Hari"}),h?(0,ct.jsx)("p",{children:"Memuat peramalan..."}):(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 gap-8",children:[(0,ct.jsx)(DC,{title:"Peramalan Kelembapan Tanah (%)",data:c,metricKey:"soil_moisture",color:"#3b82f6",icon:Xe}),(0,ct.jsx)(DC,{title:"Peramalan Suhu Tanah (\xb0C)",data:c,metricKey:"temperature",color:"#f97316",icon:Ye})]}),(0,ct.jsx)("div",{className:"lg:col-span-1",children:(0,ct.jsx)(jC,{forecastData:c})})]})]})]})]})]})},OC=Ue("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),IC=Ue("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),AC=Ue("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),RC=Ue("alarm-clock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]),FC=Ue("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),zC=Ue("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),VC=Ue("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),BC=Ue("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),UC=Ue("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),HC=Ue("list-todo",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]]),WC={"Apply Pesticide + Foliar":"Dilute solution 1000ml water(3 types of Pesticide (mix and matched from list) - Total 2 Liter) + 2 types Foliar (1litre + 500gm))",Fertilizer_14:"DEEBAJ SUPERGRO NPK x 2unit + Agroharta 2kg",Fertilizer_24:"Organic Fertiliser Guang Fong 25KG x 5unit"},qC={"Apply Pesticide":"Dilute solution 1000ml water(3 types of Pesticide (mix and matched from list) - Total 2L)","Inject Microalgae":"6000L of Microalgae water"},KC=e=>{let{value:t,label:n,icon:i,color:s="slate"}=e;const r={slate:{bg:"bg-slate-100",text:"text-slate-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},red:{bg:"bg-red-100",text:"text-red-600"}};return(0,ct.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-3xl font-bold text-slate-800",children:t}),(0,ct.jsx)("p",{className:"text-sm font-medium text-slate-500 mt-1",children:n})]}),(0,ct.jsx)("div",{className:"p-3 rounded-lg ".concat(r[s].bg),children:(0,ct.jsx)(i,{className:"w-6 h-6 ".concat(r[s].text)})})]})})},GC=e=>{let{events:n,onEventClick:i}=e;const[s,r]=(0,t.useState)(new Date),o=new Date,a=e=>r(t=>new Date(t.getFullYear(),t.getMonth()+e,1)),l=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),c=new Date(s.getFullYear(),s.getMonth(),1).getDay(),u=Array(c).fill(null).concat(Array.from({length:l},(e,t)=>t+1));return(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Task Schedule Calendar"}),(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)("button",{onClick:()=>a(-1),className:"p-2 hover:bg-slate-100 rounded-lg",children:(0,ct.jsx)(OC,{className:"w-5 h-5"})}),(0,ct.jsx)("span",{className:"font-semibold w-36 text-center",children:s.toLocaleString("en-US",{month:"long",year:"numeric"})}),(0,ct.jsx)("button",{onClick:()=>a(1),className:"p-2 hover:bg-slate-100 rounded-lg",children:(0,ct.jsx)(IC,{className:"w-5 h-5"})}),(0,ct.jsx)("button",{onClick:()=>r(new Date),className:"px-4 py-2 bg-slate-700 text-white rounded-lg text-sm font-semibold hover:bg-slate-800",children:"Today"})]})]}),(0,ct.jsx)("div",{className:"grid grid-cols-7 text-center font-semibold text-sm text-slate-600 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,ct.jsx)("div",{children:e},e))}),(0,ct.jsx)("div",{className:"grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:u.map((e,t)=>{const r=((e,t)=>{if(!e)return[];const n=new Date(s.getFullYear(),s.getMonth(),e);return t.filter(e=>{const t=new Date(e.date);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()})})(e,n),a=e===o.getDate()&&s.getMonth()===o.getMonth()&&s.getFullYear()===o.getFullYear();return(0,ct.jsxs)("div",{className:"bg-white min-h-28 p-2 ".concat(a?"bg-blue-50 border-2 border-blue-400":""),children:[(0,ct.jsx)("span",{className:"font-semibold ".concat(a?"text-blue-600":"text-slate-700"),children:e}),(0,ct.jsx)("div",{className:"space-y-1 mt-1",children:r.map((e,t)=>(0,ct.jsx)("div",{onClick:()=>i(e),className:"text-xs text-white rounded px-1.5 py-1 truncate cursor-pointer ".concat("conventional"===e.type?"bg-orange-500 hover:bg-orange-600":"regenerative"===e.type?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"),children:e.title},t))})]},t)})})]})},YC=e=>{let{events:t}=e;const n=new Date;n.setHours(0,0,0,0);const i=t.filter(e=>new Date(e.date)>=n).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(0,3),s=e=>{switch(e){case"Pesticides":return(0,ct.jsx)(et,{className:"w-5 h-5 text-green-600"});case"Soil Agent":return(0,ct.jsx)(Ze,{className:"w-5 h-5 text-green-600"});case"Manual Input":return(0,ct.jsx)(AC,{className:"w-5 h-5 text-blue-600"});default:return(0,ct.jsx)(Xe,{className:"w-5 h-5 text-orange-600"})}},r=e=>{const t=new Date(e).getTime()-n.getTime(),i=Math.ceil(t/864e5);return 0===i?"Today":1===i?"Tomorrow":"".concat(i," days")};return(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upcoming Schedule"}),i.length>0?(0,ct.jsxs)("div",{className:"space-y-4",children:[" ",i.map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-slate-50 border border-slate-200",children:[" ",(0,ct.jsx)("div",{className:"bg-white p-3 rounded-lg border border-slate-200",children:s(e.category)})," ",(0,ct.jsxs)("div",{children:[" ",(0,ct.jsx)("p",{className:"font-bold text-slate-800",children:e.title})," ",(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})," "]})," ",(0,ct.jsxs)("div",{className:"ml-auto text-right",children:[" ",(0,ct.jsxs)("div",{className:"font-bold text-green-600 text-lg flex items-center gap-1.5",children:[(0,ct.jsx)(RC,{className:"w-5 h-5"})," ",r(e.date)]})," "]})," "]},t))," "]}):(0,ct.jsx)("p",{className:"text-center text-slate-500 py-8",children:"No upcoming tasks found in the schedule."})]})},QC=e=>{let{tasks:t,onToggle:n}=e;return(0,ct.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Actionable Tasks (Overdue)"}),t.length>0?(0,ct.jsx)("ul",{className:"space-y-3",children:t.map(e=>(0,ct.jsxs)("li",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,ct.jsx)("button",{onClick:()=>n(e.id),className:"w-6 h-6 mt-1 flex-shrink-0 rounded-md border-2 flex items-center justify-center transition-all ".concat(e.isCompleted?"bg-green-500 border-green-500":"border-slate-300 hover:border-green-500"),children:e.isCompleted&&(0,ct.jsx)(Ql,{className:"w-4 h-4 text-white"})}),(0,ct.jsxs)("div",{className:"flex-grow",children:[(0,ct.jsx)("p",{className:"font-medium ".concat(e.isCompleted?"line-through text-slate-400":"text-slate-700"),children:e.title}),e.description&&(0,ct.jsx)("p",{className:"text-xs ".concat(e.isCompleted?"text-slate-400":"text-slate-500"," mt-0.5"),children:e.description}),(0,ct.jsxs)("p",{className:"text-sm mt-1 ".concat(e.isCompleted?"text-slate-400":"text-red-500"),children:["Due: ",new Date(e.date).toLocaleDateString("en-US")]})]})]},e.id))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ql,{className:"w-12 h-12 mx-auto text-green-500 mb-2"}),(0,ct.jsx)("p",{className:"font-semibold text-slate-700",children:"No Overdue Tasks"}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:"You're all caught up. Great job!"})]})]})},$C=e=>{let{onAddEvent:n}=e;const[i,s]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("");return(0,ct.jsxs)("div",{className:"bg-white p-6 mt-8 rounded-xl shadow-sm border border-slate-200",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Add Manual Task"}),(0,ct.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i||!a)return void u("Judul dan Tanggal wajib diisi.");const[t,c,h]=a.split("-").map(Number),d=new Date(t,c-1,h);n({id:"manual-".concat(Date.now()),date:d,title:i,description:r,type:"manual",category:"Manual Input",isCompleted:!1}),s(""),o(""),l(""),u("")},className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 mb-1",children:"Task Title"}),(0,ct.jsx)("input",{type:"text",id:"title",value:i,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: Cek sistem irigasi"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description (Opsional)"}),(0,ct.jsx)("textarea",{id:"description",value:r,onChange:e=>o(e.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: Pastikan semua sprinkler berfungsi dengan baik"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),(0,ct.jsx)("input",{type:"date",id:"date",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c&&(0,ct.jsx)("p",{className:"text-sm text-red-600",children:c}),(0,ct.jsx)("div",{children:(0,ct.jsxs)("button",{type:"submit",className:"w-full flex justify-center items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,ct.jsx)(AC,{className:"w-5 h-5"})," Add to Calendar"]})})]})]})},XC=e=>{let{isOpen:t,onClose:n,task:i,onDelete:s}=e;return t&&i?(0,ct.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 z-50 flex justify-center items-center p-4 transition-opacity",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg m-4 p-6 relative animate-fade-in-up",children:[(0,ct.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:(0,ct.jsx)(Ge,{className:"w-6 h-6"})}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:i.title}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4 pb-4 border-b",children:[(0,ct.jsx)(FC,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:new Date(i.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,ct.jsx)("h3",{className:"text-md font-semibold text-slate-800 mb-2",children:"Items/Deskripsi:"}),(0,ct.jsx)("p",{className:"text-slate-600 mb-6 min-h-[40px]",children:i.description||"Tidak ada deskripsi untuk tugas ini."}),(0,ct.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,ct.jsx)("button",{onClick:n,className:"px-5 py-2.5 bg-slate-100 text-slate-800 font-semibold rounded-lg hover:bg-slate-200 transition-colors",children:"Close"}),(0,ct.jsxs)("button",{onClick:()=>s(i.id),className:"px-5 py-2.5 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors",children:[(0,ct.jsx)(zC,{className:"w-5 h-5"})," Delete Tasks"]})]})]})}):null},ZC=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[r,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=[];const t=new Date;for(let n=-1;n<12;n++){const i=new Date(t.getFullYear(),t.getMonth()+n,1),s=i.getFullYear(),r=i.getMonth(),o=s<2024||2024===s&&r<8,a=new Date(s,r+1,0).getDate();for(let t=1;t<=a;t++){const n=new Date(s,r,t),i="".concat(n.toISOString());o?([10,20,30].includes(t)&&e.push({id:"".concat(i,"-pesticide"),date:n,title:"Apply Pesticide + Foliar",type:"conventional",category:"Agrochemicals",isCompleted:!1,description:WC["Apply Pesticide + Foliar"]}),14===t&&e.push({id:"".concat(i,"-fertilizer"),date:n,title:"Apply Fertilizer",type:"conventional",category:"Fertilizer",isCompleted:!1,description:WC.Fertilizer_14}),24===t&&e.push({id:"".concat(i,"-fertilizer-organic"),date:n,title:"Apply Fertilizer",type:"conventional",category:"Fertilizer",isCompleted:!1,description:WC.Fertilizer_24})):([1,15].includes(t)&&e.push({id:"".concat(i,"-pesticide-regen"),date:n,title:"Apply Pesticide",type:"regenerative",category:"Pesticides",isCompleted:!1,description:qC["Apply Pesticide"]}),24===t&&e.push({id:"".concat(i,"-microalgae"),date:n,title:"Inject Microalgae",type:"regenerative",category:"Soil Agent",isCompleted:!1,description:qC["Inject Microalgae"]}))}}o(e)},[]);const h=new Date;h.setHours(0,0,0,0);const d=new Date;d.setDate(h.getDate()+7);const p=new Date(h.getFullYear(),h.getMonth(),1),f=new Date(h.getFullYear(),h.getMonth()+1,0),g=r.filter(e=>new Date(e.date)>=h&&new Date(e.date)<=d).length,m=r.filter(e=>new Date(e.date)<h&&!e.isCompleted),v=r.filter(e=>{const t=new Date(e.date);return t>=p&&t<=f&&e.isCompleted}).length,y=r.filter(e=>{const t=new Date(e.date);return t>=p&&t<=f}).length;return(0,ct.jsxs)("div",{className:"min-h-screen bg-slate-50 flex",children:[(0,ct.jsx)(xt,{isOpen:e,onClose:()=>n(!1),isCollapsed:i,onToggleCollapse:()=>s(!i)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(i?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>n(!0),selectedGarden:"Site A (3 Acres)",onGardenChange:()=>{}}),(0,ct.jsxs)("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-auto",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,ct.jsx)(KC,{value:g,label:"Upcoming (Next 7 Days)",icon:VC,color:"yellow"}),(0,ct.jsx)(KC,{value:m.length,label:"Overdue Tasks",icon:BC,color:"red"}),(0,ct.jsx)(KC,{value:v,label:"Completed (This Month)",icon:UC,color:"green"}),(0,ct.jsx)(KC,{value:y,label:"Total Tasks (This Month)",icon:HC,color:"slate"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,ct.jsxs)("div",{className:"xl:col-span-2",children:[(0,ct.jsx)(GC,{events:r,onEventClick:e=>{u(e),l(!0)}}),(0,ct.jsx)($C,{onAddEvent:e=>{o(t=>[...t,e].sort((e,t)=>new Date(e.date)-new Date(t.date)))}})]}),(0,ct.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,ct.jsx)(YC,{events:r.filter(e=>!e.isCompleted)}),(0,ct.jsx)(QC,{tasks:m,onToggle:e=>{o(t=>t.map(t=>t.id===e?Oe(Oe({},t),{},{isCompleted:!t.isCompleted}):t))}})]})]})]})]}),(0,ct.jsx)(XC,{isOpen:a,onClose:()=>l(!1),task:c,onDelete:e=>{o(t=>t.filter(t=>t.id!==e)),l(!1),u(null)}})]})},JC=Ue("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),eE=Ue("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),tE=Ue("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),nE=Ue("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),iE=Ue("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),sE=Ue("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),rE=Ue("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),oE=Ue("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),aE=n.p+"static/media/ITS.68796e2d5bb2cb70e64e.png",lE=e=>{let{title:t,icon:n}=e;return(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ct.jsx)(n,{className:"w-7 h-7 text-green-600"}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:t})]})},cE=e=>{let{member:t}=e;return(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 h-full flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,ct.jsxs)("div",{className:"text-center flex-grow",children:[(0,ct.jsx)("div",{className:"w-24 h-24 p-1 rounded-full mx-auto mb-4 bg-blue-100 flex items-center justify-center",children:(0,ct.jsx)("img",{src:t.imageUrl,alt:"Profile of ".concat(t.name),className:"w-full h-full rounded-full object-cover"})}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:t.name}),(0,ct.jsx)("p",{className:"font-medium text-slate-500",children:t.role}),t.studentId&&(0,ct.jsx)("p",{className:"text-sm mt-1 text-slate-400",children:t.studentId})]}),(0,ct.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[(0,ct.jsx)("h4",{className:"font-semibold text-green-700 mb-3",children:"Responsibilities:"}),(0,ct.jsx)("ul",{className:"space-y-2 text-sm text-slate-600 text-left",children:t.responsibilities.slice(0,3).map((e,t)=>(0,ct.jsxs)("li",{className:"flex items-start gap-2",children:[(0,ct.jsx)(Ql,{className:"w-5 h-5 flex-shrink-0 text-green-600"}),(0,ct.jsx)("span",{children:e})]},t))}),(0,ct.jsxs)("div",{className:"flex justify-center gap-4 mt-6 pt-4 border-t border-slate-100",children:[(0,ct.jsx)("a",{href:"mailto:".concat(t.email),"aria-label":"Email",className:"p-2 text-slate-400 rounded-full hover:bg-slate-100 hover:text-green-600 transition-colors",children:(0,ct.jsx)(JC,{className:"w-5 h-5"})}),(0,ct.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"p-2 text-slate-400 rounded-full hover:bg-slate-100 hover:text-green-600 transition-colors",children:(0,ct.jsx)(eE,{className:"w-5 h-5"})}),(0,ct.jsx)("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"p-2 text-slate-400 rounded-full hover:bg-slate-100 hover:text-green-600 transition-colors",children:(0,ct.jsx)(tE,{className:"w-5 h-5"})})]})]})]})},uE=e=>{let{member:t}=e;return(0,ct.jsxs)("div",{className:"relative bg-slate-800 text-white rounded-xl p-6 h-full flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-slate-700",children:[(0,ct.jsx)("div",{className:"absolute top-4 right-4 bg-yellow-400 text-slate-900 px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider",children:"Supervisor"}),(0,ct.jsxs)("div",{className:"text-center flex-grow",children:[(0,ct.jsx)("div",{className:"w-24 h-24 p-1 rounded-full mx-auto mb-4 bg-slate-700",children:(0,ct.jsx)("img",{src:t.imageUrl,alt:"Profile of ".concat(t.name),className:"w-full h-full rounded-full object-cover"})}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-white",children:t.name}),(0,ct.jsx)("p",{className:"font-medium text-slate-300",children:t.role})]}),(0,ct.jsxs)("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"rgba(255, 255, 255, 0.2)"},children:[(0,ct.jsx)("h4",{className:"font-semibold text-green-400 mb-3",children:"Responsibilities:"}),(0,ct.jsx)("ul",{className:"space-y-2 text-sm text-slate-300 text-left",children:t.responsibilities.map((e,t)=>(0,ct.jsxs)("li",{className:"flex items-start gap-2",children:[(0,ct.jsx)(Ql,{className:"w-5 h-5 flex-shrink-0 text-green-400"}),(0,ct.jsx)("span",{children:e})]},t))})]})]})},hE=()=>(0,ct.jsxs)("div",{className:"mb-12 p-8 bg-slate-700 text-white rounded-xl text-center relative overflow-hidden",children:[(0,ct.jsx)("img",{src:aE,alt:"ITS Campus Background",className:"absolute inset-0 w-full h-full object-cover opacity-30",style:{zIndex:0}}),(0,ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-800 via-slate-800/70 to-transparent"}),(0,ct.jsxs)("div",{className:"relative z-10",children:[(0,ct.jsx)(mt,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),(0,ct.jsx)("h1",{className:"text-4xl font-extrabold mb-20",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:"Verenigen Team"}),(0,ct.jsx)("p",{className:"max-w-3xl mx-auto text-slate-300",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:"Meet the dedicated team of supervisors and students behind the Advanced Agricultural Monitoring System for precision farming and sustainable citrus cultivation."})]})]}),dE=e=>{let{tools:t}=e;return(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,ct.jsx)(lE,{title:"Technologies & Tools Used",icon:nE}),(0,ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(e=>(0,ct.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-50 border border-slate-200",children:[(0,ct.jsx)("div",{className:"p-2 rounded-full",style:{backgroundColor:"".concat(e.color,"20")},children:e.icon}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-slate-800",children:e.name}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:e.category})]})]},e.name))})]})},pE=e=>{let{workflow:t}=e;return(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,ct.jsx)(lE,{title:"Development Workflow",icon:iE}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:t.map(e=>(0,ct.jsxs)("div",{className:"text-center p-4",children:[(0,ct.jsx)("div",{className:"mx-auto mb-3 flex items-center justify-center w-16 h-16 rounded-full",style:{background:"".concat(e.color,"20")},children:e.icon}),(0,ct.jsx)("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:e.phase}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:e.description})]},e.phase))})]})},fE=e=>{let{achievements:t}=e;return(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,ct.jsx)(lE,{title:"Team Contributions & Achievements",icon:sE}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(e=>(0,ct.jsxs)("div",{className:"p-6 rounded-lg bg-slate-50 border border-slate-200 text-center",children:[e.icon,(0,ct.jsx)("h3",{className:"font-bold text-lg text-slate-800 mt-2 mb-2",children:e.title}),(0,ct.jsx)("p",{className:"text-sm text-slate-500",children:e.description})]},e.title))})]})},gE=()=>{const[e,n]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),r=[{name:"React.js",icon:(0,ct.jsx)(nE,{className:"w-6 h-6 text-sky-500"}),color:"#0ea5e9",category:"Frontend"},{name:"Node.js",icon:(0,ct.jsx)(rE,{className:"w-6 h-6 text-green-500"}),color:"#22c55e",category:"Backend"},{name:"Python",icon:(0,ct.jsx)(nE,{className:"w-6 h-6 text-blue-500"}),color:"#3b82f6",category:"Data Analysis"},{name:"FireBase",icon:(0,ct.jsx)(rE,{className:"w-6 h-6 text-lime-600"}),color:"#65a30d",category:"Database"},{name:"IoT",icon:(0,ct.jsx)(rE,{className:"w-6 h-6 text-orange-500"}),color:"#f97316",category:"Cloud/IoT"},{name:"WebSocket",icon:(0,ct.jsx)(rE,{className:"w-6 h-6 text-violet-500"}),color:"#8b5cf6",category:"Real-time"},{name:"Git",icon:(0,ct.jsx)(nE,{className:"w-6 h-6 text-red-500"}),color:"#ef4444",category:"Version Control"},{name:"Tailwind CSS",icon:(0,ct.jsx)(nE,{className:"w-6 h-6 text-cyan-500"}),color:"#06b6d4",category:"Styling"}],o=[{phase:"Planning",icon:(0,ct.jsx)(iE,{className:"w-8 h-8 text-blue-500"}),color:"#3b82f6",description:"Define scope, research, and select technology stack."},{phase:"System Design",icon:(0,ct.jsx)(nE,{className:"w-8 h-8 text-emerald-500"}),color:"#10b981",description:"Architect the system, design database schemas, and create UI wireframes."},{phase:"Development",icon:(0,ct.jsx)(rE,{className:"w-8 h-8 text-amber-500"}),color:"#f59e0b",description:"Build frontend, develop backend APIs, and integrate IoT sensors."},{phase:"Testing",icon:(0,ct.jsx)(Ql,{className:"w-8 h-8 text-red-500"}),color:"#ef4444",description:"Conduct unit tests, integration testing, and performance optimization."},{phase:"Deployment",icon:(0,ct.jsx)(oE,{className:"w-8 h-8 text-violet-500"}),color:"#8b5cf6",description:"Deploy to production, monitor performance, and perform maintenance."}],a=[{title:"Real-time Monitoring",description:"Implemented WebSocket integration for live sensor data updates.",icon:(0,ct.jsx)(oE,{className:"w-8 h-8 text-green-500"})},{title:"Scalable Architecture",description:"Designed a robust backend with optimized database queries for future growth.",icon:(0,ct.jsx)(rE,{className:"w-8 h-8 text-orange-500"})},{title:"User-Centric Design",description:"Developed an intuitive UI with interactive data visualizations for ease of use.",icon:(0,ct.jsx)(sE,{className:"w-8 h-8 text-violet-500"})}];return(0,ct.jsxs)("div",{className:"min-h-screen bg-slate-50 flex",children:[(0,ct.jsx)(xt,{isOpen:e,onClose:()=>n(!1),isCollapsed:i,onToggleCollapse:()=>s(!i)}),(0,ct.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out ".concat(i?"lg:ml-20":"lg:ml-64"),children:[(0,ct.jsx)(ht,{onMenuClick:()=>n(!0),selectedGarden:"Nipis Citrus",onGardenChange:()=>{}}),(0,ct.jsxs)("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-auto",children:[(0,ct.jsx)(hE,{}),(0,ct.jsxs)("div",{className:"mb-12",children:[(0,ct.jsx)(lE,{title:"Project Supervisor",icon:sE}),(0,ct.jsx)("div",{className:"max-w-xl mx-auto",children:(0,ct.jsx)(uE,{member:{name:"Ir. Safira Firdaus",role:"Project Supervisor",imageUrl:"https://avatar.iran.liara.run/public/job/teacher/male",responsibilities:["Oversee project direction","Provide technical guidance","Ensure academic alignment"]}})})]}),(0,ct.jsxs)("div",{className:"mb-12",children:[(0,ct.jsx)(lE,{title:"Student Team Members",icon:mt}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8",children:[{name:"Muhammad Riandy Pratama",role:"Team Leader",studentId:"NIM: 2021001",imageUrl:"https://avatar.iran.liara.run/public/girl",responsibilities:["Lead frontend development","Implement UI/UX design","Coordinate team tasks"],email:"ndyy@example.com",linkedin:"https://linkedin.com/in/ndyy",instagram:"https://instagram.com/ndyy"},{name:"Satrio Adji Purwo",role:"Backend & Data Acquisition",studentId:"NIM: 2021002",imageUrl:"https://avatar.iran.liara.run/public/boy",responsibilities:["Develop and maintain APIs","Optimize database","Implement data processing"],email:"jii@example.com",linkedin:"https://linkedin.com/in/jii",instagram:"https://instagram.com/jii"},{name:"Akhmad Maulvin Nazir Zakaria",role:"Frontend & Hardware",studentId:"NIM: 2021003",imageUrl:"https://avatar.iran.liara.run/public/boy",responsibilities:["Configure IoT devices","Implement serial communication","Frontend integration"],email:"jonathan@example.com",linkedin:"https://linkedin.com/in/jonathan",instagram:"https://instagram.com/jonathan"},{name:"Yus Putri Arum Segar",role:"Data Analyst",studentId:"NIM: 2021004",imageUrl:"https://avatar.iran.liara.run/public/girl",responsibilities:["Analyze sensor data","Develop predictive models","Generate reports"],email:"yuuuss@example.com",linkedin:"https://linkedin.com/in/yuuuss",instagram:"https://instagram.com/yuuuss"}].map(e=>(0,ct.jsx)(cE,{member:e},e.name))})]}),(0,ct.jsxs)("div",{className:"space-y-8",children:[(0,ct.jsx)(dE,{tools:r}),(0,ct.jsx)(pE,{workflow:o}),(0,ct.jsx)(fE,{achievements:a})]})]})]})]})};class mE extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("\ud83d\udea8 ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,ct.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md border border-red-200 max-w-lg",children:[(0,ct.jsx)("div",{className:"text-red-500 mb-4",children:(0,ct.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Something went wrong"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4",children:"The application encountered an unexpected error."}),(0,ct.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"}),!1]})}):this.props.children}}const vE=()=>{const[e,n]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0),[r,o]=(0,t.useState)(null),a=_S("sensors",{orderBy:{field:"timestamp",direction:"desc"},limit:1});return(0,t.useEffect)(()=>{var e,t;console.log("\ud83d\udd0d DynamicOverview: sensorsData state:",{loading:a.loading,error:a.error,dataLength:(null===(e=a.data)||void 0===e?void 0:e.length)||0,data:null===(t=a.data)||void 0===t?void 0:t[0]});const r=setTimeout(()=>{i&&(console.log("\u26a0\ufe0f DynamicOverview: Timeout reached, defaulting to NipisOverview"),n((0,ct.jsx)(NS,{})),s(!1))},1e4);if(a.error)return console.error("\u274c DynamicOverview: Firestore error:",a.error),o(a.error),n((0,ct.jsx)(NS,{})),s(!1),void clearTimeout(r);if(a.data&&a.data.length>0){const e=a.data[0].sample_id||"";console.log("\ud83d\udcca DynamicOverview: Found sample_id:",e),e.toLowerCase().includes("nipis")?(console.log("\ud83c\udf4b DynamicOverview: Routing to NipisOverview"),n((0,ct.jsx)(NS,{}))):(console.log("\ud83d\udfe2 DynamicOverview: Routing to KasturiOverview"),n((0,ct.jsx)(PS,{}))),s(!1),clearTimeout(r)}else a.loading||i||(console.log("\ud83d\udcdd DynamicOverview: No data found, defaulting to NipisOverview"),n((0,ct.jsx)(NS,{})),s(!1),clearTimeout(r));return()=>clearTimeout(r)},[a.data,a.loading,a.error,i]),i||a.loading?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."}),(0,ct.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:a.loading?"Connecting to Firestore...":"Determining component..."})]})}):r?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,ct.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-md border border-red-200",children:[(0,ct.jsx)("div",{className:"text-red-500 mb-4",children:(0,ct.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Connection Error"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Failed to connect to database. Loading default dashboard..."}),(0,ct.jsx)("p",{className:"text-xs text-red-500",children:r.message})]})}):e||(0,ct.jsx)(NS,{})};const yE=function(){return console.log("\ud83d\ude80 App component rendering..."),(0,ct.jsx)(mE,{children:(0,ct.jsx)(Se,{children:(0,ct.jsx)("div",{className:"App",children:(0,ct.jsxs)(ye,{children:[(0,ct.jsx)(me,{path:"/",element:(0,ct.jsx)(ge,{to:"/overview",replace:!0})}),(0,ct.jsx)(me,{path:"/overview",element:(0,ct.jsx)(mE,{children:(0,ct.jsx)(vE,{})})}),(0,ct.jsx)(me,{path:"/nipis",element:(0,ct.jsx)(mE,{children:(0,ct.jsx)(NS,{})})}),(0,ct.jsx)(me,{path:"/kasturi",element:(0,ct.jsx)(mE,{children:(0,ct.jsx)(PS,{})})}),(0,ct.jsx)(me,{path:"/data",element:(0,ct.jsx)(lC,{})}),(0,ct.jsx)(me,{path:"/finance-analytics",element:(0,ct.jsx)(NC,{})}),(0,ct.jsx)(me,{path:"/articles",element:(0,ct.jsx)(PC,{})}),(0,ct.jsx)(me,{path:"/maintenance",element:(0,ct.jsx)(ZC,{})}),(0,ct.jsx)(me,{path:"/team-profile",element:(0,ct.jsx)(gE,{})})]})})})})};s.createRoot(document.getElementById("root")).render((0,ct.jsx)(t.StrictMode,{children:(0,ct.jsx)(yE,{})}))})()})();
//# sourceMappingURL=main.eca0c9c1.js.map